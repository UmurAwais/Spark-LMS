function U8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function bs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nb={exports:{}},Rf={};var hT;function V8(){if(hT)return Rf;hT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:c,ref:i!==void 0?i:null,props:o}}return Rf.Fragment=e,Rf.jsx=n,Rf.jsxs=n,Rf}var mT;function B8(){return mT||(mT=1,nb.exports=V8()),nb.exports}var s=B8(),rb={exports:{}},et={};var pT;function F8(){if(pT)return et;pT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function b(B){return B===null||typeof B!="object"?null:(B=x&&B[x]||B["@@iterator"],typeof B=="function"?B:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function T(B,J,ie){this.props=B,this.context=J,this.refs=N,this.updater=ie||_}T.prototype.isReactComponent={},T.prototype.setState=function(B,J){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,J,"setState")},T.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function O(){}O.prototype=T.prototype;function C(B,J,ie){this.props=B,this.context=J,this.refs=N,this.updater=ie||_}var M=C.prototype=new O;M.constructor=C,S(M,T.prototype),M.isPureReactComponent=!0;var R=Array.isArray;function F(){}var E={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function D(B,J,ie){var ye=ie.ref;return{$$typeof:t,type:B,key:J,ref:ye!==void 0?ye:null,props:ie}}function V(B,J){return D(B.type,J,B.props)}function z(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function $(B){var J={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ie){return J[ie]})}var L=/\/+/g;function se(B,J){return typeof B=="object"&&B!==null&&B.key!=null?$(""+B.key):J.toString(36)}function Ne(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(F,F):(B.status="pending",B.then(function(J){B.status==="pending"&&(B.status="fulfilled",B.value=J)},function(J){B.status==="pending"&&(B.status="rejected",B.reason=J)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function G(B,J,ie,ye,ke){var Le=typeof B;(Le==="undefined"||Le==="boolean")&&(B=null);var de=!1;if(B===null)de=!0;else switch(Le){case"bigint":case"string":case"number":de=!0;break;case"object":switch(B.$$typeof){case t:case e:de=!0;break;case p:return de=B._init,G(de(B._payload),J,ie,ye,ke)}}if(de)return ke=ke(B),de=ye===""?"."+se(B,0):ye,R(ke)?(ie="",de!=null&&(ie=de.replace(L,"$&/")+"/"),G(ke,J,ie,"",function(De){return De})):ke!=null&&(z(ke)&&(ke=V(ke,ie+(ke.key==null||B&&B.key===ke.key?"":(""+ke.key).replace(L,"$&/")+"/")+de)),J.push(ke)),1;de=0;var we=ye===""?".":ye+":";if(R(B))for(var Z=0;Z<B.length;Z++)ye=B[Z],Le=we+se(ye,Z),de+=G(ye,J,ie,Le,ke);else if(Z=b(B),typeof Z=="function")for(B=Z.call(B),Z=0;!(ye=B.next()).done;)ye=ye.value,Le=we+se(ye,Z++),de+=G(ye,J,ie,Le,ke);else if(Le==="object"){if(typeof B.then=="function")return G(Ne(B),J,ie,ye,ke);throw J=String(B),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return de}function H(B,J,ie){if(B==null)return B;var ye=[],ke=0;return G(B,ye,"","",function(Le){return J.call(ie,Le,ke++)}),ye}function ee(B){if(B._status===-1){var J=B._result;J=J(),J.then(function(ie){(B._status===0||B._status===-1)&&(B._status=1,B._result=ie)},function(ie){(B._status===0||B._status===-1)&&(B._status=2,B._result=ie)}),B._status===-1&&(B._status=0,B._result=J)}if(B._status===1)return B._result.default;throw B._result}var W=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},K={map:H,forEach:function(B,J,ie){H(B,function(){J.apply(this,arguments)},ie)},count:function(B){var J=0;return H(B,function(){J++}),J},toArray:function(B){return H(B,function(J){return J})||[]},only:function(B){if(!z(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return et.Activity=g,et.Children=K,et.Component=T,et.Fragment=n,et.Profiler=i,et.PureComponent=C,et.StrictMode=r,et.Suspense=f,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,et.__COMPILER_RUNTIME={__proto__:null,c:function(B){return E.H.useMemoCache(B)}},et.cache=function(B){return function(){return B.apply(null,arguments)}},et.cacheSignal=function(){return null},et.cloneElement=function(B,J,ie){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ye=S({},B.props),ke=B.key;if(J!=null)for(Le in J.key!==void 0&&(ke=""+J.key),J)!I.call(J,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&J.ref===void 0||(ye[Le]=J[Le]);var Le=arguments.length-2;if(Le===1)ye.children=ie;else if(1<Le){for(var de=Array(Le),we=0;we<Le;we++)de[we]=arguments[we+2];ye.children=de}return D(B.type,ke,ye)},et.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},et.createElement=function(B,J,ie){var ye,ke={},Le=null;if(J!=null)for(ye in J.key!==void 0&&(Le=""+J.key),J)I.call(J,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(ke[ye]=J[ye]);var de=arguments.length-2;if(de===1)ke.children=ie;else if(1<de){for(var we=Array(de),Z=0;Z<de;Z++)we[Z]=arguments[Z+2];ke.children=we}if(B&&B.defaultProps)for(ye in de=B.defaultProps,de)ke[ye]===void 0&&(ke[ye]=de[ye]);return D(B,Le,ke)},et.createRef=function(){return{current:null}},et.forwardRef=function(B){return{$$typeof:u,render:B}},et.isValidElement=z,et.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:ee}},et.memo=function(B,J){return{$$typeof:h,type:B,compare:J===void 0?null:J}},et.startTransition=function(B){var J=E.T,ie={};E.T=ie;try{var ye=B(),ke=E.S;ke!==null&&ke(ie,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(F,W)}catch(Le){W(Le)}finally{J!==null&&ie.types!==null&&(J.types=ie.types),E.T=J}},et.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},et.use=function(B){return E.H.use(B)},et.useActionState=function(B,J,ie){return E.H.useActionState(B,J,ie)},et.useCallback=function(B,J){return E.H.useCallback(B,J)},et.useContext=function(B){return E.H.useContext(B)},et.useDebugValue=function(){},et.useDeferredValue=function(B,J){return E.H.useDeferredValue(B,J)},et.useEffect=function(B,J){return E.H.useEffect(B,J)},et.useEffectEvent=function(B){return E.H.useEffectEvent(B)},et.useId=function(){return E.H.useId()},et.useImperativeHandle=function(B,J,ie){return E.H.useImperativeHandle(B,J,ie)},et.useInsertionEffect=function(B,J){return E.H.useInsertionEffect(B,J)},et.useLayoutEffect=function(B,J){return E.H.useLayoutEffect(B,J)},et.useMemo=function(B,J){return E.H.useMemo(B,J)},et.useOptimistic=function(B,J){return E.H.useOptimistic(B,J)},et.useReducer=function(B,J,ie){return E.H.useReducer(B,J,ie)},et.useRef=function(B){return E.H.useRef(B)},et.useState=function(B){return E.H.useState(B)},et.useSyncExternalStore=function(B,J,ie){return E.H.useSyncExternalStore(B,J,ie)},et.useTransition=function(){return E.H.useTransition()},et.version="19.2.0",et}var gT;function Sd(){return gT||(gT=1,rb.exports=F8()),rb.exports}var j=Sd();const qt=bs(j),$8=U8({__proto__:null,default:qt},[j]);var ib={exports:{}},Pf={},ab={exports:{}},sb={};var yT;function q8(){return yT||(yT=1,(function(t){function e(G,H){var ee=G.length;G.push(H);e:for(;0<ee;){var W=ee-1>>>1,K=G[W];if(0<i(K,H))G[W]=H,G[ee]=K,ee=W;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var H=G[0],ee=G.pop();if(ee!==H){G[0]=ee;e:for(var W=0,K=G.length,B=K>>>1;W<B;){var J=2*(W+1)-1,ie=G[J],ye=J+1,ke=G[ye];if(0>i(ie,ee))ye<K&&0>i(ke,ie)?(G[W]=ke,G[ye]=ee,W=ye):(G[W]=ie,G[J]=ee,W=J);else if(ye<K&&0>i(ke,ee))G[W]=ke,G[ye]=ee,W=ye;else break e}}return H}function i(G,H){var ee=G.sortIndex-H.sortIndex;return ee!==0?ee:G.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],h=[],p=1,g=null,x=3,b=!1,_=!1,S=!1,N=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function M(G){for(var H=n(h);H!==null;){if(H.callback===null)r(h);else if(H.startTime<=G)r(h),H.sortIndex=H.expirationTime,e(f,H);else break;H=n(h)}}function R(G){if(S=!1,M(G),!_)if(n(f)!==null)_=!0,F||(F=!0,$());else{var H=n(h);H!==null&&Ne(R,H.startTime-G)}}var F=!1,E=-1,I=5,D=-1;function V(){return N?!0:!(t.unstable_now()-D<I)}function z(){if(N=!1,F){var G=t.unstable_now();D=G;var H=!0;try{e:{_=!1,S&&(S=!1,O(E),E=-1),b=!0;var ee=x;try{t:{for(M(G),g=n(f);g!==null&&!(g.expirationTime>G&&V());){var W=g.callback;if(typeof W=="function"){g.callback=null,x=g.priorityLevel;var K=W(g.expirationTime<=G);if(G=t.unstable_now(),typeof K=="function"){g.callback=K,M(G),H=!0;break t}g===n(f)&&r(f),M(G)}else r(f);g=n(f)}if(g!==null)H=!0;else{var B=n(h);B!==null&&Ne(R,B.startTime-G),H=!1}}break e}finally{g=null,x=ee,b=!1}H=void 0}}finally{H?$():F=!1}}}var $;if(typeof C=="function")$=function(){C(z)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,se=L.port2;L.port1.onmessage=z,$=function(){se.postMessage(null)}}else $=function(){T(z,0)};function Ne(G,H){E=T(function(){G(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(G){switch(x){case 1:case 2:case 3:var H=3;break;default:H=x}var ee=x;x=H;try{return G()}finally{x=ee}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(G,H){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ee=x;x=G;try{return H()}finally{x=ee}},t.unstable_scheduleCallback=function(G,H,ee){var W=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?W+ee:W):ee=W,G){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ee+K,G={id:p++,callback:H,priorityLevel:G,startTime:ee,expirationTime:K,sortIndex:-1},ee>W?(G.sortIndex=ee,e(h,G),n(f)===null&&G===n(h)&&(S?(O(E),E=-1):S=!0,Ne(R,ee-W))):(G.sortIndex=K,e(f,G),_||b||(_=!0,F||(F=!0,$()))),G},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(G){var H=x;return function(){var ee=x;x=H;try{return G.apply(this,arguments)}finally{x=ee}}}})(sb)),sb}var xT;function H8(){return xT||(xT=1,ab.exports=q8()),ab.exports}var ob={exports:{}},Tr={};var vT;function G8(){if(vT)return Tr;vT=1;var t=Sd();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,p)},Tr.flushSync=function(f){var h=c.T,p=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=h,r.p=p,r.d.f()}},Tr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Tr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Tr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:b}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Tr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Tr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Tr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Tr.requestFormReset=function(f){r.d.r(f)},Tr.unstable_batchedUpdates=function(f,h){return f(h)},Tr.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},Tr.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tr.version="19.2.0",Tr}var bT;function o4(){if(bT)return ob.exports;bT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ob.exports=G8(),ob.exports}var wT;function K8(){if(wT)return Pf;wT=1;var t=H8(),e=Sd(),n=o4();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function c(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(r(188))}function h(a){var l=a.alternate;if(!l){if(l=o(a),l===null)throw Error(r(188));return l!==a?null:a}for(var d=a,m=l;;){var v=d.return;if(v===null)break;var w=v.alternate;if(w===null){if(m=v.return,m!==null){d=m;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===d)return f(v),a;if(w===m)return f(v),l;w=w.sibling}throw Error(r(188))}if(d.return!==m.return)d=v,m=w;else{for(var k=!1,U=v.child;U;){if(U===d){k=!0,d=v,m=w;break}if(U===m){k=!0,m=v,d=w;break}U=U.sibling}if(!k){for(U=w.child;U;){if(U===d){k=!0,d=w,m=v;break}if(U===m){k=!0,m=w,d=v;break}U=U.sibling}if(!k)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:l}function p(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=p(a),l!==null)return l;a=a.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),C=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function $(a){return a===null||typeof a!="object"?null:(a=z&&a[z]||a["@@iterator"],typeof a=="function"?a:null)}var L=Symbol.for("react.client.reference");function se(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===L?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case T:return"Profiler";case N:return"StrictMode";case R:return"Suspense";case F:return"SuspenseList";case D:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case _:return"Portal";case C:return a.displayName||"Context";case O:return(a._context.displayName||"Context")+".Consumer";case M:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case E:return l=a.displayName||null,l!==null?l:se(a.type)||"Memo";case I:l=a._payload,a=a._init;try{return se(a(l))}catch{}}return null}var Ne=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},W=[],K=-1;function B(a){return{current:a}}function J(a){0>K||(a.current=W[K],W[K]=null,K--)}function ie(a,l){K++,W[K]=a.current,a.current=l}var ye=B(null),ke=B(null),Le=B(null),de=B(null);function we(a,l){switch(ie(Le,l),ie(ke,a),ie(ye,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?MA(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=MA(l),a=LA(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}J(ye),ie(ye,a)}function Z(){J(ye),J(ke),J(Le)}function De(a){a.memoizedState!==null&&ie(de,a);var l=ye.current,d=LA(l,a.type);l!==d&&(ie(ke,a),ie(ye,d))}function Ee(a){ke.current===a&&(J(ye),J(ke)),de.current===a&&(J(de),Cf._currentValue=ee)}var xe,jt;function Je(a){if(xe===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);xe=l&&l[1]||"",jt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+a+jt}var xt=!1;function Vt(a,l){if(!a||xt)return"";xt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ge){var fe=ge}Reflect.construct(a,[],_e)}else{try{_e.call()}catch(ge){fe=ge}a.call(_e.prototype)}}else{try{throw Error()}catch(ge){fe=ge}(_e=a())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(ge){if(ge&&fe&&typeof ge.stack=="string")return[ge.stack,fe.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),k=w[0],U=w[1];if(k&&U){var Q=k.split(`
`),ue=U.split(`
`);for(v=m=0;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;for(;v<ue.length&&!ue[v].includes("DetermineComponentFrameRoot");)v++;if(m===Q.length||v===ue.length)for(m=Q.length-1,v=ue.length-1;1<=m&&0<=v&&Q[m]!==ue[v];)v--;for(;1<=m&&0<=v;m--,v--)if(Q[m]!==ue[v]){if(m!==1||v!==1)do if(m--,v--,0>v||Q[m]!==ue[v]){var be=`
`+Q[m].replace(" at new "," at ");return a.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",a.displayName)),be}while(1<=m&&0<=v);break}}}finally{xt=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?Je(d):""}function fr(a,l){switch(a.tag){case 26:case 27:case 5:return Je(a.type);case 16:return Je("Lazy");case 13:return a.child!==l&&l!==null?Je("Suspense Fallback"):Je("Suspense");case 19:return Je("SuspenseList");case 0:case 15:return Vt(a.type,!1);case 11:return Vt(a.type.render,!1);case 1:return Vt(a.type,!0);case 31:return Je("Activity");default:return""}}function Ur(a){try{var l="",d=null;do l+=fr(a,d),d=a,a=a.return;while(a);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Jt=Object.prototype.hasOwnProperty,Zt=t.unstable_scheduleCallback,zi=t.unstable_cancelCallback,Ns=t.unstable_shouldYield,ni=t.unstable_requestPaint,Bt=t.unstable_now,yi=t.unstable_getCurrentPriorityLevel,fa=t.unstable_ImmediatePriority,cn=t.unstable_UserBlockingPriority,en=t.unstable_NormalPriority,No=t.unstable_LowPriority,_s=t.unstable_IdlePriority,ha=t.log,_o=t.unstable_setDisableYieldValue,un=null,mn=null;function hr(a){if(typeof ha=="function"&&_o(a),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(un,a)}catch{}}var Ft=Math.clz32?Math.clz32:pa,So=Math.log,ma=Math.LN2;function pa(a){return a>>>=0,a===0?32:31-(So(a)/ma|0)|0}var Vr=256,er=262144,tn=4194304;function Br(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function tr(a,l,d){var m=a.pendingLanes;if(m===0)return 0;var v=0,w=a.suspendedLanes,k=a.pingedLanes;a=a.warmLanes;var U=m&134217727;return U!==0?(m=U&~w,m!==0?v=Br(m):(k&=U,k!==0?v=Br(k):d||(d=U&~a,d!==0&&(v=Br(d))))):(U=m&~w,U!==0?v=Br(U):k!==0?v=Br(k):d||(d=m&~a,d!==0&&(v=Br(d)))),v===0?0:l!==0&&l!==v&&(l&w)===0&&(w=v&-v,d=l&-l,w>=d||w===32&&(d&4194048)!==0)?l:v}function Ar(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function ga(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xi(){var a=tn;return tn<<=1,(tn&62914560)===0&&(tn=4194304),a}function Fr(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function ya(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function X(a,l,d,m,v,w){var k=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var U=a.entanglements,Q=a.expirationTimes,ue=a.hiddenUpdates;for(d=k&~d;0<d;){var be=31-Ft(d),_e=1<<be;U[be]=0,Q[be]=-1;var fe=ue[be];if(fe!==null)for(ue[be]=null,be=0;be<fe.length;be++){var ge=fe[be];ge!==null&&(ge.lane&=-536870913)}d&=~_e}m!==0&&ne(a,m,0),w!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=w&~(k&~l))}function ne(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var m=31-Ft(l);a.entangledLanes|=l,a.entanglements[m]=a.entanglements[m]|1073741824|d&261930}function he(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var m=31-Ft(d),v=1<<m;v&l|a[m]&l&&(a[m]|=l),d&=~v}}function Ae(a,l){var d=l&-l;return d=(d&42)!==0?1:Ie(d),(d&(a.suspendedLanes|l))!==0?0:d}function Ie(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ve(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function qe(){var a=H.p;return a!==0?a:(a=window.event,a===void 0?32:sT(a.type))}function Me(a,l){var d=H.p;try{return H.p=a,l()}finally{H.p=d}}var Y=Math.random().toString(36).slice(2),oe="__reactFiber$"+Y,ae="__reactProps$"+Y,me="__reactContainer$"+Y,Oe="__reactEvents$"+Y,Ze="__reactListeners$"+Y,ct="__reactHandles$"+Y,dn="__reactResources$"+Y,ft="__reactMarker$"+Y;function Nt(a){delete a[oe],delete a[ae],delete a[Oe],delete a[Ze],delete a[ct]}function nr(a){var l=a[oe];if(l)return l;for(var d=a.parentNode;d;){if(l=d[me]||d[oe]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=qA(a);a!==null;){if(d=a[oe])return d;a=qA(a)}return l}a=d,d=a.parentNode}return null}function rr(a){if(a=a[oe]||a[me]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function pn(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function _n(a){var l=a[dn];return l||(l=a[dn]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function nn(a){a[ft]=!0}var xa=new Set,vi={};function $r(a,l){qr(a,l),qr(a+"Capture",l)}function qr(a,l){for(vi[a]=l,a=0;a<l.length;a++)xa.add(l[a])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gn={},Ui={};function Vi(a){return Jt.call(Ui,a)?!0:Jt.call(gn,a)?!1:st.test(a)?Ui[a]=!0:(gn[a]=!0,!1)}function $t(a,l,d){if(Vi(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function ir(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function fn(a,l,d,m){if(m===null)a.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+m)}}function Dn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Eo(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Vd(a,l,d){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,w=m.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return v.call(this)},set:function(k){d=""+k,w.call(this,k)}}),Object.defineProperty(a,l,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function kt(a){if(!a._valueTracker){var l=Eo(a)?"checked":"value";a._valueTracker=Vd(a,l,""+a[l])}}function Fl(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return a&&(m=Eo(a)?a.checked?"true":"false":a.value),a=m,a!==d?(l.setValue(a),!0):!1}function Ua(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var $l=/[\n"\\]/g;function ri(a){return a.replace($l,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Yc(a,l,d,m,v,w,k,U){a.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.type=k:a.removeAttribute("type"),l!=null?k==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Dn(l)):a.value!==""+Dn(l)&&(a.value=""+Dn(l)):k!=="submit"&&k!=="reset"||a.removeAttribute("value"),l!=null?Bd(a,k,Dn(l)):d!=null?Bd(a,k,Dn(d)):m!=null&&a.removeAttribute("value"),v==null&&w!=null&&(a.defaultChecked=!!w),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?a.name=""+Dn(U):a.removeAttribute("name")}function _m(a,l,d,m,v,w,k,U){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),l!=null||d!=null){if(!(w!=="submit"&&w!=="reset"||l!=null)){kt(a);return}d=d!=null?""+Dn(d):"",l=l!=null?""+Dn(l):d,U||l===a.value||(a.value=l),a.defaultValue=l}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=U?a.checked:!!m,a.defaultChecked=!!m,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.name=k),kt(a)}function Bd(a,l,d){l==="number"&&Ua(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Ao(a,l,d,m){if(a=a.options,l){l={};for(var v=0;v<d.length;v++)l["$"+d[v]]=!0;for(d=0;d<a.length;d++)v=l.hasOwnProperty("$"+a[d].value),a[d].selected!==v&&(a[d].selected=v),v&&m&&(a[d].defaultSelected=!0)}else{for(d=""+Dn(d),l=null,v=0;v<a.length;v++){if(a[v].value===d){a[v].selected=!0,m&&(a[v].defaultSelected=!0);return}l!==null||a[v].disabled||(l=a[v])}l!==null&&(l.selected=!0)}}function Sm(a,l,d){if(l!=null&&(l=""+Dn(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+Dn(d):""}function To(a,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(r(92));if(Ne(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=Dn(l),a.defaultValue=d,m=a.textContent,m===d&&m!==""&&m!==null&&(a.value=m),kt(a)}function ii(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var Em=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fd(a,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":m?a.setProperty(l,d):typeof d!="number"||d===0||Em.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function $d(a,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var v in l)m=l[v],l.hasOwnProperty(v)&&d[v]!==m&&Fd(a,v,m)}else for(var w in l)l.hasOwnProperty(w)&&Fd(a,w,l[w])}function Qc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Am=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Co=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xc(a){return Co.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function va(){}var qd=null;function Bi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ko=null,Va=null;function ql(a){var l=rr(a);if(l&&(a=l.stateNode)){var d=a[ae]||null;e:switch(a=l.stateNode,l.type){case"input":if(Yc(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+ri(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==a&&m.form===a.form){var v=m[ae]||null;if(!v)throw Error(r(90));Yc(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===a.form&&Fl(m)}break e;case"textarea":Sm(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Ao(a,!!d.multiple,l,!1)}}}var Jc=!1;function Io(a,l,d){if(Jc)return a(l,d);Jc=!0;try{var m=a(l);return m}finally{if(Jc=!1,(ko!==null||Va!==null)&&(bp(),ko&&(l=ko,a=Va,Va=ko=null,ql(l),a)))for(l=0;l<a.length;l++)ql(a[l])}}function ba(a,l){var d=a.stateNode;if(d===null)return null;var m=d[ae]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var Fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hl=!1;if(Fi)try{var Pt={};Object.defineProperty(Pt,"passive",{get:function(){Hl=!0}}),window.addEventListener("test",Pt,Pt),window.removeEventListener("test",Pt,Pt)}catch{Hl=!1}var Ba=null,Hd=null,Gl=null;function Gd(){if(Gl)return Gl;var a,l=Hd,d=l.length,m,v="value"in Ba?Ba.value:Ba.textContent,w=v.length;for(a=0;a<d&&l[a]===v[a];a++);var k=d-a;for(m=1;m<=k&&l[d-m]===v[w-m];m++);return Gl=v.slice(a,1<m?1-m:void 0)}function Kl(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Ss(){return!0}function wa(){return!1}function mr(a){function l(d,m,v,w,k){this._reactName=d,this._targetInst=v,this.type=m,this.nativeEvent=w,this.target=k,this.currentTarget=null;for(var U in a)a.hasOwnProperty(U)&&(d=a[U],this[U]=d?d(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ss:wa,this.isPropagationStopped=wa,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),l}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=mr(Es),Oo=g({},Es,{view:0,detail:0}),Kd=mr(Oo),Ro,Zc,$a,eu=g({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Po,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==$a&&($a&&a.type==="mousemove"?(Ro=a.screenX-$a.screenX,Zc=a.screenY-$a.screenY):Zc=Ro=0,$a=a),Ro)},movementY:function(a){return"movementY"in a?a.movementY:Zc}}),Wd=mr(eu),Wl=g({},eu,{dataTransfer:0}),Tm=mr(Wl),Cm=g({},Oo,{relatedTarget:0}),Yl=mr(Cm),Yd=g({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),km=mr(Yd),tu=g({},Es,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Im=mr(tu),Om=g({},Es,{data:0}),qa=mr(Om),Rm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mm(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Dm[a])?!!l[a]:!1}function Po(){return Mm}var Hr=g({},Oo,{key:function(a){if(a.key){var l=Rm[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Kl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Pm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Po,charCode:function(a){return a.type==="keypress"?Kl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Kl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Lm=mr(Hr),zm=g({},eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),As=mr(zm),y=g({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Po}),A=mr(y),P=g({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=mr(P),le=g({},eu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),pe=mr(le),Re=g({},Es,{newState:0,oldState:0}),rt=mr(Re),Sn=[9,13,27,32],At=Fi&&"CompositionEvent"in window,rn=null;Fi&&"documentMode"in document&&(rn=document.documentMode);var $i=Fi&&"TextEvent"in window&&!rn,Ha=Fi&&(!At||rn&&8<rn&&11>=rn),ja=" ",Na=!1;function Ql(a,l){switch(a){case"keyup":return Sn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nu(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ru=!1;function cU(a,l){switch(a){case"compositionend":return nu(l);case"keypress":return l.which!==32?null:(Na=!0,ja);case"textInput":return a=l.data,a===ja&&Na?null:a;default:return null}}function uU(a,l){if(ru)return a==="compositionend"||!At&&Ql(a,l)?(a=Gd(),Gl=Hd=Ba=null,ru=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ha&&l.locale!=="ko"?null:l.data;default:return null}}var dU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K_(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!dU[a.type]:l==="textarea"}function W_(a,l,d,m){ko?Va?Va.push(m):Va=[m]:ko=m,l=Ap(l,"onChange"),0<l.length&&(d=new Fa("onChange","change",null,d,m),a.push({event:d,listeners:l}))}var Qd=null,Xd=null;function fU(a){kA(a,0)}function Um(a){var l=pn(a);if(Fl(l))return a}function Y_(a,l){if(a==="change")return l}var Q_=!1;if(Fi){var cx;if(Fi){var ux="oninput"in document;if(!ux){var X_=document.createElement("div");X_.setAttribute("oninput","return;"),ux=typeof X_.oninput=="function"}cx=ux}else cx=!1;Q_=cx&&(!document.documentMode||9<document.documentMode)}function J_(){Qd&&(Qd.detachEvent("onpropertychange",Z_),Xd=Qd=null)}function Z_(a){if(a.propertyName==="value"&&Um(Xd)){var l=[];W_(l,Xd,a,Bi(a)),Io(fU,l)}}function hU(a,l,d){a==="focusin"?(J_(),Qd=l,Xd=d,Qd.attachEvent("onpropertychange",Z_)):a==="focusout"&&J_()}function mU(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Um(Xd)}function pU(a,l){if(a==="click")return Um(l)}function gU(a,l){if(a==="input"||a==="change")return Um(l)}function yU(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var bi=typeof Object.is=="function"?Object.is:yU;function Jd(a,l){if(bi(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var v=d[m];if(!Jt.call(l,v)||!bi(a[v],l[v]))return!1}return!0}function eS(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function tS(a,l){var d=eS(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=l&&m>=l)return{node:d,offset:l-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=eS(d)}}function nS(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?nS(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function rS(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Ua(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=Ua(a.document)}return l}function dx(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var xU=Fi&&"documentMode"in document&&11>=document.documentMode,iu=null,fx=null,Zd=null,hx=!1;function iS(a,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;hx||iu==null||iu!==Ua(m)||(m=iu,"selectionStart"in m&&dx(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Zd&&Jd(Zd,m)||(Zd=m,m=Ap(fx,"onSelect"),0<m.length&&(l=new Fa("onSelect","select",null,l,d),a.push({event:l,listeners:m}),l.target=iu)))}function Xl(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var au={animationend:Xl("Animation","AnimationEnd"),animationiteration:Xl("Animation","AnimationIteration"),animationstart:Xl("Animation","AnimationStart"),transitionrun:Xl("Transition","TransitionRun"),transitionstart:Xl("Transition","TransitionStart"),transitioncancel:Xl("Transition","TransitionCancel"),transitionend:Xl("Transition","TransitionEnd")},mx={},aS={};Fi&&(aS=document.createElement("div").style,"AnimationEvent"in window||(delete au.animationend.animation,delete au.animationiteration.animation,delete au.animationstart.animation),"TransitionEvent"in window||delete au.transitionend.transition);function Jl(a){if(mx[a])return mx[a];if(!au[a])return a;var l=au[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in aS)return mx[a]=l[d];return a}var sS=Jl("animationend"),oS=Jl("animationiteration"),lS=Jl("animationstart"),vU=Jl("transitionrun"),bU=Jl("transitionstart"),wU=Jl("transitioncancel"),cS=Jl("transitionend"),uS=new Map,px="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");px.push("scrollEnd");function _a(a,l){uS.set(a,l),$r(l,[a])}var Vm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},qi=[],su=0,gx=0;function Bm(){for(var a=su,l=gx=su=0;l<a;){var d=qi[l];qi[l++]=null;var m=qi[l];qi[l++]=null;var v=qi[l];qi[l++]=null;var w=qi[l];if(qi[l++]=null,m!==null&&v!==null){var k=m.pending;k===null?v.next=v:(v.next=k.next,k.next=v),m.pending=v}w!==0&&dS(d,v,w)}}function Fm(a,l,d,m){qi[su++]=a,qi[su++]=l,qi[su++]=d,qi[su++]=m,gx|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function yx(a,l,d,m){return Fm(a,l,d,m),$m(a)}function Zl(a,l){return Fm(a,null,null,l),$m(a)}function dS(a,l,d){a.lanes|=d;var m=a.alternate;m!==null&&(m.lanes|=d);for(var v=!1,w=a.return;w!==null;)w.childLanes|=d,m=w.alternate,m!==null&&(m.childLanes|=d),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(v=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,v&&l!==null&&(v=31-Ft(d),a=w.hiddenUpdates,m=a[v],m===null?a[v]=[l]:m.push(l),l.lane=d|536870912),w):null}function $m(a){if(50<jf)throw jf=0,Ev=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var ou={};function jU(a,l,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(a,l,d,m){return new jU(a,l,d,m)}function xx(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ts(a,l){var d=a.alternate;return d===null?(d=wi(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function fS(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function qm(a,l,d,m,v,w){var k=0;if(m=a,typeof a=="function")xx(a)&&(k=1);else if(typeof a=="string")k=A8(a,d,ye.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case D:return a=wi(31,d,l,v),a.elementType=D,a.lanes=w,a;case S:return ec(d.children,v,w,l);case N:k=8,v|=24;break;case T:return a=wi(12,d,l,v|2),a.elementType=T,a.lanes=w,a;case R:return a=wi(13,d,l,v),a.elementType=R,a.lanes=w,a;case F:return a=wi(19,d,l,v),a.elementType=F,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:k=10;break e;case O:k=9;break e;case M:k=11;break e;case E:k=14;break e;case I:k=16,m=null;break e}k=29,d=Error(r(130,a===null?"null":typeof a,"")),m=null}return l=wi(k,d,l,v),l.elementType=a,l.type=m,l.lanes=w,l}function ec(a,l,d,m){return a=wi(7,a,m,l),a.lanes=d,a}function vx(a,l,d){return a=wi(6,a,null,l),a.lanes=d,a}function hS(a){var l=wi(18,null,null,0);return l.stateNode=a,l}function bx(a,l,d){return l=wi(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var mS=new WeakMap;function Hi(a,l){if(typeof a=="object"&&a!==null){var d=mS.get(a);return d!==void 0?d:(l={value:a,source:l,stack:Ur(l)},mS.set(a,l),l)}return{value:a,source:l,stack:Ur(l)}}var lu=[],cu=0,Hm=null,ef=0,Gi=[],Ki=0,Do=null,Ga=1,Ka="";function Cs(a,l){lu[cu++]=ef,lu[cu++]=Hm,Hm=a,ef=l}function pS(a,l,d){Gi[Ki++]=Ga,Gi[Ki++]=Ka,Gi[Ki++]=Do,Do=a;var m=Ga;a=Ka;var v=32-Ft(m)-1;m&=~(1<<v),d+=1;var w=32-Ft(l)+v;if(30<w){var k=v-v%5;w=(m&(1<<k)-1).toString(32),m>>=k,v-=k,Ga=1<<32-Ft(l)+v|d<<v|m,Ka=w+a}else Ga=1<<w|d<<v|m,Ka=a}function wx(a){a.return!==null&&(Cs(a,1),pS(a,1,0))}function jx(a){for(;a===Hm;)Hm=lu[--cu],lu[cu]=null,ef=lu[--cu],lu[cu]=null;for(;a===Do;)Do=Gi[--Ki],Gi[Ki]=null,Ka=Gi[--Ki],Gi[Ki]=null,Ga=Gi[--Ki],Gi[Ki]=null}function gS(a,l){Gi[Ki++]=Ga,Gi[Ki++]=Ka,Gi[Ki++]=Do,Ga=l.id,Ka=l.overflow,Do=a}var pr=null,Kt=null,gt=!1,Mo=null,Wi=!1,Nx=Error(r(519));function Lo(a){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tf(Hi(l,a)),Nx}function yS(a){var l=a.stateNode,d=a.type,m=a.memoizedProps;switch(l[oe]=a,l[ae]=m,d){case"dialog":dt("cancel",l),dt("close",l);break;case"iframe":case"object":case"embed":dt("load",l);break;case"video":case"audio":for(d=0;d<_f.length;d++)dt(_f[d],l);break;case"source":dt("error",l);break;case"img":case"image":case"link":dt("error",l),dt("load",l);break;case"details":dt("toggle",l);break;case"input":dt("invalid",l),_m(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":dt("invalid",l);break;case"textarea":dt("invalid",l),To(l,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||PA(l.textContent,d)?(m.popover!=null&&(dt("beforetoggle",l),dt("toggle",l)),m.onScroll!=null&&dt("scroll",l),m.onScrollEnd!=null&&dt("scrollend",l),m.onClick!=null&&(l.onclick=va),l=!0):l=!1,l||Lo(a,!0)}function xS(a){for(pr=a.return;pr;)switch(pr.tag){case 5:case 31:case 13:Wi=!1;return;case 27:case 3:Wi=!0;return;default:pr=pr.return}}function uu(a){if(a!==pr)return!1;if(!gt)return xS(a),gt=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||Bv(a.type,a.memoizedProps)),d=!d),d&&Kt&&Lo(a),xS(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Kt=$A(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Kt=$A(a)}else l===27?(l=Kt,Xo(a.type)?(a=Gv,Gv=null,Kt=a):Kt=l):Kt=pr?Qi(a.stateNode.nextSibling):null;return!0}function tc(){Kt=pr=null,gt=!1}function _x(){var a=Mo;return a!==null&&(li===null?li=a:li.push.apply(li,a),Mo=null),a}function tf(a){Mo===null?Mo=[a]:Mo.push(a)}var Sx=B(null),nc=null,ks=null;function zo(a,l,d){ie(Sx,l._currentValue),l._currentValue=d}function Is(a){a._currentValue=Sx.current,J(Sx)}function Ex(a,l,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===d)break;a=a.return}}function Ax(a,l,d,m){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var w=v.dependencies;if(w!==null){var k=v.child;w=w.firstContext;e:for(;w!==null;){var U=w;w=v;for(var Q=0;Q<l.length;Q++)if(U.context===l[Q]){w.lanes|=d,U=w.alternate,U!==null&&(U.lanes|=d),Ex(w.return,d,a),m||(k=null);break e}w=U.next}}else if(v.tag===18){if(k=v.return,k===null)throw Error(r(341));k.lanes|=d,w=k.alternate,w!==null&&(w.lanes|=d),Ex(k,d,a),k=null}else k=v.child;if(k!==null)k.return=v;else for(k=v;k!==null;){if(k===a){k=null;break}if(v=k.sibling,v!==null){v.return=k.return,k=v;break}k=k.return}v=k}}function du(a,l,d,m){a=null;for(var v=l,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var k=v.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var U=v.type;bi(v.pendingProps.value,k.value)||(a!==null?a.push(U):a=[U])}}else if(v===de.current){if(k=v.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Cf):a=[Cf])}v=v.return}a!==null&&Ax(l,a,d,m),l.flags|=262144}function Gm(a){for(a=a.firstContext;a!==null;){if(!bi(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function rc(a){nc=a,ks=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function gr(a){return vS(nc,a)}function Km(a,l){return nc===null&&rc(a),vS(a,l)}function vS(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},ks===null){if(a===null)throw Error(r(308));ks=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else ks=ks.next=l;return d}var NU=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,m){a.push(m)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},_U=t.unstable_scheduleCallback,SU=t.unstable_NormalPriority,Mn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tx(){return{controller:new NU,data:new Map,refCount:0}}function nf(a){a.refCount--,a.refCount===0&&_U(SU,function(){a.controller.abort()})}var rf=null,Cx=0,fu=0,hu=null;function EU(a,l){if(rf===null){var d=rf=[];Cx=0,fu=Ov(),hu={status:"pending",value:void 0,then:function(m){d.push(m)}}}return Cx++,l.then(bS,bS),l}function bS(){if(--Cx===0&&rf!==null){hu!==null&&(hu.status="fulfilled");var a=rf;rf=null,fu=0,hu=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function AU(a,l){var d=[],m={status:"pending",value:null,reason:null,then:function(v){d.push(v)}};return a.then(function(){m.status="fulfilled",m.value=l;for(var v=0;v<d.length;v++)(0,d[v])(l)},function(v){for(m.status="rejected",m.reason=v,v=0;v<d.length;v++)(0,d[v])(void 0)}),m}var wS=G.S;G.S=function(a,l){iA=Bt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&EU(a,l),wS!==null&&wS(a,l)};var ic=B(null);function kx(){var a=ic.current;return a!==null?a:zt.pooledCache}function Wm(a,l){l===null?ie(ic,ic.current):ie(ic,l.pool)}function jS(){var a=kx();return a===null?null:{parent:Mn._currentValue,pool:a}}var mu=Error(r(460)),Ix=Error(r(474)),Ym=Error(r(542)),Qm={then:function(){}};function NS(a){return a=a.status,a==="fulfilled"||a==="rejected"}function _S(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(va,va),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,ES(a),a;default:if(typeof l.status=="string")l.then(va,va);else{if(a=zt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(m){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=m}},function(m){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,ES(a),a}throw sc=l,mu}}function ac(a){try{var l=a._init;return l(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(sc=d,mu):d}}var sc=null;function SS(){if(sc===null)throw Error(r(459));var a=sc;return sc=null,a}function ES(a){if(a===mu||a===Ym)throw Error(r(483))}var pu=null,af=0;function Xm(a){var l=af;return af+=1,pu===null&&(pu=[]),_S(pu,a,l)}function sf(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Jm(a,l){throw l.$$typeof===x?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function AS(a){function l(re,te){if(a){var ce=re.deletions;ce===null?(re.deletions=[te],re.flags|=16):ce.push(te)}}function d(re,te){if(!a)return null;for(;te!==null;)l(re,te),te=te.sibling;return null}function m(re){for(var te=new Map;re!==null;)re.key!==null?te.set(re.key,re):te.set(re.index,re),re=re.sibling;return te}function v(re,te){return re=Ts(re,te),re.index=0,re.sibling=null,re}function w(re,te,ce){return re.index=ce,a?(ce=re.alternate,ce!==null?(ce=ce.index,ce<te?(re.flags|=67108866,te):ce):(re.flags|=67108866,te)):(re.flags|=1048576,te)}function k(re){return a&&re.alternate===null&&(re.flags|=67108866),re}function U(re,te,ce,je){return te===null||te.tag!==6?(te=vx(ce,re.mode,je),te.return=re,te):(te=v(te,ce),te.return=re,te)}function Q(re,te,ce,je){var Ke=ce.type;return Ke===S?be(re,te,ce.props.children,je,ce.key):te!==null&&(te.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===I&&ac(Ke)===te.type)?(te=v(te,ce.props),sf(te,ce),te.return=re,te):(te=qm(ce.type,ce.key,ce.props,null,re.mode,je),sf(te,ce),te.return=re,te)}function ue(re,te,ce,je){return te===null||te.tag!==4||te.stateNode.containerInfo!==ce.containerInfo||te.stateNode.implementation!==ce.implementation?(te=bx(ce,re.mode,je),te.return=re,te):(te=v(te,ce.children||[]),te.return=re,te)}function be(re,te,ce,je,Ke){return te===null||te.tag!==7?(te=ec(ce,re.mode,je,Ke),te.return=re,te):(te=v(te,ce),te.return=re,te)}function _e(re,te,ce){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=vx(""+te,re.mode,ce),te.return=re,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case b:return ce=qm(te.type,te.key,te.props,null,re.mode,ce),sf(ce,te),ce.return=re,ce;case _:return te=bx(te,re.mode,ce),te.return=re,te;case I:return te=ac(te),_e(re,te,ce)}if(Ne(te)||$(te))return te=ec(te,re.mode,ce,null),te.return=re,te;if(typeof te.then=="function")return _e(re,Xm(te),ce);if(te.$$typeof===C)return _e(re,Km(re,te),ce);Jm(re,te)}return null}function fe(re,te,ce,je){var Ke=te!==null?te.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Ke!==null?null:U(re,te,""+ce,je);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case b:return ce.key===Ke?Q(re,te,ce,je):null;case _:return ce.key===Ke?ue(re,te,ce,je):null;case I:return ce=ac(ce),fe(re,te,ce,je)}if(Ne(ce)||$(ce))return Ke!==null?null:be(re,te,ce,je,null);if(typeof ce.then=="function")return fe(re,te,Xm(ce),je);if(ce.$$typeof===C)return fe(re,te,Km(re,ce),je);Jm(re,ce)}return null}function ge(re,te,ce,je,Ke){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return re=re.get(ce)||null,U(te,re,""+je,Ke);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case b:return re=re.get(je.key===null?ce:je.key)||null,Q(te,re,je,Ke);case _:return re=re.get(je.key===null?ce:je.key)||null,ue(te,re,je,Ke);case I:return je=ac(je),ge(re,te,ce,je,Ke)}if(Ne(je)||$(je))return re=re.get(ce)||null,be(te,re,je,Ke,null);if(typeof je.then=="function")return ge(re,te,ce,Xm(je),Ke);if(je.$$typeof===C)return ge(re,te,ce,Km(te,je),Ke);Jm(te,je)}return null}function $e(re,te,ce,je){for(var Ke=null,_t=null,He=te,at=te=0,mt=null;He!==null&&at<ce.length;at++){He.index>at?(mt=He,He=null):mt=He.sibling;var St=fe(re,He,ce[at],je);if(St===null){He===null&&(He=mt);break}a&&He&&St.alternate===null&&l(re,He),te=w(St,te,at),_t===null?Ke=St:_t.sibling=St,_t=St,He=mt}if(at===ce.length)return d(re,He),gt&&Cs(re,at),Ke;if(He===null){for(;at<ce.length;at++)He=_e(re,ce[at],je),He!==null&&(te=w(He,te,at),_t===null?Ke=He:_t.sibling=He,_t=He);return gt&&Cs(re,at),Ke}for(He=m(He);at<ce.length;at++)mt=ge(He,re,at,ce[at],je),mt!==null&&(a&&mt.alternate!==null&&He.delete(mt.key===null?at:mt.key),te=w(mt,te,at),_t===null?Ke=mt:_t.sibling=mt,_t=mt);return a&&He.forEach(function(nl){return l(re,nl)}),gt&&Cs(re,at),Ke}function Qe(re,te,ce,je){if(ce==null)throw Error(r(151));for(var Ke=null,_t=null,He=te,at=te=0,mt=null,St=ce.next();He!==null&&!St.done;at++,St=ce.next()){He.index>at?(mt=He,He=null):mt=He.sibling;var nl=fe(re,He,St.value,je);if(nl===null){He===null&&(He=mt);break}a&&He&&nl.alternate===null&&l(re,He),te=w(nl,te,at),_t===null?Ke=nl:_t.sibling=nl,_t=nl,He=mt}if(St.done)return d(re,He),gt&&Cs(re,at),Ke;if(He===null){for(;!St.done;at++,St=ce.next())St=_e(re,St.value,je),St!==null&&(te=w(St,te,at),_t===null?Ke=St:_t.sibling=St,_t=St);return gt&&Cs(re,at),Ke}for(He=m(He);!St.done;at++,St=ce.next())St=ge(He,re,at,St.value,je),St!==null&&(a&&St.alternate!==null&&He.delete(St.key===null?at:St.key),te=w(St,te,at),_t===null?Ke=St:_t.sibling=St,_t=St);return a&&He.forEach(function(z8){return l(re,z8)}),gt&&Cs(re,at),Ke}function Lt(re,te,ce,je){if(typeof ce=="object"&&ce!==null&&ce.type===S&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case b:e:{for(var Ke=ce.key;te!==null;){if(te.key===Ke){if(Ke=ce.type,Ke===S){if(te.tag===7){d(re,te.sibling),je=v(te,ce.props.children),je.return=re,re=je;break e}}else if(te.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===I&&ac(Ke)===te.type){d(re,te.sibling),je=v(te,ce.props),sf(je,ce),je.return=re,re=je;break e}d(re,te);break}else l(re,te);te=te.sibling}ce.type===S?(je=ec(ce.props.children,re.mode,je,ce.key),je.return=re,re=je):(je=qm(ce.type,ce.key,ce.props,null,re.mode,je),sf(je,ce),je.return=re,re=je)}return k(re);case _:e:{for(Ke=ce.key;te!==null;){if(te.key===Ke)if(te.tag===4&&te.stateNode.containerInfo===ce.containerInfo&&te.stateNode.implementation===ce.implementation){d(re,te.sibling),je=v(te,ce.children||[]),je.return=re,re=je;break e}else{d(re,te);break}else l(re,te);te=te.sibling}je=bx(ce,re.mode,je),je.return=re,re=je}return k(re);case I:return ce=ac(ce),Lt(re,te,ce,je)}if(Ne(ce))return $e(re,te,ce,je);if($(ce)){if(Ke=$(ce),typeof Ke!="function")throw Error(r(150));return ce=Ke.call(ce),Qe(re,te,ce,je)}if(typeof ce.then=="function")return Lt(re,te,Xm(ce),je);if(ce.$$typeof===C)return Lt(re,te,Km(re,ce),je);Jm(re,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,te!==null&&te.tag===6?(d(re,te.sibling),je=v(te,ce),je.return=re,re=je):(d(re,te),je=vx(ce,re.mode,je),je.return=re,re=je),k(re)):d(re,te)}return function(re,te,ce,je){try{af=0;var Ke=Lt(re,te,ce,je);return pu=null,Ke}catch(He){if(He===mu||He===Ym)throw He;var _t=wi(29,He,null,re.mode);return _t.lanes=je,_t.return=re,_t}finally{}}}var oc=AS(!0),TS=AS(!1),Uo=!1;function Ox(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rx(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Vo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Bo(a,l,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Tt&2)!==0){var v=m.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),m.pending=l,l=$m(a),dS(a,null,d),l}return Fm(a,m,l,d),$m(a)}function of(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,he(a,d)}}function Px(a,l){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var v=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var k={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};w===null?v=w=k:w=w.next=k,d=d.next}while(d!==null);w===null?v=w=l:w=w.next=l}else v=w=l;d={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var Dx=!1;function lf(){if(Dx){var a=hu;if(a!==null)throw a}}function cf(a,l,d,m){Dx=!1;var v=a.updateQueue;Uo=!1;var w=v.firstBaseUpdate,k=v.lastBaseUpdate,U=v.shared.pending;if(U!==null){v.shared.pending=null;var Q=U,ue=Q.next;Q.next=null,k===null?w=ue:k.next=ue,k=Q;var be=a.alternate;be!==null&&(be=be.updateQueue,U=be.lastBaseUpdate,U!==k&&(U===null?be.firstBaseUpdate=ue:U.next=ue,be.lastBaseUpdate=Q))}if(w!==null){var _e=v.baseState;k=0,be=ue=Q=null,U=w;do{var fe=U.lane&-536870913,ge=fe!==U.lane;if(ge?(ht&fe)===fe:(m&fe)===fe){fe!==0&&fe===fu&&(Dx=!0),be!==null&&(be=be.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var $e=a,Qe=U;fe=l;var Lt=d;switch(Qe.tag){case 1:if($e=Qe.payload,typeof $e=="function"){_e=$e.call(Lt,_e,fe);break e}_e=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Qe.payload,fe=typeof $e=="function"?$e.call(Lt,_e,fe):$e,fe==null)break e;_e=g({},_e,fe);break e;case 2:Uo=!0}}fe=U.callback,fe!==null&&(a.flags|=64,ge&&(a.flags|=8192),ge=v.callbacks,ge===null?v.callbacks=[fe]:ge.push(fe))}else ge={lane:fe,tag:U.tag,payload:U.payload,callback:U.callback,next:null},be===null?(ue=be=ge,Q=_e):be=be.next=ge,k|=fe;if(U=U.next,U===null){if(U=v.shared.pending,U===null)break;ge=U,U=ge.next,ge.next=null,v.lastBaseUpdate=ge,v.shared.pending=null}}while(!0);be===null&&(Q=_e),v.baseState=Q,v.firstBaseUpdate=ue,v.lastBaseUpdate=be,w===null&&(v.shared.lanes=0),Go|=k,a.lanes=k,a.memoizedState=_e}}function CS(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function kS(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)CS(d[a],l)}var gu=B(null),Zm=B(0);function IS(a,l){a=Vs,ie(Zm,a),ie(gu,l),Vs=a|l.baseLanes}function Mx(){ie(Zm,Vs),ie(gu,gu.current)}function Lx(){Vs=Zm.current,J(gu),J(Zm)}var ji=B(null),Yi=null;function Fo(a){var l=a.alternate;ie(En,En.current&1),ie(ji,a),Yi===null&&(l===null||gu.current!==null||l.memoizedState!==null)&&(Yi=a)}function zx(a){ie(En,En.current),ie(ji,a),Yi===null&&(Yi=a)}function OS(a){a.tag===22?(ie(En,En.current),ie(ji,a),Yi===null&&(Yi=a)):$o()}function $o(){ie(En,En.current),ie(ji,ji.current)}function Ni(a){J(ji),Yi===a&&(Yi=null),J(En)}var En=B(0);function ep(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||qv(d)||Hv(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Os=0,it=null,Dt=null,Ln=null,tp=!1,yu=!1,lc=!1,np=0,uf=0,xu=null,TU=0;function yn(){throw Error(r(321))}function Ux(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!bi(a[d],l[d]))return!1;return!0}function Vx(a,l,d,m,v,w){return Os=w,it=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,G.H=a===null||a.memoizedState===null?pE:tv,lc=!1,w=d(m,v),lc=!1,yu&&(w=PS(l,d,m,v)),RS(a),w}function RS(a){G.H=hf;var l=Dt!==null&&Dt.next!==null;if(Os=0,Ln=Dt=it=null,tp=!1,uf=0,xu=null,l)throw Error(r(300));a===null||zn||(a=a.dependencies,a!==null&&Gm(a)&&(zn=!0))}function PS(a,l,d,m){it=a;var v=0;do{if(yu&&(xu=null),uf=0,yu=!1,25<=v)throw Error(r(301));if(v+=1,Ln=Dt=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}G.H=gE,w=l(d,m)}while(yu);return w}function CU(){var a=G.H,l=a.useState()[0];return l=typeof l.then=="function"?df(l):l,a=a.useState()[0],(Dt!==null?Dt.memoizedState:null)!==a&&(it.flags|=1024),l}function Bx(){var a=np!==0;return np=0,a}function Fx(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function $x(a){if(tp){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}tp=!1}Os=0,Ln=Dt=it=null,yu=!1,uf=np=0,xu=null}function Gr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?it.memoizedState=Ln=a:Ln=Ln.next=a,Ln}function An(){if(Dt===null){var a=it.alternate;a=a!==null?a.memoizedState:null}else a=Dt.next;var l=Ln===null?it.memoizedState:Ln.next;if(l!==null)Ln=l,Dt=a;else{if(a===null)throw it.alternate===null?Error(r(467)):Error(r(310));Dt=a,a={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ln===null?it.memoizedState=Ln=a:Ln=Ln.next=a}return Ln}function rp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function df(a){var l=uf;return uf+=1,xu===null&&(xu=[]),a=_S(xu,a,l),l=it,(Ln===null?l.memoizedState:Ln.next)===null&&(l=l.alternate,G.H=l===null||l.memoizedState===null?pE:tv),a}function ip(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return df(a);if(a.$$typeof===C)return gr(a)}throw Error(r(438,String(a)))}function qx(a){var l=null,d=it.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=it.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=rp(),it.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),m=0;m<a;m++)d[m]=V;return l.index++,d}function Rs(a,l){return typeof l=="function"?l(a):l}function ap(a){var l=An();return Hx(l,Dt,a)}function Hx(a,l,d){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var v=a.baseQueue,w=m.pending;if(w!==null){if(v!==null){var k=v.next;v.next=w.next,w.next=k}l.baseQueue=v=w,m.pending=null}if(w=a.baseState,v===null)a.memoizedState=w;else{l=v.next;var U=k=null,Q=null,ue=l,be=!1;do{var _e=ue.lane&-536870913;if(_e!==ue.lane?(ht&_e)===_e:(Os&_e)===_e){var fe=ue.revertLane;if(fe===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),_e===fu&&(be=!0);else if((Os&fe)===fe){ue=ue.next,fe===fu&&(be=!0);continue}else _e={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Q===null?(U=Q=_e,k=w):Q=Q.next=_e,it.lanes|=fe,Go|=fe;_e=ue.action,lc&&d(w,_e),w=ue.hasEagerState?ue.eagerState:d(w,_e)}else fe={lane:_e,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Q===null?(U=Q=fe,k=w):Q=Q.next=fe,it.lanes|=_e,Go|=_e;ue=ue.next}while(ue!==null&&ue!==l);if(Q===null?k=w:Q.next=U,!bi(w,a.memoizedState)&&(zn=!0,be&&(d=hu,d!==null)))throw d;a.memoizedState=w,a.baseState=k,a.baseQueue=Q,m.lastRenderedState=w}return v===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function Gx(a){var l=An(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var m=d.dispatch,v=d.pending,w=l.memoizedState;if(v!==null){d.pending=null;var k=v=v.next;do w=a(w,k.action),k=k.next;while(k!==v);bi(w,l.memoizedState)||(zn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,m]}function DS(a,l,d){var m=it,v=An(),w=gt;if(w){if(d===void 0)throw Error(r(407));d=d()}else d=l();var k=!bi((Dt||v).memoizedState,d);if(k&&(v.memoizedState=d,zn=!0),v=v.queue,Yx(zS.bind(null,m,v,a),[a]),v.getSnapshot!==l||k||Ln!==null&&Ln.memoizedState.tag&1){if(m.flags|=2048,vu(9,{destroy:void 0},LS.bind(null,m,v,d,l),null),zt===null)throw Error(r(349));w||(Os&127)!==0||MS(m,l,d)}return d}function MS(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=it.updateQueue,l===null?(l=rp(),it.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function LS(a,l,d,m){l.value=d,l.getSnapshot=m,US(l)&&VS(a)}function zS(a,l,d){return d(function(){US(l)&&VS(a)})}function US(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!bi(a,d)}catch{return!0}}function VS(a){var l=Zl(a,2);l!==null&&ci(l,a,2)}function Kx(a){var l=Gr();if(typeof a=="function"){var d=a;if(a=d(),lc){hr(!0);try{d()}finally{hr(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:a},l}function BS(a,l,d,m){return a.baseState=d,Hx(a,Dt,typeof m=="function"?m:Rs)}function kU(a,l,d,m,v){if(lp(a))throw Error(r(485));if(a=l.action,a!==null){var w={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){w.listeners.push(k)}};G.T!==null?d(!0):w.isTransition=!1,m(w),d=l.pending,d===null?(w.next=l.pending=w,FS(l,w)):(w.next=d.next,l.pending=d.next=w)}}function FS(a,l){var d=l.action,m=l.payload,v=a.state;if(l.isTransition){var w=G.T,k={};G.T=k;try{var U=d(v,m),Q=G.S;Q!==null&&Q(k,U),$S(a,l,U)}catch(ue){Wx(a,l,ue)}finally{w!==null&&k.types!==null&&(w.types=k.types),G.T=w}}else try{w=d(v,m),$S(a,l,w)}catch(ue){Wx(a,l,ue)}}function $S(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){qS(a,l,m)},function(m){return Wx(a,l,m)}):qS(a,l,d)}function qS(a,l,d){l.status="fulfilled",l.value=d,HS(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,FS(a,d)))}function Wx(a,l,d){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,HS(l),l=l.next;while(l!==m)}a.action=null}function HS(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function GS(a,l){return l}function KS(a,l){if(gt){var d=zt.formState;if(d!==null){e:{var m=it;if(gt){if(Kt){t:{for(var v=Kt,w=Wi;v.nodeType!==8;){if(!w){v=null;break t}if(v=Qi(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){Kt=Qi(v.nextSibling),m=v.data==="F!";break e}}Lo(m)}m=!1}m&&(l=d[0])}}return d=Gr(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:GS,lastRenderedState:l},d.queue=m,d=fE.bind(null,it,m),m.dispatch=d,m=Kx(!1),w=ev.bind(null,it,!1,m.queue),m=Gr(),v={state:l,dispatch:null,action:a,pending:null},m.queue=v,d=kU.bind(null,it,v,w,d),v.dispatch=d,m.memoizedState=a,[l,d,!1]}function WS(a){var l=An();return YS(l,Dt,a)}function YS(a,l,d){if(l=Hx(a,l,GS)[0],a=ap(Rs)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=df(l)}catch(k){throw k===mu?Ym:k}else m=l;l=An();var v=l.queue,w=v.dispatch;return d!==l.memoizedState&&(it.flags|=2048,vu(9,{destroy:void 0},IU.bind(null,v,d),null)),[m,w,a]}function IU(a,l){a.action=l}function QS(a){var l=An(),d=Dt;if(d!==null)return YS(l,d,a);An(),l=l.memoizedState,d=An();var m=d.queue.dispatch;return d.memoizedState=a,[l,m,!1]}function vu(a,l,d,m){return a={tag:a,create:d,deps:m,inst:l,next:null},l=it.updateQueue,l===null&&(l=rp(),it.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,l.lastEffect=a),a}function XS(){return An().memoizedState}function sp(a,l,d,m){var v=Gr();it.flags|=a,v.memoizedState=vu(1|l,{destroy:void 0},d,m===void 0?null:m)}function op(a,l,d,m){var v=An();m=m===void 0?null:m;var w=v.memoizedState.inst;Dt!==null&&m!==null&&Ux(m,Dt.memoizedState.deps)?v.memoizedState=vu(l,w,d,m):(it.flags|=a,v.memoizedState=vu(1|l,w,d,m))}function JS(a,l){sp(8390656,8,a,l)}function Yx(a,l){op(2048,8,a,l)}function OU(a){it.flags|=4;var l=it.updateQueue;if(l===null)l=rp(),it.updateQueue=l,l.events=[a];else{var d=l.events;d===null?l.events=[a]:d.push(a)}}function ZS(a){var l=An().memoizedState;return OU({ref:l,nextImpl:a}),function(){if((Tt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function eE(a,l){return op(4,2,a,l)}function tE(a,l){return op(4,4,a,l)}function nE(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function rE(a,l,d){d=d!=null?d.concat([a]):null,op(4,4,nE.bind(null,l,a),d)}function Qx(){}function iE(a,l){var d=An();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&Ux(l,m[1])?m[0]:(d.memoizedState=[a,l],a)}function aE(a,l){var d=An();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&Ux(l,m[1]))return m[0];if(m=a(),lc){hr(!0);try{a()}finally{hr(!1)}}return d.memoizedState=[m,l],m}function Xx(a,l,d){return d===void 0||(Os&1073741824)!==0&&(ht&261930)===0?a.memoizedState=l:(a.memoizedState=d,a=sA(),it.lanes|=a,Go|=a,d)}function sE(a,l,d,m){return bi(d,l)?d:gu.current!==null?(a=Xx(a,d,m),bi(a,l)||(zn=!0),a):(Os&42)===0||(Os&1073741824)!==0&&(ht&261930)===0?(zn=!0,a.memoizedState=d):(a=sA(),it.lanes|=a,Go|=a,l)}function oE(a,l,d,m,v){var w=H.p;H.p=w!==0&&8>w?w:8;var k=G.T,U={};G.T=U,ev(a,!1,l,d);try{var Q=v(),ue=G.S;if(ue!==null&&ue(U,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var be=AU(Q,m);ff(a,l,be,Ei(a))}else ff(a,l,m,Ei(a))}catch(_e){ff(a,l,{then:function(){},status:"rejected",reason:_e},Ei())}finally{H.p=w,k!==null&&U.types!==null&&(k.types=U.types),G.T=k}}function RU(){}function Jx(a,l,d,m){if(a.tag!==5)throw Error(r(476));var v=lE(a).queue;oE(a,v,l,ee,d===null?RU:function(){return cE(a),d(m)})}function lE(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:ee},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function cE(a){var l=lE(a);l.next===null&&(l=a.alternate.memoizedState),ff(a,l.next.queue,{},Ei())}function Zx(){return gr(Cf)}function uE(){return An().memoizedState}function dE(){return An().memoizedState}function PU(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=Ei();a=Vo(d);var m=Bo(l,a,d);m!==null&&(ci(m,l,d),of(m,l,d)),l={cache:Tx()},a.payload=l;return}l=l.return}}function DU(a,l,d){var m=Ei();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},lp(a)?hE(l,d):(d=yx(a,l,d,m),d!==null&&(ci(d,a,m),mE(d,l,m)))}function fE(a,l,d){var m=Ei();ff(a,l,d,m)}function ff(a,l,d,m){var v={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(lp(a))hE(l,v);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var k=l.lastRenderedState,U=w(k,d);if(v.hasEagerState=!0,v.eagerState=U,bi(U,k))return Fm(a,l,v,0),zt===null&&Bm(),!1}catch{}finally{}if(d=yx(a,l,v,m),d!==null)return ci(d,a,m),mE(d,l,m),!0}return!1}function ev(a,l,d,m){if(m={lane:2,revertLane:Ov(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},lp(a)){if(l)throw Error(r(479))}else l=yx(a,d,m,2),l!==null&&ci(l,a,2)}function lp(a){var l=a.alternate;return a===it||l!==null&&l===it}function hE(a,l){yu=tp=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function mE(a,l,d){if((d&4194048)!==0){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,he(a,d)}}var hf={readContext:gr,use:ip,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useLayoutEffect:yn,useInsertionEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useSyncExternalStore:yn,useId:yn,useHostTransitionStatus:yn,useFormState:yn,useActionState:yn,useOptimistic:yn,useMemoCache:yn,useCacheRefresh:yn};hf.useEffectEvent=yn;var pE={readContext:gr,use:ip,useCallback:function(a,l){return Gr().memoizedState=[a,l===void 0?null:l],a},useContext:gr,useEffect:JS,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,sp(4194308,4,nE.bind(null,l,a),d)},useLayoutEffect:function(a,l){return sp(4194308,4,a,l)},useInsertionEffect:function(a,l){sp(4,2,a,l)},useMemo:function(a,l){var d=Gr();l=l===void 0?null:l;var m=a();if(lc){hr(!0);try{a()}finally{hr(!1)}}return d.memoizedState=[m,l],m},useReducer:function(a,l,d){var m=Gr();if(d!==void 0){var v=d(l);if(lc){hr(!0);try{d(l)}finally{hr(!1)}}}else v=l;return m.memoizedState=m.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},m.queue=a,a=a.dispatch=DU.bind(null,it,a),[m.memoizedState,a]},useRef:function(a){var l=Gr();return a={current:a},l.memoizedState=a},useState:function(a){a=Kx(a);var l=a.queue,d=fE.bind(null,it,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:Qx,useDeferredValue:function(a,l){var d=Gr();return Xx(d,a,l)},useTransition:function(){var a=Kx(!1);return a=oE.bind(null,it,a.queue,!0,!1),Gr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var m=it,v=Gr();if(gt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),zt===null)throw Error(r(349));(ht&127)!==0||MS(m,l,d)}v.memoizedState=d;var w={value:d,getSnapshot:l};return v.queue=w,JS(zS.bind(null,m,w,a),[a]),m.flags|=2048,vu(9,{destroy:void 0},LS.bind(null,m,w,d,l),null),d},useId:function(){var a=Gr(),l=zt.identifierPrefix;if(gt){var d=Ka,m=Ga;d=(m&~(1<<32-Ft(m)-1)).toString(32)+d,l="_"+l+"R_"+d,d=np++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=TU++,l="_"+l+"r_"+d.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:Zx,useFormState:KS,useActionState:KS,useOptimistic:function(a){var l=Gr();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=ev.bind(null,it,!0,d),d.dispatch=l,[a,l]},useMemoCache:qx,useCacheRefresh:function(){return Gr().memoizedState=PU.bind(null,it)},useEffectEvent:function(a){var l=Gr(),d={impl:a};return l.memoizedState=d,function(){if((Tt&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},tv={readContext:gr,use:ip,useCallback:iE,useContext:gr,useEffect:Yx,useImperativeHandle:rE,useInsertionEffect:eE,useLayoutEffect:tE,useMemo:aE,useReducer:ap,useRef:XS,useState:function(){return ap(Rs)},useDebugValue:Qx,useDeferredValue:function(a,l){var d=An();return sE(d,Dt.memoizedState,a,l)},useTransition:function(){var a=ap(Rs)[0],l=An().memoizedState;return[typeof a=="boolean"?a:df(a),l]},useSyncExternalStore:DS,useId:uE,useHostTransitionStatus:Zx,useFormState:WS,useActionState:WS,useOptimistic:function(a,l){var d=An();return BS(d,Dt,a,l)},useMemoCache:qx,useCacheRefresh:dE};tv.useEffectEvent=ZS;var gE={readContext:gr,use:ip,useCallback:iE,useContext:gr,useEffect:Yx,useImperativeHandle:rE,useInsertionEffect:eE,useLayoutEffect:tE,useMemo:aE,useReducer:Gx,useRef:XS,useState:function(){return Gx(Rs)},useDebugValue:Qx,useDeferredValue:function(a,l){var d=An();return Dt===null?Xx(d,a,l):sE(d,Dt.memoizedState,a,l)},useTransition:function(){var a=Gx(Rs)[0],l=An().memoizedState;return[typeof a=="boolean"?a:df(a),l]},useSyncExternalStore:DS,useId:uE,useHostTransitionStatus:Zx,useFormState:QS,useActionState:QS,useOptimistic:function(a,l){var d=An();return Dt!==null?BS(d,Dt,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:qx,useCacheRefresh:dE};gE.useEffectEvent=ZS;function nv(a,l,d,m){l=a.memoizedState,d=d(m,l),d=d==null?l:g({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var rv={enqueueSetState:function(a,l,d){a=a._reactInternals;var m=Ei(),v=Vo(m);v.payload=l,d!=null&&(v.callback=d),l=Bo(a,v,m),l!==null&&(ci(l,a,m),of(l,a,m))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var m=Ei(),v=Vo(m);v.tag=1,v.payload=l,d!=null&&(v.callback=d),l=Bo(a,v,m),l!==null&&(ci(l,a,m),of(l,a,m))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=Ei(),m=Vo(d);m.tag=2,l!=null&&(m.callback=l),l=Bo(a,m,d),l!==null&&(ci(l,a,d),of(l,a,d))}};function yE(a,l,d,m,v,w,k){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,w,k):l.prototype&&l.prototype.isPureReactComponent?!Jd(d,m)||!Jd(v,w):!0}function xE(a,l,d,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==a&&rv.enqueueReplaceState(l,l.state,null)}function cc(a,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(a=a.defaultProps){d===l&&(d=g({},d));for(var v in a)d[v]===void 0&&(d[v]=a[v])}return d}function vE(a){Vm(a)}function bE(a){console.error(a)}function wE(a){Vm(a)}function cp(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function jE(a,l,d){try{var m=a.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function iv(a,l,d){return d=Vo(d),d.tag=3,d.payload={element:null},d.callback=function(){cp(a,l)},d}function NE(a){return a=Vo(a),a.tag=3,a}function _E(a,l,d,m){var v=d.type.getDerivedStateFromError;if(typeof v=="function"){var w=m.value;a.payload=function(){return v(w)},a.callback=function(){jE(l,d,m)}}var k=d.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(a.callback=function(){jE(l,d,m),typeof v!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var U=m.stack;this.componentDidCatch(m.value,{componentStack:U!==null?U:""})})}function MU(a,l,d,m,v){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&du(l,d,v,!0),d=ji.current,d!==null){switch(d.tag){case 31:case 13:return Yi===null?wp():d.alternate===null&&xn===0&&(xn=3),d.flags&=-257,d.flags|=65536,d.lanes=v,m===Qm?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),Cv(a,m,v)),!1;case 22:return d.flags|=65536,m===Qm?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),Cv(a,m,v)),!1}throw Error(r(435,d.tag))}return Cv(a,m,v),wp(),!1}if(gt)return l=ji.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,m!==Nx&&(a=Error(r(422),{cause:m}),tf(Hi(a,d)))):(m!==Nx&&(l=Error(r(423),{cause:m}),tf(Hi(l,d))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,m=Hi(m,d),v=iv(a.stateNode,m,v),Px(a,v),xn!==4&&(xn=2)),!1;var w=Error(r(520),{cause:m});if(w=Hi(w,d),wf===null?wf=[w]:wf.push(w),xn!==4&&(xn=2),l===null)return!0;m=Hi(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=v&-v,d.lanes|=a,a=iv(d.stateNode,m,a),Px(d,a),!1;case 1:if(l=d.type,w=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ko===null||!Ko.has(w))))return d.flags|=65536,v&=-v,d.lanes|=v,v=NE(v),_E(v,a,d,m),Px(d,v),!1}d=d.return}while(d!==null);return!1}var av=Error(r(461)),zn=!1;function yr(a,l,d,m){l.child=a===null?TS(l,null,d,m):oc(l,a.child,d,m)}function SE(a,l,d,m,v){d=d.render;var w=l.ref;if("ref"in m){var k={};for(var U in m)U!=="ref"&&(k[U]=m[U])}else k=m;return rc(l),m=Vx(a,l,d,k,w,v),U=Bx(),a!==null&&!zn?(Fx(a,l,v),Ps(a,l,v)):(gt&&U&&wx(l),l.flags|=1,yr(a,l,m,v),l.child)}function EE(a,l,d,m,v){if(a===null){var w=d.type;return typeof w=="function"&&!xx(w)&&w.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=w,AE(a,l,w,m,v)):(a=qm(d.type,null,m,l,l.mode,v),a.ref=l.ref,a.return=l,l.child=a)}if(w=a.child,!hv(a,v)){var k=w.memoizedProps;if(d=d.compare,d=d!==null?d:Jd,d(k,m)&&a.ref===l.ref)return Ps(a,l,v)}return l.flags|=1,a=Ts(w,m),a.ref=l.ref,a.return=l,l.child=a}function AE(a,l,d,m,v){if(a!==null){var w=a.memoizedProps;if(Jd(w,m)&&a.ref===l.ref)if(zn=!1,l.pendingProps=m=w,hv(a,v))(a.flags&131072)!==0&&(zn=!0);else return l.lanes=a.lanes,Ps(a,l,v)}return sv(a,l,d,m,v)}function TE(a,l,d,m){var v=m.children,w=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(w=w!==null?w.baseLanes|d:d,a!==null){for(m=l.child=a.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~w}else m=0,l.child=null;return CE(a,l,w,d,m)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Wm(l,w!==null?w.cachePool:null),w!==null?IS(l,w):Mx(),OS(l);else return m=l.lanes=536870912,CE(a,l,w!==null?w.baseLanes|d:d,d,m)}else w!==null?(Wm(l,w.cachePool),IS(l,w),$o(),l.memoizedState=null):(a!==null&&Wm(l,null),Mx(),$o());return yr(a,l,v,d),l.child}function mf(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function CE(a,l,d,m,v){var w=kx();return w=w===null?null:{parent:Mn._currentValue,pool:w},l.memoizedState={baseLanes:d,cachePool:w},a!==null&&Wm(l,null),Mx(),OS(l),a!==null&&du(a,l,m,!0),l.childLanes=v,null}function up(a,l){return l=fp({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function kE(a,l,d){return oc(l,a.child,null,d),a=up(l,l.pendingProps),a.flags|=2,Ni(l),l.memoizedState=null,a}function LU(a,l,d){var m=l.pendingProps,v=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(gt){if(m.mode==="hidden")return a=up(l,m),l.lanes=536870912,mf(null,a);if(zx(l),(a=Kt)?(a=FA(a,Wi),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:Do!==null?{id:Ga,overflow:Ka}:null,retryLane:536870912,hydrationErrors:null},d=hS(a),d.return=l,l.child=d,pr=l,Kt=null)):a=null,a===null)throw Lo(l);return l.lanes=536870912,null}return up(l,m)}var w=a.memoizedState;if(w!==null){var k=w.dehydrated;if(zx(l),v)if(l.flags&256)l.flags&=-257,l=kE(a,l,d);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(r(558));else if(zn||du(a,l,d,!1),v=(d&a.childLanes)!==0,zn||v){if(m=zt,m!==null&&(k=Ae(m,d),k!==0&&k!==w.retryLane))throw w.retryLane=k,Zl(a,k),ci(m,a,k),av;wp(),l=kE(a,l,d)}else a=w.treeContext,Kt=Qi(k.nextSibling),pr=l,gt=!0,Mo=null,Wi=!1,a!==null&&gS(l,a),l=up(l,m),l.flags|=4096;return l}return a=Ts(a.child,{mode:m.mode,children:m.children}),a.ref=l.ref,l.child=a,a.return=l,a}function dp(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function sv(a,l,d,m,v){return rc(l),d=Vx(a,l,d,m,void 0,v),m=Bx(),a!==null&&!zn?(Fx(a,l,v),Ps(a,l,v)):(gt&&m&&wx(l),l.flags|=1,yr(a,l,d,v),l.child)}function IE(a,l,d,m,v,w){return rc(l),l.updateQueue=null,d=PS(l,m,d,v),RS(a),m=Bx(),a!==null&&!zn?(Fx(a,l,w),Ps(a,l,w)):(gt&&m&&wx(l),l.flags|=1,yr(a,l,d,w),l.child)}function OE(a,l,d,m,v){if(rc(l),l.stateNode===null){var w=ou,k=d.contextType;typeof k=="object"&&k!==null&&(w=gr(k)),w=new d(m,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=rv,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=m,w.state=l.memoizedState,w.refs={},Ox(l),k=d.contextType,w.context=typeof k=="object"&&k!==null?gr(k):ou,w.state=l.memoizedState,k=d.getDerivedStateFromProps,typeof k=="function"&&(nv(l,d,k,m),w.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(k=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),k!==w.state&&rv.enqueueReplaceState(w,w.state,null),cf(l,m,w,v),lf(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(a===null){w=l.stateNode;var U=l.memoizedProps,Q=cc(d,U);w.props=Q;var ue=w.context,be=d.contextType;k=ou,typeof be=="object"&&be!==null&&(k=gr(be));var _e=d.getDerivedStateFromProps;be=typeof _e=="function"||typeof w.getSnapshotBeforeUpdate=="function",U=l.pendingProps!==U,be||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(U||ue!==k)&&xE(l,w,m,k),Uo=!1;var fe=l.memoizedState;w.state=fe,cf(l,m,w,v),lf(),ue=l.memoizedState,U||fe!==ue||Uo?(typeof _e=="function"&&(nv(l,d,_e,m),ue=l.memoizedState),(Q=Uo||yE(l,d,Q,m,fe,ue,k))?(be||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=ue),w.props=m,w.state=ue,w.context=k,m=Q):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{w=l.stateNode,Rx(a,l),k=l.memoizedProps,be=cc(d,k),w.props=be,_e=l.pendingProps,fe=w.context,ue=d.contextType,Q=ou,typeof ue=="object"&&ue!==null&&(Q=gr(ue)),U=d.getDerivedStateFromProps,(ue=typeof U=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==_e||fe!==Q)&&xE(l,w,m,Q),Uo=!1,fe=l.memoizedState,w.state=fe,cf(l,m,w,v),lf();var ge=l.memoizedState;k!==_e||fe!==ge||Uo||a!==null&&a.dependencies!==null&&Gm(a.dependencies)?(typeof U=="function"&&(nv(l,d,U,m),ge=l.memoizedState),(be=Uo||yE(l,d,be,m,fe,ge,Q)||a!==null&&a.dependencies!==null&&Gm(a.dependencies))?(ue||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,ge,Q),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,ge,Q)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||k===a.memoizedProps&&fe===a.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&fe===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ge),w.props=m,w.state=ge,w.context=Q,m=be):(typeof w.componentDidUpdate!="function"||k===a.memoizedProps&&fe===a.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&fe===a.memoizedState||(l.flags|=1024),m=!1)}return w=m,dp(a,l),m=(l.flags&128)!==0,w||m?(w=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,a!==null&&m?(l.child=oc(l,a.child,null,v),l.child=oc(l,null,d,v)):yr(a,l,d,v),l.memoizedState=w.state,a=l.child):a=Ps(a,l,v),a}function RE(a,l,d,m){return tc(),l.flags|=256,yr(a,l,d,m),l.child}var ov={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lv(a){return{baseLanes:a,cachePool:jS()}}function cv(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=Si),a}function PE(a,l,d){var m=l.pendingProps,v=!1,w=(l.flags&128)!==0,k;if((k=w)||(k=a!==null&&a.memoizedState===null?!1:(En.current&2)!==0),k&&(v=!0,l.flags&=-129),k=(l.flags&32)!==0,l.flags&=-33,a===null){if(gt){if(v?Fo(l):$o(),(a=Kt)?(a=FA(a,Wi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:Do!==null?{id:Ga,overflow:Ka}:null,retryLane:536870912,hydrationErrors:null},d=hS(a),d.return=l,l.child=d,pr=l,Kt=null)):a=null,a===null)throw Lo(l);return Hv(a)?l.lanes=32:l.lanes=536870912,null}var U=m.children;return m=m.fallback,v?($o(),v=l.mode,U=fp({mode:"hidden",children:U},v),m=ec(m,v,d,null),U.return=l,m.return=l,U.sibling=m,l.child=U,m=l.child,m.memoizedState=lv(d),m.childLanes=cv(a,k,d),l.memoizedState=ov,mf(null,m)):(Fo(l),uv(l,U))}var Q=a.memoizedState;if(Q!==null&&(U=Q.dehydrated,U!==null)){if(w)l.flags&256?(Fo(l),l.flags&=-257,l=dv(a,l,d)):l.memoizedState!==null?($o(),l.child=a.child,l.flags|=128,l=null):($o(),U=m.fallback,v=l.mode,m=fp({mode:"visible",children:m.children},v),U=ec(U,v,d,null),U.flags|=2,m.return=l,U.return=l,m.sibling=U,l.child=m,oc(l,a.child,null,d),m=l.child,m.memoizedState=lv(d),m.childLanes=cv(a,k,d),l.memoizedState=ov,l=mf(null,m));else if(Fo(l),Hv(U)){if(k=U.nextSibling&&U.nextSibling.dataset,k)var ue=k.dgst;k=ue,m=Error(r(419)),m.stack="",m.digest=k,tf({value:m,source:null,stack:null}),l=dv(a,l,d)}else if(zn||du(a,l,d,!1),k=(d&a.childLanes)!==0,zn||k){if(k=zt,k!==null&&(m=Ae(k,d),m!==0&&m!==Q.retryLane))throw Q.retryLane=m,Zl(a,m),ci(k,a,m),av;qv(U)||wp(),l=dv(a,l,d)}else qv(U)?(l.flags|=192,l.child=a.child,l=null):(a=Q.treeContext,Kt=Qi(U.nextSibling),pr=l,gt=!0,Mo=null,Wi=!1,a!==null&&gS(l,a),l=uv(l,m.children),l.flags|=4096);return l}return v?($o(),U=m.fallback,v=l.mode,Q=a.child,ue=Q.sibling,m=Ts(Q,{mode:"hidden",children:m.children}),m.subtreeFlags=Q.subtreeFlags&65011712,ue!==null?U=Ts(ue,U):(U=ec(U,v,d,null),U.flags|=2),U.return=l,m.return=l,m.sibling=U,l.child=m,mf(null,m),m=l.child,U=a.child.memoizedState,U===null?U=lv(d):(v=U.cachePool,v!==null?(Q=Mn._currentValue,v=v.parent!==Q?{parent:Q,pool:Q}:v):v=jS(),U={baseLanes:U.baseLanes|d,cachePool:v}),m.memoizedState=U,m.childLanes=cv(a,k,d),l.memoizedState=ov,mf(a.child,m)):(Fo(l),d=a.child,a=d.sibling,d=Ts(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,a!==null&&(k=l.deletions,k===null?(l.deletions=[a],l.flags|=16):k.push(a)),l.child=d,l.memoizedState=null,d)}function uv(a,l){return l=fp({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function fp(a,l){return a=wi(22,a,null,l),a.lanes=0,a}function dv(a,l,d){return oc(l,a.child,null,d),a=uv(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function DE(a,l,d){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),Ex(a.return,l,d)}function fv(a,l,d,m,v,w){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:v,treeForkCount:w}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=m,k.tail=d,k.tailMode=v,k.treeForkCount=w)}function ME(a,l,d){var m=l.pendingProps,v=m.revealOrder,w=m.tail;m=m.children;var k=En.current,U=(k&2)!==0;if(U?(k=k&1|2,l.flags|=128):k&=1,ie(En,k),yr(a,l,m,d),m=gt?ef:0,!U&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&DE(a,d,l);else if(a.tag===19)DE(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(d=l.child,v=null;d!==null;)a=d.alternate,a!==null&&ep(a)===null&&(v=d),d=d.sibling;d=v,d===null?(v=l.child,l.child=null):(v=d.sibling,d.sibling=null),fv(l,!1,v,d,w,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,v=l.child,l.child=null;v!==null;){if(a=v.alternate,a!==null&&ep(a)===null){l.child=v;break}a=v.sibling,v.sibling=d,d=v,v=a}fv(l,!0,d,null,w,m);break;case"together":fv(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function Ps(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),Go|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(du(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,d=Ts(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=Ts(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function hv(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Gm(a)))}function zU(a,l,d){switch(l.tag){case 3:we(l,l.stateNode.containerInfo),zo(l,Mn,a.memoizedState.cache),tc();break;case 27:case 5:De(l);break;case 4:we(l,l.stateNode.containerInfo);break;case 10:zo(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,zx(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Fo(l),l.flags|=128,null):(d&l.child.childLanes)!==0?PE(a,l,d):(Fo(l),a=Ps(a,l,d),a!==null?a.sibling:null);Fo(l);break;case 19:var v=(a.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(du(a,l,d,!1),m=(d&l.childLanes)!==0),v){if(m)return ME(a,l,d);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ie(En,En.current),m)break;return null;case 22:return l.lanes=0,TE(a,l,d,l.pendingProps);case 24:zo(l,Mn,a.memoizedState.cache)}return Ps(a,l,d)}function LE(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)zn=!0;else{if(!hv(a,d)&&(l.flags&128)===0)return zn=!1,zU(a,l,d);zn=(a.flags&131072)!==0}else zn=!1,gt&&(l.flags&1048576)!==0&&pS(l,ef,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(a=ac(l.elementType),l.type=a,typeof a=="function")xx(a)?(m=cc(a,m),l.tag=1,l=OE(null,l,a,m,d)):(l.tag=0,l=sv(null,l,a,m,d));else{if(a!=null){var v=a.$$typeof;if(v===M){l.tag=11,l=SE(null,l,a,m,d);break e}else if(v===E){l.tag=14,l=EE(null,l,a,m,d);break e}}throw l=se(a)||a,Error(r(306,l,""))}}return l;case 0:return sv(a,l,l.type,l.pendingProps,d);case 1:return m=l.type,v=cc(m,l.pendingProps),OE(a,l,m,v,d);case 3:e:{if(we(l,l.stateNode.containerInfo),a===null)throw Error(r(387));m=l.pendingProps;var w=l.memoizedState;v=w.element,Rx(a,l),cf(l,m,null,d);var k=l.memoizedState;if(m=k.cache,zo(l,Mn,m),m!==w.cache&&Ax(l,[Mn],d,!0),lf(),m=k.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:k.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=RE(a,l,m,d);break e}else if(m!==v){v=Hi(Error(r(424)),l),tf(v),l=RE(a,l,m,d);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Kt=Qi(a.firstChild),pr=l,gt=!0,Mo=null,Wi=!0,d=TS(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(tc(),m===v){l=Ps(a,l,d);break e}yr(a,l,m,d)}l=l.child}return l;case 26:return dp(a,l),a===null?(d=WA(l.type,null,l.pendingProps,null))?l.memoizedState=d:gt||(d=l.type,a=l.pendingProps,m=Tp(Le.current).createElement(d),m[oe]=l,m[ae]=a,xr(m,d,a),nn(m),l.stateNode=m):l.memoizedState=WA(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return De(l),a===null&&gt&&(m=l.stateNode=HA(l.type,l.pendingProps,Le.current),pr=l,Wi=!0,v=Kt,Xo(l.type)?(Gv=v,Kt=Qi(m.firstChild)):Kt=v),yr(a,l,l.pendingProps.children,d),dp(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&gt&&((v=m=Kt)&&(m=m8(m,l.type,l.pendingProps,Wi),m!==null?(l.stateNode=m,pr=l,Kt=Qi(m.firstChild),Wi=!1,v=!0):v=!1),v||Lo(l)),De(l),v=l.type,w=l.pendingProps,k=a!==null?a.memoizedProps:null,m=w.children,Bv(v,w)?m=null:k!==null&&Bv(v,k)&&(l.flags|=32),l.memoizedState!==null&&(v=Vx(a,l,CU,null,null,d),Cf._currentValue=v),dp(a,l),yr(a,l,m,d),l.child;case 6:return a===null&&gt&&((a=d=Kt)&&(d=p8(d,l.pendingProps,Wi),d!==null?(l.stateNode=d,pr=l,Kt=null,a=!0):a=!1),a||Lo(l)),null;case 13:return PE(a,l,d);case 4:return we(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=oc(l,null,m,d):yr(a,l,m,d),l.child;case 11:return SE(a,l,l.type,l.pendingProps,d);case 7:return yr(a,l,l.pendingProps,d),l.child;case 8:return yr(a,l,l.pendingProps.children,d),l.child;case 12:return yr(a,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,zo(l,l.type,m.value),yr(a,l,m.children,d),l.child;case 9:return v=l.type._context,m=l.pendingProps.children,rc(l),v=gr(v),m=m(v),l.flags|=1,yr(a,l,m,d),l.child;case 14:return EE(a,l,l.type,l.pendingProps,d);case 15:return AE(a,l,l.type,l.pendingProps,d);case 19:return ME(a,l,d);case 31:return LU(a,l,d);case 22:return TE(a,l,d,l.pendingProps);case 24:return rc(l),m=gr(Mn),a===null?(v=kx(),v===null&&(v=zt,w=Tx(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=d),v=w),l.memoizedState={parent:m,cache:v},Ox(l),zo(l,Mn,v)):((a.lanes&d)!==0&&(Rx(a,l),cf(l,null,null,d),lf()),v=a.memoizedState,w=l.memoizedState,v.parent!==m?(v={parent:m,cache:m},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),zo(l,Mn,m)):(m=w.cache,zo(l,Mn,m),m!==v.cache&&Ax(l,[Mn],d,!0))),yr(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Ds(a){a.flags|=4}function mv(a,l,d,m,v){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(uA())a.flags|=8192;else throw sc=Qm,Ix}else a.flags&=-16777217}function zE(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!ZA(l))if(uA())a.flags|=8192;else throw sc=Qm,Ix}function hp(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?xi():536870912,a.lanes|=l,Nu|=l)}function pf(a,l){if(!gt)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Wt(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(l)for(var v=a.child;v!==null;)d|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)d|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=m,a.childLanes=d,l}function UU(a,l,d){var m=l.pendingProps;switch(jx(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(l),null;case 1:return Wt(l),null;case 3:return d=l.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Is(Mn),Z(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(uu(l)?Ds(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,_x())),Wt(l),null;case 26:var v=l.type,w=l.memoizedState;return a===null?(Ds(l),w!==null?(Wt(l),zE(l,w)):(Wt(l),mv(l,v,null,m,d))):w?w!==a.memoizedState?(Ds(l),Wt(l),zE(l,w)):(Wt(l),l.flags&=-16777217):(a=a.memoizedProps,a!==m&&Ds(l),Wt(l),mv(l,v,a,m,d)),null;case 27:if(Ee(l),d=Le.current,v=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&Ds(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Wt(l),null}a=ye.current,uu(l)?yS(l):(a=HA(v,m,d),l.stateNode=a,Ds(l))}return Wt(l),null;case 5:if(Ee(l),v=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&Ds(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Wt(l),null}if(w=ye.current,uu(l))yS(l);else{var k=Tp(Le.current);switch(w){case 1:w=k.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:w=k.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":w=k.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":w=k.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":w=k.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof m.is=="string"?k.createElement("select",{is:m.is}):k.createElement("select"),m.multiple?w.multiple=!0:m.size&&(w.size=m.size);break;default:w=typeof m.is=="string"?k.createElement(v,{is:m.is}):k.createElement(v)}}w[oe]=l,w[ae]=m;e:for(k=l.child;k!==null;){if(k.tag===5||k.tag===6)w.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===l)break e;for(;k.sibling===null;){if(k.return===null||k.return===l)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}l.stateNode=w;e:switch(xr(w,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Ds(l)}}return Wt(l),mv(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,d),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==m&&Ds(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(a=Le.current,uu(l)){if(a=l.stateNode,d=l.memoizedProps,m=null,v=pr,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}a[oe]=l,a=!!(a.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||PA(a.nodeValue,d)),a||Lo(l,!0)}else a=Tp(a).createTextNode(m),a[oe]=l,l.stateNode=a}return Wt(l),null;case 31:if(d=l.memoizedState,a===null||a.memoizedState!==null){if(m=uu(l),d!==null){if(a===null){if(!m)throw Error(r(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[oe]=l}else tc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Wt(l),a=!1}else d=_x(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return l.flags&256?(Ni(l),l):(Ni(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Wt(l),null;case 13:if(m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=uu(l),m!==null&&m.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[oe]=l}else tc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Wt(l),v=!1}else v=_x(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(Ni(l),l):(Ni(l),null)}return Ni(l),(l.flags&128)!==0?(l.lanes=d,l):(d=m!==null,a=a!==null&&a.memoizedState!==null,d&&(m=l.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),w=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==v&&(m.flags|=2048)),d!==a&&d&&(l.child.flags|=8192),hp(l,l.updateQueue),Wt(l),null);case 4:return Z(),a===null&&Mv(l.stateNode.containerInfo),Wt(l),null;case 10:return Is(l.type),Wt(l),null;case 19:if(J(En),m=l.memoizedState,m===null)return Wt(l),null;if(v=(l.flags&128)!==0,w=m.rendering,w===null)if(v)pf(m,!1);else{if(xn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(w=ep(a),w!==null){for(l.flags|=128,pf(m,!1),a=w.updateQueue,l.updateQueue=a,hp(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)fS(d,a),d=d.sibling;return ie(En,En.current&1|2),gt&&Cs(l,m.treeForkCount),l.child}a=a.sibling}m.tail!==null&&Bt()>xp&&(l.flags|=128,v=!0,pf(m,!1),l.lanes=4194304)}else{if(!v)if(a=ep(w),a!==null){if(l.flags|=128,v=!0,a=a.updateQueue,l.updateQueue=a,hp(l,a),pf(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!gt)return Wt(l),null}else 2*Bt()-m.renderingStartTime>xp&&d!==536870912&&(l.flags|=128,v=!0,pf(m,!1),l.lanes=4194304);m.isBackwards?(w.sibling=l.child,l.child=w):(a=m.last,a!==null?a.sibling=w:l.child=w,m.last=w)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Bt(),a.sibling=null,d=En.current,ie(En,v?d&1|2:d&1),gt&&Cs(l,m.treeForkCount),a):(Wt(l),null);case 22:case 23:return Ni(l),Lx(),m=l.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(Wt(l),l.subtreeFlags&6&&(l.flags|=8192)):Wt(l),d=l.updateQueue,d!==null&&hp(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),a!==null&&J(ic),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Is(Mn),Wt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function VU(a,l){switch(jx(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Is(Mn),Z(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Ee(l),null;case 31:if(l.memoizedState!==null){if(Ni(l),l.alternate===null)throw Error(r(340));tc()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(Ni(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));tc()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return J(En),null;case 4:return Z(),null;case 10:return Is(l.type),null;case 22:case 23:return Ni(l),Lx(),a!==null&&J(ic),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Is(Mn),null;case 25:return null;default:return null}}function UE(a,l){switch(jx(l),l.tag){case 3:Is(Mn),Z();break;case 26:case 27:case 5:Ee(l);break;case 4:Z();break;case 31:l.memoizedState!==null&&Ni(l);break;case 13:Ni(l);break;case 19:J(En);break;case 10:Is(l.type);break;case 22:case 23:Ni(l),Lx(),a!==null&&J(ic);break;case 24:Is(Mn)}}function gf(a,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var v=m.next;d=v;do{if((d.tag&a)===a){m=void 0;var w=d.create,k=d.inst;m=w(),k.destroy=m}d=d.next}while(d!==v)}}catch(U){Ot(l,l.return,U)}}function qo(a,l,d){try{var m=l.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var w=v.next;m=w;do{if((m.tag&a)===a){var k=m.inst,U=k.destroy;if(U!==void 0){k.destroy=void 0,v=l;var Q=d,ue=U;try{ue()}catch(be){Ot(v,Q,be)}}}m=m.next}while(m!==w)}}catch(be){Ot(l,l.return,be)}}function VE(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{kS(l,d)}catch(m){Ot(a,a.return,m)}}}function BE(a,l,d){d.props=cc(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(m){Ot(a,l,m)}}function yf(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof d=="function"?a.refCleanup=d(m):d.current=m}}catch(v){Ot(a,l,v)}}function Wa(a,l){var d=a.ref,m=a.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(v){Ot(a,l,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(v){Ot(a,l,v)}else d.current=null}function FE(a){var l=a.type,d=a.memoizedProps,m=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(v){Ot(a,a.return,v)}}function pv(a,l,d){try{var m=a.stateNode;l8(m,a.type,d,l),m[ae]=l}catch(v){Ot(a,a.return,v)}}function $E(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Xo(a.type)||a.tag===4}function gv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||$E(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Xo(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function yv(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=va));else if(m!==4&&(m===27&&Xo(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for(yv(a,l,d),a=a.sibling;a!==null;)yv(a,l,d),a=a.sibling}function mp(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(m!==4&&(m===27&&Xo(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(mp(a,l,d),a=a.sibling;a!==null;)mp(a,l,d),a=a.sibling}function qE(a){var l=a.stateNode,d=a.memoizedProps;try{for(var m=a.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);xr(l,m,d),l[oe]=a,l[ae]=d}catch(w){Ot(a,a.return,w)}}var Ms=!1,Un=!1,xv=!1,HE=typeof WeakSet=="function"?WeakSet:Set,ar=null;function BU(a,l){if(a=a.containerInfo,Uv=Dp,a=rS(a),dx(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var v=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var k=0,U=-1,Q=-1,ue=0,be=0,_e=a,fe=null;t:for(;;){for(var ge;_e!==d||v!==0&&_e.nodeType!==3||(U=k+v),_e!==w||m!==0&&_e.nodeType!==3||(Q=k+m),_e.nodeType===3&&(k+=_e.nodeValue.length),(ge=_e.firstChild)!==null;)fe=_e,_e=ge;for(;;){if(_e===a)break t;if(fe===d&&++ue===v&&(U=k),fe===w&&++be===m&&(Q=k),(ge=_e.nextSibling)!==null)break;_e=fe,fe=_e.parentNode}_e=ge}d=U===-1||Q===-1?null:{start:U,end:Q}}else d=null}d=d||{start:0,end:0}}else d=null;for(Vv={focusedElem:a,selectionRange:d},Dp=!1,ar=l;ar!==null;)if(l=ar,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,ar=a;else for(;ar!==null;){switch(l=ar,w=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)v=a[d],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,d=l,v=w.memoizedProps,w=w.memoizedState,m=d.stateNode;try{var $e=cc(d.type,v);a=m.getSnapshotBeforeUpdate($e,w),m.__reactInternalSnapshotBeforeUpdate=a}catch(Qe){Ot(d,d.return,Qe)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)$v(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":$v(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,ar=a;break}ar=l.return}}function GE(a,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:zs(a,d),m&4&&gf(5,d);break;case 1:if(zs(a,d),m&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(k){Ot(d,d.return,k)}else{var v=cc(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(v,l,a.__reactInternalSnapshotBeforeUpdate)}catch(k){Ot(d,d.return,k)}}m&64&&VE(d),m&512&&yf(d,d.return);break;case 3:if(zs(a,d),m&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{kS(a,l)}catch(k){Ot(d,d.return,k)}}break;case 27:l===null&&m&4&&qE(d);case 26:case 5:zs(a,d),l===null&&m&4&&FE(d),m&512&&yf(d,d.return);break;case 12:zs(a,d);break;case 31:zs(a,d),m&4&&YE(a,d);break;case 13:zs(a,d),m&4&&QE(a,d),m&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=QU.bind(null,d),g8(a,d))));break;case 22:if(m=d.memoizedState!==null||Ms,!m){l=l!==null&&l.memoizedState!==null||Un,v=Ms;var w=Un;Ms=m,(Un=l)&&!w?Us(a,d,(d.subtreeFlags&8772)!==0):zs(a,d),Ms=v,Un=w}break;case 30:break;default:zs(a,d)}}function KE(a){var l=a.alternate;l!==null&&(a.alternate=null,KE(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Nt(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var an=null,ai=!1;function Ls(a,l,d){for(d=d.child;d!==null;)WE(a,l,d),d=d.sibling}function WE(a,l,d){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(un,d)}catch{}switch(d.tag){case 26:Un||Wa(d,l),Ls(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Un||Wa(d,l);var m=an,v=ai;Xo(d.type)&&(an=d.stateNode,ai=!1),Ls(a,l,d),Ef(d.stateNode),an=m,ai=v;break;case 5:Un||Wa(d,l);case 6:if(m=an,v=ai,an=null,Ls(a,l,d),an=m,ai=v,an!==null)if(ai)try{(an.nodeType===9?an.body:an.nodeName==="HTML"?an.ownerDocument.body:an).removeChild(d.stateNode)}catch(w){Ot(d,l,w)}else try{an.removeChild(d.stateNode)}catch(w){Ot(d,l,w)}break;case 18:an!==null&&(ai?(a=an,VA(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Iu(a)):VA(an,d.stateNode));break;case 4:m=an,v=ai,an=d.stateNode.containerInfo,ai=!0,Ls(a,l,d),an=m,ai=v;break;case 0:case 11:case 14:case 15:qo(2,d,l),Un||qo(4,d,l),Ls(a,l,d);break;case 1:Un||(Wa(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&BE(d,l,m)),Ls(a,l,d);break;case 21:Ls(a,l,d);break;case 22:Un=(m=Un)||d.memoizedState!==null,Ls(a,l,d),Un=m;break;default:Ls(a,l,d)}}function YE(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Iu(a)}catch(d){Ot(l,l.return,d)}}}function QE(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Iu(a)}catch(d){Ot(l,l.return,d)}}function FU(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new HE),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new HE),l;default:throw Error(r(435,a.tag))}}function pp(a,l){var d=FU(a);l.forEach(function(m){if(!d.has(m)){d.add(m);var v=XU.bind(null,a,m);m.then(v,v)}})}function si(a,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var v=d[m],w=a,k=l,U=k;e:for(;U!==null;){switch(U.tag){case 27:if(Xo(U.type)){an=U.stateNode,ai=!1;break e}break;case 5:an=U.stateNode,ai=!1;break e;case 3:case 4:an=U.stateNode.containerInfo,ai=!0;break e}U=U.return}if(an===null)throw Error(r(160));WE(w,k,v),an=null,ai=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)XE(l,a),l=l.sibling}var Sa=null;function XE(a,l){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:si(l,a),oi(a),m&4&&(qo(3,a,a.return),gf(3,a),qo(5,a,a.return));break;case 1:si(l,a),oi(a),m&512&&(Un||d===null||Wa(d,d.return)),m&64&&Ms&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var v=Sa;if(si(l,a),oi(a),m&512&&(Un||d===null||Wa(d,d.return)),m&4){var w=d!==null?d.memoizedState:null;if(m=a.memoizedState,d===null)if(m===null)if(a.stateNode===null){e:{m=a.type,d=a.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":w=v.getElementsByTagName("title")[0],(!w||w[ft]||w[oe]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(m),v.head.insertBefore(w,v.querySelector("head > title"))),xr(w,m,d),w[oe]=a,nn(w),m=w;break e;case"link":var k=XA("link","href",v).get(m+(d.href||""));if(k){for(var U=0;U<k.length;U++)if(w=k[U],w.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&w.getAttribute("rel")===(d.rel==null?null:d.rel)&&w.getAttribute("title")===(d.title==null?null:d.title)&&w.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){k.splice(U,1);break t}}w=v.createElement(m),xr(w,m,d),v.head.appendChild(w);break;case"meta":if(k=XA("meta","content",v).get(m+(d.content||""))){for(U=0;U<k.length;U++)if(w=k[U],w.getAttribute("content")===(d.content==null?null:""+d.content)&&w.getAttribute("name")===(d.name==null?null:d.name)&&w.getAttribute("property")===(d.property==null?null:d.property)&&w.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&w.getAttribute("charset")===(d.charSet==null?null:d.charSet)){k.splice(U,1);break t}}w=v.createElement(m),xr(w,m,d),v.head.appendChild(w);break;default:throw Error(r(468,m))}w[oe]=a,nn(w),m=w}a.stateNode=m}else JA(v,a.type,a.stateNode);else a.stateNode=QA(v,m,a.memoizedProps);else w!==m?(w===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):w.count--,m===null?JA(v,a.type,a.stateNode):QA(v,m,a.memoizedProps)):m===null&&a.stateNode!==null&&pv(a,a.memoizedProps,d.memoizedProps)}break;case 27:si(l,a),oi(a),m&512&&(Un||d===null||Wa(d,d.return)),d!==null&&m&4&&pv(a,a.memoizedProps,d.memoizedProps);break;case 5:if(si(l,a),oi(a),m&512&&(Un||d===null||Wa(d,d.return)),a.flags&32){v=a.stateNode;try{ii(v,"")}catch($e){Ot(a,a.return,$e)}}m&4&&a.stateNode!=null&&(v=a.memoizedProps,pv(a,v,d!==null?d.memoizedProps:v)),m&1024&&(xv=!0);break;case 6:if(si(l,a),oi(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,d=a.stateNode;try{d.nodeValue=m}catch($e){Ot(a,a.return,$e)}}break;case 3:if(Ip=null,v=Sa,Sa=Cp(l.containerInfo),si(l,a),Sa=v,oi(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Iu(l.containerInfo)}catch($e){Ot(a,a.return,$e)}xv&&(xv=!1,JE(a));break;case 4:m=Sa,Sa=Cp(a.stateNode.containerInfo),si(l,a),oi(a),Sa=m;break;case 12:si(l,a),oi(a);break;case 31:si(l,a),oi(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,pp(a,m)));break;case 13:si(l,a),oi(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(yp=Bt()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,pp(a,m)));break;case 22:v=a.memoizedState!==null;var Q=d!==null&&d.memoizedState!==null,ue=Ms,be=Un;if(Ms=ue||v,Un=be||Q,si(l,a),Un=be,Ms=ue,oi(a),m&8192)e:for(l=a.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(d===null||Q||Ms||Un||uc(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){Q=d=l;try{if(w=Q.stateNode,v)k=w.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{U=Q.stateNode;var _e=Q.memoizedProps.style,fe=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;U.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch($e){Ot(Q,Q.return,$e)}}}else if(l.tag===6){if(d===null){Q=l;try{Q.stateNode.nodeValue=v?"":Q.memoizedProps}catch($e){Ot(Q,Q.return,$e)}}}else if(l.tag===18){if(d===null){Q=l;try{var ge=Q.stateNode;v?BA(ge,!0):BA(Q.stateNode,!1)}catch($e){Ot(Q,Q.return,$e)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=a.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,pp(a,d))));break;case 19:si(l,a),oi(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,pp(a,m)));break;case 30:break;case 21:break;default:si(l,a),oi(a)}}function oi(a){var l=a.flags;if(l&2){try{for(var d,m=a.return;m!==null;){if($E(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var v=d.stateNode,w=gv(a);mp(a,w,v);break;case 5:var k=d.stateNode;d.flags&32&&(ii(k,""),d.flags&=-33);var U=gv(a);mp(a,U,k);break;case 3:case 4:var Q=d.stateNode.containerInfo,ue=gv(a);yv(a,ue,Q);break;default:throw Error(r(161))}}catch(be){Ot(a,a.return,be)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function JE(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;JE(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function zs(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)GE(a,l.alternate,l),l=l.sibling}function uc(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:qo(4,l,l.return),uc(l);break;case 1:Wa(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&BE(l,l.return,d),uc(l);break;case 27:Ef(l.stateNode);case 26:case 5:Wa(l,l.return),uc(l);break;case 22:l.memoizedState===null&&uc(l);break;case 30:uc(l);break;default:uc(l)}a=a.sibling}}function Us(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,v=a,w=l,k=w.flags;switch(w.tag){case 0:case 11:case 15:Us(v,w,d),gf(4,w);break;case 1:if(Us(v,w,d),m=w,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ue){Ot(m,m.return,ue)}if(m=w,v=m.updateQueue,v!==null){var U=m.stateNode;try{var Q=v.shared.hiddenCallbacks;if(Q!==null)for(v.shared.hiddenCallbacks=null,v=0;v<Q.length;v++)CS(Q[v],U)}catch(ue){Ot(m,m.return,ue)}}d&&k&64&&VE(w),yf(w,w.return);break;case 27:qE(w);case 26:case 5:Us(v,w,d),d&&m===null&&k&4&&FE(w),yf(w,w.return);break;case 12:Us(v,w,d);break;case 31:Us(v,w,d),d&&k&4&&YE(v,w);break;case 13:Us(v,w,d),d&&k&4&&QE(v,w);break;case 22:w.memoizedState===null&&Us(v,w,d),yf(w,w.return);break;case 30:break;default:Us(v,w,d)}l=l.sibling}}function vv(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&nf(d))}function bv(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&nf(a))}function Ea(a,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ZE(a,l,d,m),l=l.sibling}function ZE(a,l,d,m){var v=l.flags;switch(l.tag){case 0:case 11:case 15:Ea(a,l,d,m),v&2048&&gf(9,l);break;case 1:Ea(a,l,d,m);break;case 3:Ea(a,l,d,m),v&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&nf(a)));break;case 12:if(v&2048){Ea(a,l,d,m),a=l.stateNode;try{var w=l.memoizedProps,k=w.id,U=w.onPostCommit;typeof U=="function"&&U(k,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Q){Ot(l,l.return,Q)}}else Ea(a,l,d,m);break;case 31:Ea(a,l,d,m);break;case 13:Ea(a,l,d,m);break;case 23:break;case 22:w=l.stateNode,k=l.alternate,l.memoizedState!==null?w._visibility&2?Ea(a,l,d,m):xf(a,l):w._visibility&2?Ea(a,l,d,m):(w._visibility|=2,bu(a,l,d,m,(l.subtreeFlags&10256)!==0||!1)),v&2048&&vv(k,l);break;case 24:Ea(a,l,d,m),v&2048&&bv(l.alternate,l);break;default:Ea(a,l,d,m)}}function bu(a,l,d,m,v){for(v=v&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var w=a,k=l,U=d,Q=m,ue=k.flags;switch(k.tag){case 0:case 11:case 15:bu(w,k,U,Q,v),gf(8,k);break;case 23:break;case 22:var be=k.stateNode;k.memoizedState!==null?be._visibility&2?bu(w,k,U,Q,v):xf(w,k):(be._visibility|=2,bu(w,k,U,Q,v)),v&&ue&2048&&vv(k.alternate,k);break;case 24:bu(w,k,U,Q,v),v&&ue&2048&&bv(k.alternate,k);break;default:bu(w,k,U,Q,v)}l=l.sibling}}function xf(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,m=l,v=m.flags;switch(m.tag){case 22:xf(d,m),v&2048&&vv(m.alternate,m);break;case 24:xf(d,m),v&2048&&bv(m.alternate,m);break;default:xf(d,m)}l=l.sibling}}var vf=8192;function wu(a,l,d){if(a.subtreeFlags&vf)for(a=a.child;a!==null;)eA(a,l,d),a=a.sibling}function eA(a,l,d){switch(a.tag){case 26:wu(a,l,d),a.flags&vf&&a.memoizedState!==null&&T8(d,Sa,a.memoizedState,a.memoizedProps);break;case 5:wu(a,l,d);break;case 3:case 4:var m=Sa;Sa=Cp(a.stateNode.containerInfo),wu(a,l,d),Sa=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=vf,vf=16777216,wu(a,l,d),vf=m):wu(a,l,d));break;default:wu(a,l,d)}}function tA(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function bf(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];ar=m,rA(m,a)}tA(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)nA(a),a=a.sibling}function nA(a){switch(a.tag){case 0:case 11:case 15:bf(a),a.flags&2048&&qo(9,a,a.return);break;case 3:bf(a);break;case 12:bf(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,gp(a)):bf(a);break;default:bf(a)}}function gp(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];ar=m,rA(m,a)}tA(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:qo(8,l,l.return),gp(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,gp(l));break;default:gp(l)}a=a.sibling}}function rA(a,l){for(;ar!==null;){var d=ar;switch(d.tag){case 0:case 11:case 15:qo(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:nf(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,ar=m;else e:for(d=a;ar!==null;){m=ar;var v=m.sibling,w=m.return;if(KE(m),m===d){ar=null;break e}if(v!==null){v.return=w,ar=v;break e}ar=w}}}var $U={getCacheForType:function(a){var l=gr(Mn),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d},cacheSignal:function(){return gr(Mn).controller.signal}},qU=typeof WeakMap=="function"?WeakMap:Map,Tt=0,zt=null,ut=null,ht=0,It=0,_i=null,Ho=!1,ju=!1,wv=!1,Vs=0,xn=0,Go=0,dc=0,jv=0,Si=0,Nu=0,wf=null,li=null,Nv=!1,yp=0,iA=0,xp=1/0,vp=null,Ko=null,Gn=0,Wo=null,_u=null,Bs=0,_v=0,Sv=null,aA=null,jf=0,Ev=null;function Ei(){return(Tt&2)!==0&&ht!==0?ht&-ht:G.T!==null?Ov():qe()}function sA(){if(Si===0)if((ht&536870912)===0||gt){var a=er;er<<=1,(er&3932160)===0&&(er=262144),Si=a}else Si=536870912;return a=ji.current,a!==null&&(a.flags|=32),Si}function ci(a,l,d){(a===zt&&(It===2||It===9)||a.cancelPendingCommit!==null)&&(Su(a,0),Yo(a,ht,Si,!1)),ya(a,d),((Tt&2)===0||a!==zt)&&(a===zt&&((Tt&2)===0&&(dc|=d),xn===4&&Yo(a,ht,Si,!1)),Ya(a))}function oA(a,l,d){if((Tt&6)!==0)throw Error(r(327));var m=!d&&(l&127)===0&&(l&a.expiredLanes)===0||Ar(a,l),v=m?KU(a,l):Tv(a,l,!0),w=m;do{if(v===0){ju&&!m&&Yo(a,l,0,!1);break}else{if(d=a.current.alternate,w&&!HU(d)){v=Tv(a,l,!1),w=!1;continue}if(v===2){if(w=l,a.errorRecoveryDisabledLanes&w)var k=0;else k=a.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){l=k;e:{var U=a;v=wf;var Q=U.current.memoizedState.isDehydrated;if(Q&&(Su(U,k).flags|=256),k=Tv(U,k,!1),k!==2){if(wv&&!Q){U.errorRecoveryDisabledLanes|=w,dc|=w,v=4;break e}w=li,li=v,w!==null&&(li===null?li=w:li.push.apply(li,w))}v=k}if(w=!1,v!==2)continue}}if(v===1){Su(a,0),Yo(a,l,0,!0);break}e:{switch(m=a,w=v,w){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Yo(m,l,Si,!Ho);break e;case 2:li=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(v=yp+300-Bt(),10<v)){if(Yo(m,l,Si,!Ho),tr(m,0,!0)!==0)break e;Bs=l,m.timeoutHandle=zA(lA.bind(null,m,d,li,vp,Nv,l,Si,dc,Nu,Ho,w,"Throttled",-0,0),v);break e}lA(m,d,li,vp,Nv,l,Si,dc,Nu,Ho,w,null,-0,0)}}break}while(!0);Ya(a)}function lA(a,l,d,m,v,w,k,U,Q,ue,be,_e,fe,ge){if(a.timeoutHandle=-1,_e=l.subtreeFlags,_e&8192||(_e&16785408)===16785408){_e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:va},eA(l,w,_e);var $e=(w&62914560)===w?yp-Bt():(w&4194048)===w?iA-Bt():0;if($e=C8(_e,$e),$e!==null){Bs=w,a.cancelPendingCommit=$e(gA.bind(null,a,l,w,d,m,v,k,U,Q,be,_e,null,fe,ge)),Yo(a,w,k,!ue);return}}gA(a,l,w,d,m,v,k,U,Q)}function HU(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var v=d[m],w=v.getSnapshot;v=v.value;try{if(!bi(w(),v))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Yo(a,l,d,m){l&=~jv,l&=~dc,a.suspendedLanes|=l,a.pingedLanes&=~l,m&&(a.warmLanes|=l),m=a.expirationTimes;for(var v=l;0<v;){var w=31-Ft(v),k=1<<w;m[w]=-1,v&=~k}d!==0&&ne(a,d,l)}function bp(){return(Tt&6)===0?(Nf(0),!1):!0}function Av(){if(ut!==null){if(It===0)var a=ut.return;else a=ut,ks=nc=null,$x(a),pu=null,af=0,a=ut;for(;a!==null;)UE(a.alternate,a),a=a.return;ut=null}}function Su(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,d8(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),Bs=0,Av(),zt=a,ut=d=Ts(a.current,null),ht=l,It=0,_i=null,Ho=!1,ju=Ar(a,l),wv=!1,Nu=Si=jv=dc=Go=xn=0,li=wf=null,Nv=!1,(l&8)!==0&&(l|=l&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=l;0<m;){var v=31-Ft(m),w=1<<v;l|=a[v],m&=~w}return Vs=l,Bm(),d}function cA(a,l){it=null,G.H=hf,l===mu||l===Ym?(l=SS(),It=3):l===Ix?(l=SS(),It=4):It=l===av?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,_i=l,ut===null&&(xn=1,cp(a,Hi(l,a.current)))}function uA(){var a=ji.current;return a===null?!0:(ht&4194048)===ht?Yi===null:(ht&62914560)===ht||(ht&536870912)!==0?a===Yi:!1}function dA(){var a=G.H;return G.H=hf,a===null?hf:a}function fA(){var a=G.A;return G.A=$U,a}function wp(){xn=4,Ho||(ht&4194048)!==ht&&ji.current!==null||(ju=!0),(Go&134217727)===0&&(dc&134217727)===0||zt===null||Yo(zt,ht,Si,!1)}function Tv(a,l,d){var m=Tt;Tt|=2;var v=dA(),w=fA();(zt!==a||ht!==l)&&(vp=null,Su(a,l)),l=!1;var k=xn;e:do try{if(It!==0&&ut!==null){var U=ut,Q=_i;switch(It){case 8:Av(),k=6;break e;case 3:case 2:case 9:case 6:ji.current===null&&(l=!0);var ue=It;if(It=0,_i=null,Eu(a,U,Q,ue),d&&ju){k=0;break e}break;default:ue=It,It=0,_i=null,Eu(a,U,Q,ue)}}GU(),k=xn;break}catch(be){cA(a,be)}while(!0);return l&&a.shellSuspendCounter++,ks=nc=null,Tt=m,G.H=v,G.A=w,ut===null&&(zt=null,ht=0,Bm()),k}function GU(){for(;ut!==null;)hA(ut)}function KU(a,l){var d=Tt;Tt|=2;var m=dA(),v=fA();zt!==a||ht!==l?(vp=null,xp=Bt()+500,Su(a,l)):ju=Ar(a,l);e:do try{if(It!==0&&ut!==null){l=ut;var w=_i;t:switch(It){case 1:It=0,_i=null,Eu(a,l,w,1);break;case 2:case 9:if(NS(w)){It=0,_i=null,mA(l);break}l=function(){It!==2&&It!==9||zt!==a||(It=7),Ya(a)},w.then(l,l);break e;case 3:It=7;break e;case 4:It=5;break e;case 7:NS(w)?(It=0,_i=null,mA(l)):(It=0,_i=null,Eu(a,l,w,7));break;case 5:var k=null;switch(ut.tag){case 26:k=ut.memoizedState;case 5:case 27:var U=ut;if(k?ZA(k):U.stateNode.complete){It=0,_i=null;var Q=U.sibling;if(Q!==null)ut=Q;else{var ue=U.return;ue!==null?(ut=ue,jp(ue)):ut=null}break t}}It=0,_i=null,Eu(a,l,w,5);break;case 6:It=0,_i=null,Eu(a,l,w,6);break;case 8:Av(),xn=6;break e;default:throw Error(r(462))}}WU();break}catch(be){cA(a,be)}while(!0);return ks=nc=null,G.H=m,G.A=v,Tt=d,ut!==null?0:(zt=null,ht=0,Bm(),xn)}function WU(){for(;ut!==null&&!Ns();)hA(ut)}function hA(a){var l=LE(a.alternate,a,Vs);a.memoizedProps=a.pendingProps,l===null?jp(a):ut=l}function mA(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=IE(d,l,l.pendingProps,l.type,void 0,ht);break;case 11:l=IE(d,l,l.pendingProps,l.type.render,l.ref,ht);break;case 5:$x(l);default:UE(d,l),l=ut=fS(l,Vs),l=LE(d,l,Vs)}a.memoizedProps=a.pendingProps,l===null?jp(a):ut=l}function Eu(a,l,d,m){ks=nc=null,$x(l),pu=null,af=0;var v=l.return;try{if(MU(a,v,l,d,ht)){xn=1,cp(a,Hi(d,a.current)),ut=null;return}}catch(w){if(v!==null)throw ut=v,w;xn=1,cp(a,Hi(d,a.current)),ut=null;return}l.flags&32768?(gt||m===1?a=!0:ju||(ht&536870912)!==0?a=!1:(Ho=a=!0,(m===2||m===9||m===3||m===6)&&(m=ji.current,m!==null&&m.tag===13&&(m.flags|=16384))),pA(l,a)):jp(l)}function jp(a){var l=a;do{if((l.flags&32768)!==0){pA(l,Ho);return}a=l.return;var d=UU(l.alternate,l,Vs);if(d!==null){ut=d;return}if(l=l.sibling,l!==null){ut=l;return}ut=l=a}while(l!==null);xn===0&&(xn=5)}function pA(a,l){do{var d=VU(a.alternate,a);if(d!==null){d.flags&=32767,ut=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){ut=a;return}ut=a=d}while(a!==null);xn=6,ut=null}function gA(a,l,d,m,v,w,k,U,Q){a.cancelPendingCommit=null;do Np();while(Gn!==0);if((Tt&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(w=l.lanes|l.childLanes,w|=gx,X(a,d,w,k,U,Q),a===zt&&(ut=zt=null,ht=0),_u=l,Wo=a,Bs=d,_v=w,Sv=v,aA=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,JU(en,function(){return wA(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,v=H.p,H.p=2,k=Tt,Tt|=4;try{BU(a,l,d)}finally{Tt=k,H.p=v,G.T=m}}Gn=1,yA(),xA(),vA()}}function yA(){if(Gn===1){Gn=0;var a=Wo,l=_u,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=G.T,G.T=null;var m=H.p;H.p=2;var v=Tt;Tt|=4;try{XE(l,a);var w=Vv,k=rS(a.containerInfo),U=w.focusedElem,Q=w.selectionRange;if(k!==U&&U&&U.ownerDocument&&nS(U.ownerDocument.documentElement,U)){if(Q!==null&&dx(U)){var ue=Q.start,be=Q.end;if(be===void 0&&(be=ue),"selectionStart"in U)U.selectionStart=ue,U.selectionEnd=Math.min(be,U.value.length);else{var _e=U.ownerDocument||document,fe=_e&&_e.defaultView||window;if(fe.getSelection){var ge=fe.getSelection(),$e=U.textContent.length,Qe=Math.min(Q.start,$e),Lt=Q.end===void 0?Qe:Math.min(Q.end,$e);!ge.extend&&Qe>Lt&&(k=Lt,Lt=Qe,Qe=k);var re=tS(U,Qe),te=tS(U,Lt);if(re&&te&&(ge.rangeCount!==1||ge.anchorNode!==re.node||ge.anchorOffset!==re.offset||ge.focusNode!==te.node||ge.focusOffset!==te.offset)){var ce=_e.createRange();ce.setStart(re.node,re.offset),ge.removeAllRanges(),Qe>Lt?(ge.addRange(ce),ge.extend(te.node,te.offset)):(ce.setEnd(te.node,te.offset),ge.addRange(ce))}}}}for(_e=[],ge=U;ge=ge.parentNode;)ge.nodeType===1&&_e.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<_e.length;U++){var je=_e[U];je.element.scrollLeft=je.left,je.element.scrollTop=je.top}}Dp=!!Uv,Vv=Uv=null}finally{Tt=v,H.p=m,G.T=d}}a.current=l,Gn=2}}function xA(){if(Gn===2){Gn=0;var a=Wo,l=_u,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=G.T,G.T=null;var m=H.p;H.p=2;var v=Tt;Tt|=4;try{GE(a,l.alternate,l)}finally{Tt=v,H.p=m,G.T=d}}Gn=3}}function vA(){if(Gn===4||Gn===3){Gn=0,ni();var a=Wo,l=_u,d=Bs,m=aA;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Gn=5:(Gn=0,_u=Wo=null,bA(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Ko=null),Ve(d),l=l.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(un,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=G.T,v=H.p,H.p=2,G.T=null;try{for(var w=a.onRecoverableError,k=0;k<m.length;k++){var U=m[k];w(U.value,{componentStack:U.stack})}}finally{G.T=l,H.p=v}}(Bs&3)!==0&&Np(),Ya(a),v=a.pendingLanes,(d&261930)!==0&&(v&42)!==0?a===Ev?jf++:(jf=0,Ev=a):jf=0,Nf(0)}}function bA(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,nf(l)))}function Np(){return yA(),xA(),vA(),wA()}function wA(){if(Gn!==5)return!1;var a=Wo,l=_v;_v=0;var d=Ve(Bs),m=G.T,v=H.p;try{H.p=32>d?32:d,G.T=null,d=Sv,Sv=null;var w=Wo,k=Bs;if(Gn=0,_u=Wo=null,Bs=0,(Tt&6)!==0)throw Error(r(331));var U=Tt;if(Tt|=4,nA(w.current),ZE(w,w.current,k,d),Tt=U,Nf(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(un,w)}catch{}return!0}finally{H.p=v,G.T=m,bA(a,l)}}function jA(a,l,d){l=Hi(d,l),l=iv(a.stateNode,l,2),a=Bo(a,l,2),a!==null&&(ya(a,2),Ya(a))}function Ot(a,l,d){if(a.tag===3)jA(a,a,d);else for(;l!==null;){if(l.tag===3){jA(l,a,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ko===null||!Ko.has(m))){a=Hi(d,a),d=NE(2),m=Bo(l,d,2),m!==null&&(_E(d,m,l,a),ya(m,2),Ya(m));break}}l=l.return}}function Cv(a,l,d){var m=a.pingCache;if(m===null){m=a.pingCache=new qU;var v=new Set;m.set(l,v)}else v=m.get(l),v===void 0&&(v=new Set,m.set(l,v));v.has(d)||(wv=!0,v.add(d),a=YU.bind(null,a,l,d),l.then(a,a))}function YU(a,l,d){var m=a.pingCache;m!==null&&m.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,zt===a&&(ht&d)===d&&(xn===4||xn===3&&(ht&62914560)===ht&&300>Bt()-yp?(Tt&2)===0&&Su(a,0):jv|=d,Nu===ht&&(Nu=0)),Ya(a)}function NA(a,l){l===0&&(l=xi()),a=Zl(a,l),a!==null&&(ya(a,l),Ya(a))}function QU(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),NA(a,d)}function XU(a,l){var d=0;switch(a.tag){case 31:case 13:var m=a.stateNode,v=a.memoizedState;v!==null&&(d=v.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),NA(a,d)}function JU(a,l){return Zt(a,l)}var _p=null,Au=null,kv=!1,Sp=!1,Iv=!1,Qo=0;function Ya(a){a!==Au&&a.next===null&&(Au===null?_p=Au=a:Au=Au.next=a),Sp=!0,kv||(kv=!0,e8())}function Nf(a,l){if(!Iv&&Sp){Iv=!0;do for(var d=!1,m=_p;m!==null;){if(a!==0){var v=m.pendingLanes;if(v===0)var w=0;else{var k=m.suspendedLanes,U=m.pingedLanes;w=(1<<31-Ft(42|a)+1)-1,w&=v&~(k&~U),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(d=!0,AA(m,w))}else w=ht,w=tr(m,m===zt?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Ar(m,w)||(d=!0,AA(m,w));m=m.next}while(d);Iv=!1}}function ZU(){_A()}function _A(){Sp=kv=!1;var a=0;Qo!==0&&u8()&&(a=Qo);for(var l=Bt(),d=null,m=_p;m!==null;){var v=m.next,w=SA(m,l);w===0?(m.next=null,d===null?_p=v:d.next=v,v===null&&(Au=d)):(d=m,(a!==0||(w&3)!==0)&&(Sp=!0)),m=v}Gn!==0&&Gn!==5||Nf(a),Qo!==0&&(Qo=0)}function SA(a,l){for(var d=a.suspendedLanes,m=a.pingedLanes,v=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var k=31-Ft(w),U=1<<k,Q=v[k];Q===-1?((U&d)===0||(U&m)!==0)&&(v[k]=ga(U,l)):Q<=l&&(a.expiredLanes|=U),w&=~U}if(l=zt,d=ht,d=tr(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,d===0||a===l&&(It===2||It===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&zi(m),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||Ar(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(m!==null&&zi(m),Ve(d)){case 2:case 8:d=cn;break;case 32:d=en;break;case 268435456:d=_s;break;default:d=en}return m=EA.bind(null,a),d=Zt(d,m),a.callbackPriority=l,a.callbackNode=d,l}return m!==null&&m!==null&&zi(m),a.callbackPriority=2,a.callbackNode=null,2}function EA(a,l){if(Gn!==0&&Gn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(Np()&&a.callbackNode!==d)return null;var m=ht;return m=tr(a,a===zt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(oA(a,m,l),SA(a,Bt()),a.callbackNode!=null&&a.callbackNode===d?EA.bind(null,a):null)}function AA(a,l){if(Np())return null;oA(a,l,!0)}function e8(){f8(function(){(Tt&6)!==0?Zt(fa,ZU):_A()})}function Ov(){if(Qo===0){var a=fu;a===0&&(a=Vr,Vr<<=1,(Vr&261888)===0&&(Vr=256)),Qo=a}return Qo}function TA(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Xc(""+a)}function CA(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function t8(a,l,d,m,v){if(l==="submit"&&d&&d.stateNode===v){var w=TA((v[ae]||null).action),k=m.submitter;k&&(l=(l=k[ae]||null)?TA(l.formAction):k.getAttribute("formAction"),l!==null&&(w=l,k=null));var U=new Fa("action","action",null,m,v);a.push({event:U,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Qo!==0){var Q=k?CA(v,k):new FormData(v);Jx(d,{pending:!0,data:Q,method:v.method,action:w},null,Q)}}else typeof w=="function"&&(U.preventDefault(),Q=k?CA(v,k):new FormData(v),Jx(d,{pending:!0,data:Q,method:v.method,action:w},w,Q))},currentTarget:v}]})}}for(var Rv=0;Rv<px.length;Rv++){var Pv=px[Rv],n8=Pv.toLowerCase(),r8=Pv[0].toUpperCase()+Pv.slice(1);_a(n8,"on"+r8)}_a(sS,"onAnimationEnd"),_a(oS,"onAnimationIteration"),_a(lS,"onAnimationStart"),_a("dblclick","onDoubleClick"),_a("focusin","onFocus"),_a("focusout","onBlur"),_a(vU,"onTransitionRun"),_a(bU,"onTransitionStart"),_a(wU,"onTransitionCancel"),_a(cS,"onTransitionEnd"),qr("onMouseEnter",["mouseout","mouseover"]),qr("onMouseLeave",["mouseout","mouseover"]),qr("onPointerEnter",["pointerout","pointerover"]),qr("onPointerLeave",["pointerout","pointerover"]),$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$r("onBeforeInput",["compositionend","keypress","textInput","paste"]),$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _f="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_f));function kA(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],v=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var k=m.length-1;0<=k;k--){var U=m[k],Q=U.instance,ue=U.currentTarget;if(U=U.listener,Q!==w&&v.isPropagationStopped())break e;w=U,v.currentTarget=ue;try{w(v)}catch(be){Vm(be)}v.currentTarget=null,w=Q}else for(k=0;k<m.length;k++){if(U=m[k],Q=U.instance,ue=U.currentTarget,U=U.listener,Q!==w&&v.isPropagationStopped())break e;w=U,v.currentTarget=ue;try{w(v)}catch(be){Vm(be)}v.currentTarget=null,w=Q}}}}function dt(a,l){var d=l[Oe];d===void 0&&(d=l[Oe]=new Set);var m=a+"__bubble";d.has(m)||(IA(l,a,2,!1),d.add(m))}function Dv(a,l,d){var m=0;l&&(m|=4),IA(d,a,m,l)}var Ep="_reactListening"+Math.random().toString(36).slice(2);function Mv(a){if(!a[Ep]){a[Ep]=!0,xa.forEach(function(d){d!=="selectionchange"&&(i8.has(d)||Dv(d,!1,a),Dv(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Ep]||(l[Ep]=!0,Dv("selectionchange",!1,l))}}function IA(a,l,d,m){switch(sT(l)){case 2:var v=O8;break;case 8:v=R8;break;default:v=Xv}d=v.bind(null,l,d,a),v=void 0,!Hl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),m?v!==void 0?a.addEventListener(l,d,{capture:!0,passive:v}):a.addEventListener(l,d,!0):v!==void 0?a.addEventListener(l,d,{passive:v}):a.addEventListener(l,d,!1)}function Lv(a,l,d,m,v){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var k=m.tag;if(k===3||k===4){var U=m.stateNode.containerInfo;if(U===v)break;if(k===4)for(k=m.return;k!==null;){var Q=k.tag;if((Q===3||Q===4)&&k.stateNode.containerInfo===v)return;k=k.return}for(;U!==null;){if(k=nr(U),k===null)return;if(Q=k.tag,Q===5||Q===6||Q===26||Q===27){m=w=k;continue e}U=U.parentNode}}m=m.return}Io(function(){var ue=w,be=Bi(d),_e=[];e:{var fe=uS.get(a);if(fe!==void 0){var ge=Fa,$e=a;switch(a){case"keypress":if(Kl(d)===0)break e;case"keydown":case"keyup":ge=Lm;break;case"focusin":$e="focus",ge=Yl;break;case"focusout":$e="blur",ge=Yl;break;case"beforeblur":case"afterblur":ge=Yl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Tm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=A;break;case sS:case oS:case lS:ge=km;break;case cS:ge=q;break;case"scroll":case"scrollend":ge=Kd;break;case"wheel":ge=pe;break;case"copy":case"cut":case"paste":ge=Im;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=As;break;case"toggle":case"beforetoggle":ge=rt}var Qe=(l&4)!==0,Lt=!Qe&&(a==="scroll"||a==="scrollend"),re=Qe?fe!==null?fe+"Capture":null:fe;Qe=[];for(var te=ue,ce;te!==null;){var je=te;if(ce=je.stateNode,je=je.tag,je!==5&&je!==26&&je!==27||ce===null||re===null||(je=ba(te,re),je!=null&&Qe.push(Sf(te,je,ce))),Lt)break;te=te.return}0<Qe.length&&(fe=new ge(fe,$e,null,d,be),_e.push({event:fe,listeners:Qe}))}}if((l&7)===0){e:{if(fe=a==="mouseover"||a==="pointerover",ge=a==="mouseout"||a==="pointerout",fe&&d!==qd&&($e=d.relatedTarget||d.fromElement)&&(nr($e)||$e[me]))break e;if((ge||fe)&&(fe=be.window===be?be:(fe=be.ownerDocument)?fe.defaultView||fe.parentWindow:window,ge?($e=d.relatedTarget||d.toElement,ge=ue,$e=$e?nr($e):null,$e!==null&&(Lt=o($e),Qe=$e.tag,$e!==Lt||Qe!==5&&Qe!==27&&Qe!==6)&&($e=null)):(ge=null,$e=ue),ge!==$e)){if(Qe=Wd,je="onMouseLeave",re="onMouseEnter",te="mouse",(a==="pointerout"||a==="pointerover")&&(Qe=As,je="onPointerLeave",re="onPointerEnter",te="pointer"),Lt=ge==null?fe:pn(ge),ce=$e==null?fe:pn($e),fe=new Qe(je,te+"leave",ge,d,be),fe.target=Lt,fe.relatedTarget=ce,je=null,nr(be)===ue&&(Qe=new Qe(re,te+"enter",$e,d,be),Qe.target=ce,Qe.relatedTarget=Lt,je=Qe),Lt=je,ge&&$e)t:{for(Qe=a8,re=ge,te=$e,ce=0,je=re;je;je=Qe(je))ce++;je=0;for(var Ke=te;Ke;Ke=Qe(Ke))je++;for(;0<ce-je;)re=Qe(re),ce--;for(;0<je-ce;)te=Qe(te),je--;for(;ce--;){if(re===te||te!==null&&re===te.alternate){Qe=re;break t}re=Qe(re),te=Qe(te)}Qe=null}else Qe=null;ge!==null&&OA(_e,fe,ge,Qe,!1),$e!==null&&Lt!==null&&OA(_e,Lt,$e,Qe,!0)}}e:{if(fe=ue?pn(ue):window,ge=fe.nodeName&&fe.nodeName.toLowerCase(),ge==="select"||ge==="input"&&fe.type==="file")var _t=Y_;else if(K_(fe))if(Q_)_t=gU;else{_t=mU;var He=hU}else ge=fe.nodeName,!ge||ge.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ue&&Qc(ue.elementType)&&(_t=Y_):_t=pU;if(_t&&(_t=_t(a,ue))){W_(_e,_t,d,be);break e}He&&He(a,fe,ue),a==="focusout"&&ue&&fe.type==="number"&&ue.memoizedProps.value!=null&&Bd(fe,"number",fe.value)}switch(He=ue?pn(ue):window,a){case"focusin":(K_(He)||He.contentEditable==="true")&&(iu=He,fx=ue,Zd=null);break;case"focusout":Zd=fx=iu=null;break;case"mousedown":hx=!0;break;case"contextmenu":case"mouseup":case"dragend":hx=!1,iS(_e,d,be);break;case"selectionchange":if(xU)break;case"keydown":case"keyup":iS(_e,d,be)}var at;if(At)e:{switch(a){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else ru?Ql(a,d)&&(mt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(mt="onCompositionStart");mt&&(Ha&&d.locale!=="ko"&&(ru||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&ru&&(at=Gd()):(Ba=be,Hd="value"in Ba?Ba.value:Ba.textContent,ru=!0)),He=Ap(ue,mt),0<He.length&&(mt=new qa(mt,a,null,d,be),_e.push({event:mt,listeners:He}),at?mt.data=at:(at=nu(d),at!==null&&(mt.data=at)))),(at=$i?cU(a,d):uU(a,d))&&(mt=Ap(ue,"onBeforeInput"),0<mt.length&&(He=new qa("onBeforeInput","beforeinput",null,d,be),_e.push({event:He,listeners:mt}),He.data=at)),t8(_e,a,ue,d,be)}kA(_e,l)})}function Sf(a,l,d){return{instance:a,listener:l,currentTarget:d}}function Ap(a,l){for(var d=l+"Capture",m=[];a!==null;){var v=a,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=ba(a,d),v!=null&&m.unshift(Sf(a,v,w)),v=ba(a,l),v!=null&&m.push(Sf(a,v,w))),a.tag===3)return m;a=a.return}return[]}function a8(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function OA(a,l,d,m,v){for(var w=l._reactName,k=[];d!==null&&d!==m;){var U=d,Q=U.alternate,ue=U.stateNode;if(U=U.tag,Q!==null&&Q===m)break;U!==5&&U!==26&&U!==27||ue===null||(Q=ue,v?(ue=ba(d,w),ue!=null&&k.unshift(Sf(d,ue,Q))):v||(ue=ba(d,w),ue!=null&&k.push(Sf(d,ue,Q)))),d=d.return}k.length!==0&&a.push({event:l,listeners:k})}var s8=/\r\n?/g,o8=/\u0000|\uFFFD/g;function RA(a){return(typeof a=="string"?a:""+a).replace(s8,`
`).replace(o8,"")}function PA(a,l){return l=RA(l),RA(a)===l}function Mt(a,l,d,m,v,w){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||ii(a,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&ii(a,""+m);break;case"className":ir(a,"class",m);break;case"tabIndex":ir(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(a,d,m);break;case"style":$d(a,m,w);break;case"data":if(l!=="object"){ir(a,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=Xc(""+m),a.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(d==="formAction"?(l!=="input"&&Mt(a,l,"name",v.name,v,null),Mt(a,l,"formEncType",v.formEncType,v,null),Mt(a,l,"formMethod",v.formMethod,v,null),Mt(a,l,"formTarget",v.formTarget,v,null)):(Mt(a,l,"encType",v.encType,v,null),Mt(a,l,"method",v.method,v,null),Mt(a,l,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=Xc(""+m),a.setAttribute(d,m);break;case"onClick":m!=null&&(a.onclick=va);break;case"onScroll":m!=null&&dt("scroll",a);break;case"onScrollEnd":m!=null&&dt("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}d=Xc(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""+m):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":m===!0?a.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,m):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(d,m):a.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(d):a.setAttribute(d,m);break;case"popover":dt("beforetoggle",a),dt("toggle",a),$t(a,"popover",m);break;case"xlinkActuate":fn(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":fn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":fn(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":fn(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":fn(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":fn(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":fn(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":fn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":fn(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":$t(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Am.get(d)||d,$t(a,d,m))}}function zv(a,l,d,m,v,w){switch(d){case"style":$d(a,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof m=="string"?ii(a,m):(typeof m=="number"||typeof m=="bigint")&&ii(a,""+m);break;case"onScroll":m!=null&&dt("scroll",a);break;case"onScrollEnd":m!=null&&dt("scrollend",a);break;case"onClick":m!=null&&(a.onclick=va);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vi.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(v=d.endsWith("Capture"),l=d.slice(2,v?d.length-7:void 0),w=a[ae]||null,w=w!=null?w[d]:null,typeof w=="function"&&a.removeEventListener(l,w,v),typeof m=="function")){typeof w!="function"&&w!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,m,v);break e}d in a?a[d]=m:m===!0?a.setAttribute(d,""):$t(a,d,m)}}}function xr(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dt("error",a),dt("load",a);var m=!1,v=!1,w;for(w in d)if(d.hasOwnProperty(w)){var k=d[w];if(k!=null)switch(w){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Mt(a,l,w,k,d,null)}}v&&Mt(a,l,"srcSet",d.srcSet,d,null),m&&Mt(a,l,"src",d.src,d,null);return;case"input":dt("invalid",a);var U=w=k=v=null,Q=null,ue=null;for(m in d)if(d.hasOwnProperty(m)){var be=d[m];if(be!=null)switch(m){case"name":v=be;break;case"type":k=be;break;case"checked":Q=be;break;case"defaultChecked":ue=be;break;case"value":w=be;break;case"defaultValue":U=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,l));break;default:Mt(a,l,m,be,d,null)}}_m(a,w,U,Q,ue,k,v,!1);return;case"select":dt("invalid",a),m=k=w=null;for(v in d)if(d.hasOwnProperty(v)&&(U=d[v],U!=null))switch(v){case"value":w=U;break;case"defaultValue":k=U;break;case"multiple":m=U;default:Mt(a,l,v,U,d,null)}l=w,d=k,a.multiple=!!m,l!=null?Ao(a,!!m,l,!1):d!=null&&Ao(a,!!m,d,!0);return;case"textarea":dt("invalid",a),w=v=m=null;for(k in d)if(d.hasOwnProperty(k)&&(U=d[k],U!=null))switch(k){case"value":m=U;break;case"defaultValue":v=U;break;case"children":w=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(91));break;default:Mt(a,l,k,U,d,null)}To(a,m,v,w);return;case"option":for(Q in d)if(d.hasOwnProperty(Q)&&(m=d[Q],m!=null))switch(Q){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Mt(a,l,Q,m,d,null)}return;case"dialog":dt("beforetoggle",a),dt("toggle",a),dt("cancel",a),dt("close",a);break;case"iframe":case"object":dt("load",a);break;case"video":case"audio":for(m=0;m<_f.length;m++)dt(_f[m],a);break;case"image":dt("error",a),dt("load",a);break;case"details":dt("toggle",a);break;case"embed":case"source":case"link":dt("error",a),dt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in d)if(d.hasOwnProperty(ue)&&(m=d[ue],m!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Mt(a,l,ue,m,d,null)}return;default:if(Qc(l)){for(be in d)d.hasOwnProperty(be)&&(m=d[be],m!==void 0&&zv(a,l,be,m,d,void 0));return}}for(U in d)d.hasOwnProperty(U)&&(m=d[U],m!=null&&Mt(a,l,U,m,d,null))}function l8(a,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,k=null,U=null,Q=null,ue=null,be=null;for(ge in d){var _e=d[ge];if(d.hasOwnProperty(ge)&&_e!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":Q=_e;default:m.hasOwnProperty(ge)||Mt(a,l,ge,null,m,_e)}}for(var fe in m){var ge=m[fe];if(_e=d[fe],m.hasOwnProperty(fe)&&(ge!=null||_e!=null))switch(fe){case"type":w=ge;break;case"name":v=ge;break;case"checked":ue=ge;break;case"defaultChecked":be=ge;break;case"value":k=ge;break;case"defaultValue":U=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,l));break;default:ge!==_e&&Mt(a,l,fe,ge,m,_e)}}Yc(a,k,U,Q,ue,be,w,v);return;case"select":ge=k=U=fe=null;for(w in d)if(Q=d[w],d.hasOwnProperty(w)&&Q!=null)switch(w){case"value":break;case"multiple":ge=Q;default:m.hasOwnProperty(w)||Mt(a,l,w,null,m,Q)}for(v in m)if(w=m[v],Q=d[v],m.hasOwnProperty(v)&&(w!=null||Q!=null))switch(v){case"value":fe=w;break;case"defaultValue":U=w;break;case"multiple":k=w;default:w!==Q&&Mt(a,l,v,w,m,Q)}l=U,d=k,m=ge,fe!=null?Ao(a,!!d,fe,!1):!!m!=!!d&&(l!=null?Ao(a,!!d,l,!0):Ao(a,!!d,d?[]:"",!1));return;case"textarea":ge=fe=null;for(U in d)if(v=d[U],d.hasOwnProperty(U)&&v!=null&&!m.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:Mt(a,l,U,null,m,v)}for(k in m)if(v=m[k],w=d[k],m.hasOwnProperty(k)&&(v!=null||w!=null))switch(k){case"value":fe=v;break;case"defaultValue":ge=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==w&&Mt(a,l,k,v,m,w)}Sm(a,fe,ge);return;case"option":for(var $e in d)if(fe=d[$e],d.hasOwnProperty($e)&&fe!=null&&!m.hasOwnProperty($e))switch($e){case"selected":a.selected=!1;break;default:Mt(a,l,$e,null,m,fe)}for(Q in m)if(fe=m[Q],ge=d[Q],m.hasOwnProperty(Q)&&fe!==ge&&(fe!=null||ge!=null))switch(Q){case"selected":a.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:Mt(a,l,Q,fe,m,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in d)fe=d[Qe],d.hasOwnProperty(Qe)&&fe!=null&&!m.hasOwnProperty(Qe)&&Mt(a,l,Qe,null,m,fe);for(ue in m)if(fe=m[ue],ge=d[ue],m.hasOwnProperty(ue)&&fe!==ge&&(fe!=null||ge!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,l));break;default:Mt(a,l,ue,fe,m,ge)}return;default:if(Qc(l)){for(var Lt in d)fe=d[Lt],d.hasOwnProperty(Lt)&&fe!==void 0&&!m.hasOwnProperty(Lt)&&zv(a,l,Lt,void 0,m,fe);for(be in m)fe=m[be],ge=d[be],!m.hasOwnProperty(be)||fe===ge||fe===void 0&&ge===void 0||zv(a,l,be,fe,m,ge);return}}for(var re in d)fe=d[re],d.hasOwnProperty(re)&&fe!=null&&!m.hasOwnProperty(re)&&Mt(a,l,re,null,m,fe);for(_e in m)fe=m[_e],ge=d[_e],!m.hasOwnProperty(_e)||fe===ge||fe==null&&ge==null||Mt(a,l,_e,fe,m,ge)}function DA(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function c8(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var v=d[m],w=v.transferSize,k=v.initiatorType,U=v.duration;if(w&&U&&DA(k)){for(k=0,U=v.responseEnd,m+=1;m<d.length;m++){var Q=d[m],ue=Q.startTime;if(ue>U)break;var be=Q.transferSize,_e=Q.initiatorType;be&&DA(_e)&&(Q=Q.responseEnd,k+=be*(Q<U?1:(U-ue)/(Q-ue)))}if(--m,l+=8*(w+k)/(v.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Uv=null,Vv=null;function Tp(a){return a.nodeType===9?a:a.ownerDocument}function MA(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function LA(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function Bv(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Fv=null;function u8(){var a=window.event;return a&&a.type==="popstate"?a===Fv?!1:(Fv=a,!0):(Fv=null,!1)}var zA=typeof setTimeout=="function"?setTimeout:void 0,d8=typeof clearTimeout=="function"?clearTimeout:void 0,UA=typeof Promise=="function"?Promise:void 0,f8=typeof queueMicrotask=="function"?queueMicrotask:typeof UA<"u"?function(a){return UA.resolve(null).then(a).catch(h8)}:zA;function h8(a){setTimeout(function(){throw a})}function Xo(a){return a==="head"}function VA(a,l){var d=l,m=0;do{var v=d.nextSibling;if(a.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"||d==="/&"){if(m===0){a.removeChild(v),Iu(l);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")Ef(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,Ef(d);for(var w=d.firstChild;w;){var k=w.nextSibling,U=w.nodeName;w[ft]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&w.rel.toLowerCase()==="stylesheet"||d.removeChild(w),w=k}}else d==="body"&&Ef(a.ownerDocument.body);d=v}while(d);Iu(l)}function BA(a,l){var d=a;a=0;do{var m=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=m}while(d)}function $v(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":$v(d),Nt(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function m8(a,l,d,m){for(;a.nodeType===1;){var v=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[ft])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=Qi(a.nextSibling),a===null)break}return null}function p8(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Qi(a.nextSibling),a===null))return null;return a}function FA(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Qi(a.nextSibling),a===null))return null;return a}function qv(a){return a.data==="$?"||a.data==="$~"}function Hv(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function g8(a,l){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||d.readyState!=="loading")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Qi(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var Gv=null;function $A(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(l===0)return Qi(a.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}a=a.nextSibling}return null}function qA(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return a;l--}else d!=="/$"&&d!=="/&"||l++}a=a.previousSibling}return null}function HA(a,l,d){switch(l=Tp(d),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Ef(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Nt(a)}var Xi=new Map,GA=new Set;function Cp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Fs=H.d;H.d={f:y8,r:x8,D:v8,C:b8,L:w8,m:j8,X:_8,S:N8,M:S8};function y8(){var a=Fs.f(),l=bp();return a||l}function x8(a){var l=rr(a);l!==null&&l.tag===5&&l.type==="form"?cE(l):Fs.r(a)}var Tu=typeof document>"u"?null:document;function KA(a,l,d){var m=Tu;if(m&&typeof l=="string"&&l){var v=ri(l);v='link[rel="'+a+'"][href="'+v+'"]',typeof d=="string"&&(v+='[crossorigin="'+d+'"]'),GA.has(v)||(GA.add(v),a={rel:a,crossOrigin:d,href:l},m.querySelector(v)===null&&(l=m.createElement("link"),xr(l,"link",a),nn(l),m.head.appendChild(l)))}}function v8(a){Fs.D(a),KA("dns-prefetch",a,null)}function b8(a,l){Fs.C(a,l),KA("preconnect",a,l)}function w8(a,l,d){Fs.L(a,l,d);var m=Tu;if(m&&a&&l){var v='link[rel="preload"][as="'+ri(l)+'"]';l==="image"&&d&&d.imageSrcSet?(v+='[imagesrcset="'+ri(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(v+='[imagesizes="'+ri(d.imageSizes)+'"]')):v+='[href="'+ri(a)+'"]';var w=v;switch(l){case"style":w=Cu(a);break;case"script":w=ku(a)}Xi.has(w)||(a=g({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),Xi.set(w,a),m.querySelector(v)!==null||l==="style"&&m.querySelector(Af(w))||l==="script"&&m.querySelector(Tf(w))||(l=m.createElement("link"),xr(l,"link",a),nn(l),m.head.appendChild(l)))}}function j8(a,l){Fs.m(a,l);var d=Tu;if(d&&a){var m=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+ri(m)+'"][href="'+ri(a)+'"]',w=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=ku(a)}if(!Xi.has(w)&&(a=g({rel:"modulepreload",href:a},l),Xi.set(w,a),d.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Tf(w)))return}m=d.createElement("link"),xr(m,"link",a),nn(m),d.head.appendChild(m)}}}function N8(a,l,d){Fs.S(a,l,d);var m=Tu;if(m&&a){var v=_n(m).hoistableStyles,w=Cu(a);l=l||"default";var k=v.get(w);if(!k){var U={loading:0,preload:null};if(k=m.querySelector(Af(w)))U.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":l},d),(d=Xi.get(w))&&Kv(a,d);var Q=k=m.createElement("link");nn(Q),xr(Q,"link",a),Q._p=new Promise(function(ue,be){Q.onload=ue,Q.onerror=be}),Q.addEventListener("load",function(){U.loading|=1}),Q.addEventListener("error",function(){U.loading|=2}),U.loading|=4,kp(k,l,m)}k={type:"stylesheet",instance:k,count:1,state:U},v.set(w,k)}}}function _8(a,l){Fs.X(a,l);var d=Tu;if(d&&a){var m=_n(d).hoistableScripts,v=ku(a),w=m.get(v);w||(w=d.querySelector(Tf(v)),w||(a=g({src:a,async:!0},l),(l=Xi.get(v))&&Wv(a,l),w=d.createElement("script"),nn(w),xr(w,"link",a),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(v,w))}}function S8(a,l){Fs.M(a,l);var d=Tu;if(d&&a){var m=_n(d).hoistableScripts,v=ku(a),w=m.get(v);w||(w=d.querySelector(Tf(v)),w||(a=g({src:a,async:!0,type:"module"},l),(l=Xi.get(v))&&Wv(a,l),w=d.createElement("script"),nn(w),xr(w,"link",a),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(v,w))}}function WA(a,l,d,m){var v=(v=Le.current)?Cp(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Cu(d.href),d=_n(v).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=Cu(d.href);var w=_n(v).hoistableStyles,k=w.get(a);if(k||(v=v.ownerDocument||v,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,k),(w=v.querySelector(Af(a)))&&!w._p&&(k.instance=w,k.state.loading=5),Xi.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Xi.set(a,d),w||E8(v,a,d,k.state))),l&&m===null)throw Error(r(528,""));return k}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=ku(d),d=_n(v).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Cu(a){return'href="'+ri(a)+'"'}function Af(a){return'link[rel="stylesheet"]['+a+"]"}function YA(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function E8(a,l,d,m){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=a.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),xr(l,"link",d),nn(l),a.head.appendChild(l))}function ku(a){return'[src="'+ri(a)+'"]'}function Tf(a){return"script[async]"+a}function QA(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=a.querySelector('style[data-href~="'+ri(d.href)+'"]');if(m)return l.instance=m,nn(m),m;var v=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),nn(m),xr(m,"style",v),kp(m,d.precedence,a),l.instance=m;case"stylesheet":v=Cu(d.href);var w=a.querySelector(Af(v));if(w)return l.state.loading|=4,l.instance=w,nn(w),w;m=YA(d),(v=Xi.get(v))&&Kv(m,v),w=(a.ownerDocument||a).createElement("link"),nn(w);var k=w;return k._p=new Promise(function(U,Q){k.onload=U,k.onerror=Q}),xr(w,"link",m),l.state.loading|=4,kp(w,d.precedence,a),l.instance=w;case"script":return w=ku(d.src),(v=a.querySelector(Tf(w)))?(l.instance=v,nn(v),v):(m=d,(v=Xi.get(w))&&(m=g({},d),Wv(m,v)),a=a.ownerDocument||a,v=a.createElement("script"),nn(v),xr(v,"link",m),a.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,kp(m,d.precedence,a));return l.instance}function kp(a,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,w=v,k=0;k<m.length;k++){var U=m[k];if(U.dataset.precedence===l)w=U;else if(w!==v)break}w?w.parentNode.insertBefore(a,w.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function Kv(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function Wv(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Ip=null;function XA(a,l,d){if(Ip===null){var m=new Map,v=Ip=new Map;v.set(d,m)}else v=Ip,m=v.get(d),m||(m=new Map,v.set(d,m));if(m.has(a))return m;for(m.set(a,null),d=d.getElementsByTagName(a),v=0;v<d.length;v++){var w=d[v];if(!(w[ft]||w[oe]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var k=w.getAttribute(l)||"";k=a+k;var U=m.get(k);U?U.push(w):m.set(k,[w])}}return m}function JA(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function A8(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function ZA(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function T8(a,l,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var v=Cu(m.href),w=l.querySelector(Af(v));if(w){l=w._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=Op.bind(a),l.then(a,a)),d.state.loading|=4,d.instance=w,nn(w);return}w=l.ownerDocument||l,m=YA(m),(v=Xi.get(v))&&Kv(m,v),w=w.createElement("link"),nn(w);var k=w;k._p=new Promise(function(U,Q){k.onload=U,k.onerror=Q}),xr(w,"link",m),d.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=Op.bind(a),l.addEventListener("load",d),l.addEventListener("error",d))}}var Yv=0;function C8(a,l){return a.stylesheets&&a.count===0&&Pp(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var m=setTimeout(function(){if(a.stylesheets&&Pp(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+l);0<a.imgBytes&&Yv===0&&(Yv=62500*c8());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Pp(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>Yv?50:800)+l);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function Op(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Rp=null;function Pp(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Rp=new Map,l.forEach(k8,a),Rp=null,Op.call(a))}function k8(a,l){if(!(l.state.loading&4)){var d=Rp.get(a);if(d)var m=d.get(null);else{d=new Map,Rp.set(a,d);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var k=v[w];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(d.set(k.dataset.precedence,k),m=k)}m&&d.set(null,m)}v=l.instance,k=v.getAttribute("data-precedence"),w=d.get(k)||m,w===m&&d.set(null,v),d.set(k,v),this.count++,m=Op.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),w?w.parentNode.insertBefore(v,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),l.state.loading|=4}}var Cf={$$typeof:C,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function I8(a,l,d,m,v,w,k,U,Q){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fr(0),this.hiddenUpdates=Fr(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function eT(a,l,d,m,v,w,k,U,Q,ue,be,_e){return a=new I8(a,l,d,k,Q,ue,be,_e,U),l=1,w===!0&&(l|=24),w=wi(3,null,null,l),a.current=w,w.stateNode=a,l=Tx(),l.refCount++,a.pooledCache=l,l.refCount++,w.memoizedState={element:m,isDehydrated:d,cache:l},Ox(w),a}function tT(a){return a?(a=ou,a):ou}function nT(a,l,d,m,v,w){v=tT(v),m.context===null?m.context=v:m.pendingContext=v,m=Vo(l),m.payload={element:d},w=w===void 0?null:w,w!==null&&(m.callback=w),d=Bo(a,m,l),d!==null&&(ci(d,a,l),of(d,a,l))}function rT(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function Qv(a,l){rT(a,l),(a=a.alternate)&&rT(a,l)}function iT(a){if(a.tag===13||a.tag===31){var l=Zl(a,67108864);l!==null&&ci(l,a,67108864),Qv(a,67108864)}}function aT(a){if(a.tag===13||a.tag===31){var l=Ei();l=Ie(l);var d=Zl(a,l);d!==null&&ci(d,a,l),Qv(a,l)}}var Dp=!0;function O8(a,l,d,m){var v=G.T;G.T=null;var w=H.p;try{H.p=2,Xv(a,l,d,m)}finally{H.p=w,G.T=v}}function R8(a,l,d,m){var v=G.T;G.T=null;var w=H.p;try{H.p=8,Xv(a,l,d,m)}finally{H.p=w,G.T=v}}function Xv(a,l,d,m){if(Dp){var v=Jv(m);if(v===null)Lv(a,l,m,Mp,d),oT(a,m);else if(D8(v,a,l,d,m))m.stopPropagation();else if(oT(a,m),l&4&&-1<P8.indexOf(a)){for(;v!==null;){var w=rr(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var k=Br(w.pendingLanes);if(k!==0){var U=w;for(U.pendingLanes|=2,U.entangledLanes|=2;k;){var Q=1<<31-Ft(k);U.entanglements[1]|=Q,k&=~Q}Ya(w),(Tt&6)===0&&(xp=Bt()+500,Nf(0))}}break;case 31:case 13:U=Zl(w,2),U!==null&&ci(U,w,2),bp(),Qv(w,2)}if(w=Jv(m),w===null&&Lv(a,l,m,Mp,d),w===v)break;v=w}v!==null&&m.stopPropagation()}else Lv(a,l,m,null,d)}}function Jv(a){return a=Bi(a),Zv(a)}var Mp=null;function Zv(a){if(Mp=null,a=nr(a),a!==null){var l=o(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=c(l),a!==null)return a;a=null}else if(d===31){if(a=u(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Mp=a,null}function sT(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yi()){case fa:return 2;case cn:return 8;case en:case No:return 32;case _s:return 268435456;default:return 32}default:return 32}}var eb=!1,Jo=null,Zo=null,el=null,kf=new Map,If=new Map,tl=[],P8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oT(a,l){switch(a){case"focusin":case"focusout":Jo=null;break;case"dragenter":case"dragleave":Zo=null;break;case"mouseover":case"mouseout":el=null;break;case"pointerover":case"pointerout":kf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":If.delete(l.pointerId)}}function Of(a,l,d,m,v,w){return a===null||a.nativeEvent!==w?(a={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:w,targetContainers:[v]},l!==null&&(l=rr(l),l!==null&&iT(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),a)}function D8(a,l,d,m,v){switch(l){case"focusin":return Jo=Of(Jo,a,l,d,m,v),!0;case"dragenter":return Zo=Of(Zo,a,l,d,m,v),!0;case"mouseover":return el=Of(el,a,l,d,m,v),!0;case"pointerover":var w=v.pointerId;return kf.set(w,Of(kf.get(w)||null,a,l,d,m,v)),!0;case"gotpointercapture":return w=v.pointerId,If.set(w,Of(If.get(w)||null,a,l,d,m,v)),!0}return!1}function lT(a){var l=nr(a.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=c(d),l!==null){a.blockedOn=l,Me(a.priority,function(){aT(d)});return}}else if(l===31){if(l=u(d),l!==null){a.blockedOn=l,Me(a.priority,function(){aT(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Lp(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=Jv(a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);qd=m,d.target.dispatchEvent(m),qd=null}else return l=rr(d),l!==null&&iT(l),a.blockedOn=d,!1;l.shift()}return!0}function cT(a,l,d){Lp(a)&&d.delete(l)}function M8(){eb=!1,Jo!==null&&Lp(Jo)&&(Jo=null),Zo!==null&&Lp(Zo)&&(Zo=null),el!==null&&Lp(el)&&(el=null),kf.forEach(cT),If.forEach(cT)}function zp(a,l){a.blockedOn===l&&(a.blockedOn=null,eb||(eb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,M8)))}var Up=null;function uT(a){Up!==a&&(Up=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Up===a&&(Up=null);for(var l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],v=a[l+2];if(typeof m!="function"){if(Zv(m||d)===null)continue;break}var w=rr(d);w!==null&&(a.splice(l,3),l-=3,Jx(w,{pending:!0,data:v,method:d.method,action:m},m,v))}}))}function Iu(a){function l(Q){return zp(Q,a)}Jo!==null&&zp(Jo,a),Zo!==null&&zp(Zo,a),el!==null&&zp(el,a),kf.forEach(l),If.forEach(l);for(var d=0;d<tl.length;d++){var m=tl[d];m.blockedOn===a&&(m.blockedOn=null)}for(;0<tl.length&&(d=tl[0],d.blockedOn===null);)lT(d),d.blockedOn===null&&tl.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var v=d[m],w=d[m+1],k=v[ae]||null;if(typeof w=="function")k||uT(d);else if(k){var U=null;if(w&&w.hasAttribute("formAction")){if(v=w,k=w[ae]||null)U=k.formAction;else if(Zv(v)!==null)continue}else U=k.action;typeof U=="function"?d[m+1]=U:(d.splice(m,3),m-=3),uT(d)}}}function dT(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(k){return v=k})},focusReset:"manual",scroll:"manual"})}function l(){v!==null&&(v(),v=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),v!==null&&(v(),v=null)}}}function tb(a){this._internalRoot=a}Vp.prototype.render=tb.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,m=Ei();nT(d,m,a,l,null,null)},Vp.prototype.unmount=tb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;nT(a.current,2,null,a,null,null),bp(),l[me]=null}};function Vp(a){this._internalRoot=a}Vp.prototype.unstable_scheduleHydration=function(a){if(a){var l=qe();a={blockedOn:null,target:a,priority:l};for(var d=0;d<tl.length&&l!==0&&l<tl[d].priority;d++);tl.splice(d,0,a),d===0&&lT(a)}};var fT=e.version;if(fT!=="19.2.0")throw Error(r(527,fT,"19.2.0"));H.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(l),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var L8={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{un=Bp.inject(L8),mn=Bp}catch{}}return Pf.createRoot=function(a,l){if(!i(a))throw Error(r(299));var d=!1,m="",v=vE,w=bE,k=wE;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError)),l=eT(a,1,!1,null,null,d,m,null,v,w,k,dT),a[me]=l.current,Mv(a),new tb(l)},Pf.hydrateRoot=function(a,l,d){if(!i(a))throw Error(r(299));var m=!1,v="",w=vE,k=bE,U=wE,Q=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(U=d.onRecoverableError),d.formState!==void 0&&(Q=d.formState)),l=eT(a,1,!0,l,d??null,m,v,Q,w,k,U,dT),l.context=tT(null),d=l.current,m=Ei(),m=Ie(m),v=Vo(m),v.callback=null,Bo(d,v,m),d=m,l.current.lanes=d,ya(l,d),Ya(l),a[me]=l.current,Mv(a),new Vp(l)},Pf.version="19.2.0",Pf}var jT;function W8(){if(jT)return ib.exports;jT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ib.exports=K8(),ib.exports}var Y8=W8();const Q8=bs(Y8);var l4=t=>{throw TypeError(t)},X8=(t,e,n)=>e.has(t)||l4("Cannot "+n),lb=(t,e,n)=>(X8(t,e,"read from private field"),n?n.call(t):e.get(t)),J8=(t,e,n)=>e.has(t)?l4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),NT="popstate";function Z8(t={}){function e(r,i){let{pathname:o,search:c,hash:u}=r.location;return ph("",{pathname:o,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:fs(i)}return t7(e,n,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function e7(){return Math.random().toString(36).substring(2,10)}function _T(t,e){return{usr:t.state,key:t.key,idx:e}}function ph(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Dl(e):e,state:n,key:e&&e.key||r||e7()}}function fs({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Dl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function t7(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,c=i.history,u="POP",f=null,h=p();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function p(){return(c.state||{idx:null}).idx}function g(){u="POP";let N=p(),T=N==null?null:N-h;h=N,f&&f({action:u,location:S.location,delta:T})}function x(N,T){u="PUSH";let O=ph(S.location,N,T);h=p()+1;let C=_T(O,h),M=S.createHref(O);try{c.pushState(C,"",M)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(M)}o&&f&&f({action:u,location:S.location,delta:1})}function b(N,T){u="REPLACE";let O=ph(S.location,N,T);h=p();let C=_T(O,h),M=S.createHref(O);c.replaceState(C,"",M),o&&f&&f({action:u,location:S.location,delta:0})}function _(N){return c4(N)}let S={get action(){return u},get location(){return t(i,c)},listen(N){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(NT,g),f=N,()=>{i.removeEventListener(NT,g),f=null}},createHref(N){return e(i,N)},createURL:_,encodeLocation(N){let T=_(N);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:x,replace:b,go(N){return c.go(N)}};return S}function c4(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:fs(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Wf,ST=class{constructor(t){if(J8(this,Wf,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(lb(this,Wf).has(t))return lb(this,Wf).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){lb(this,Wf).set(t,e)}};Wf=new WeakMap;var n7=new Set(["lazy","caseSensitive","path","id","index","children"]);function r7(t){return n7.has(t)}var i7=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function a7(t){return i7.has(t)}function s7(t){return t.index===!0}function gh(t,e,n=[],r={},i=!1){return t.map((o,c)=>{let u=[...n,String(c)],f=typeof o.id=="string"?o.id:u.join("-");if(lt(o.index!==!0||!o.children,"Cannot specify children on an index route"),lt(i||!r[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),s7(o)){let h={...o,id:f};return r[f]=ET(h,e(h)),h}else{let h={...o,id:f,children:void 0};return r[f]=ET(h,e(h)),o.children&&(h.children=gh(o.children,e,u,r,i)),h}})}function ET(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function ol(t,e,n="/"){return pg(t,e,n,!1)}function pg(t,e,n,r){let i=typeof e=="string"?Dl(e):e,o=ia(i.pathname||"/",n);if(o==null)return null;let c=u4(t);l7(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=v7(o);u=y7(c[f],h,r)}return u}function o7(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function u4(t,e=[],n=[],r="",i=!1){let o=(c,u,f=i,h)=>{let p={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&f)return;lt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=is([r,p.relativePath]),x=n.concat(p);c.children&&c.children.length>0&&(lt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),u4(c.children,e,x,g,f)),!(c.path==null&&!c.index)&&e.push({path:g,score:p7(g,c.index),routesMeta:x})};return t.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))o(c,u);else for(let f of d4(c.path))o(c,u,!0,f)}),e}function d4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let c=d4(r.join("/")),u=[];return u.push(...c.map(f=>f===""?o:[o,f].join("/"))),i&&u.push(...c),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function l7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:g7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var c7=/^:[\w-]+$/,u7=3,d7=2,f7=1,h7=10,m7=-2,AT=t=>t==="*";function p7(t,e){let n=t.split("/"),r=n.length;return n.some(AT)&&(r+=m7),e&&(r+=d7),n.filter(i=>!AT(i)).reduce((i,o)=>i+(c7.test(o)?u7:o===""?f7:h7),r)}function g7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function y7(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",c=[];for(let u=0;u<r.length;++u){let f=r[u],h=u===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",g=Mg({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),x=f.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Mg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),c.push({params:i,pathname:is([o,g.pathname]),pathnameBase:N7(is([o,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(o=is([o,g.pathnameBase]))}return c}function Mg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=x7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},x)=>{if(p==="*"){let _=u[x]||"";c=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const b=u[x];return g&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:c,pattern:t}}function x7(t,e=!1,n=!0){kn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function v7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ia(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function b7({basename:t,pathname:e}){return e==="/"?t:is([t,e])}function w7(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Dl(t):t;return{pathname:n?n.startsWith("/")?n:j7(n,e):e,search:_7(r),hash:S7(i)}}function j7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function cb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function f4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jj(t){let e=f4(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Zj(t,e,n,r=!1){let i;typeof t=="string"?i=Dl(t):(i={...t},lt(!i.pathname||!i.pathname.includes("?"),cb("?","pathname","search",i)),lt(!i.pathname||!i.pathname.includes("#"),cb("#","pathname","hash",i)),lt(!i.search||!i.search.includes("#"),cb("#","search","hash",i)));let o=t===""||i.pathname==="",c=o?"/":i.pathname,u;if(c==null)u=n;else{let g=e.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),g-=1;i.pathname=x.join("/")}u=g>=0?e[g]:"/"}let f=w7(i,u),h=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var is=t=>t.join("/").replace(/\/\/+/g,"/"),N7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,S7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Lg=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function yh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function eN(t){return t.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var pl=Symbol("Uninstrumented");function E7(t,e){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(i=>i({id:e.id,index:e.index,path:e.path,instrument(o){let c=Object.keys(n);for(let u of c)o[u]&&n[u].push(o[u])}}));let r={};if(typeof e.lazy=="function"&&n.lazy.length>0){let i=Fu(n.lazy,e.lazy,()=>{});i&&(r.lazy=i)}if(typeof e.lazy=="object"){let i=e.lazy;["middleware","loader","action"].forEach(o=>{let c=i[o],u=n[`lazy.${o}`];if(typeof c=="function"&&u.length>0){let f=Fu(u,c,()=>{});f&&(r.lazy=Object.assign(r.lazy||{},{[o]:f}))}})}return["loader","action"].forEach(i=>{let o=e[i];if(typeof o=="function"&&n[i].length>0){let c=o[pl]??o,u=Fu(n[i],c,(...f)=>TT(f[0]));u&&(u[pl]=c,r[i]=u)}}),e.middleware&&e.middleware.length>0&&n.middleware.length>0&&(r.middleware=e.middleware.map(i=>{let o=i[pl]??i,c=Fu(n.middleware,o,(...u)=>TT(u[0]));return c?(c[pl]=o,c):i})),r}function A7(t,e){let n={navigate:[],fetch:[]};if(e.forEach(r=>r({instrument(i){let o=Object.keys(i);for(let c of o)i[c]&&n[c].push(i[c])}})),n.navigate.length>0){let r=t.navigate[pl]??t.navigate,i=Fu(n.navigate,r,(...o)=>{let[c,u]=o;return{to:typeof c=="number"||typeof c=="string"?c:c?fs(c):".",...CT(t,u??{})}});i&&(i[pl]=r,t.navigate=i)}if(n.fetch.length>0){let r=t.fetch[pl]??t.fetch,i=Fu(n.fetch,r,(...o)=>{let[c,,u,f]=o;return{href:u??".",fetcherKey:c,...CT(t,f??{})}});i&&(i[pl]=r,t.fetch=i)}return t}function Fu(t,e,n){return t.length===0?null:async(...r)=>{let i=await h4(t,n(...r),()=>e(...r),t.length-1);if(i.type==="error")throw i.value;return i.value}}async function h4(t,e,n,r){let i=t[r],o;if(i){let c,u=async()=>(c?console.error("You cannot call instrumented handlers more than once"):c=h4(t,e,n,r-1),o=await c,lt(o,"Expected a result"),o.type==="error"&&o.value instanceof Error?{status:"error",error:o.value}:{status:"success",error:void 0});try{await i(u,e)}catch(f){console.error("An instrumentation function threw an error:",f)}c||await u(),await c}else try{o={type:"success",value:await n()}}catch(c){o={type:"error",value:c}}return o||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function TT(t){let{request:e,context:n,params:r,unstable_pattern:i}=t;return{request:T7(e),params:{...r},unstable_pattern:i,context:C7(n)}}function CT(t,e){return{currentUrl:fs(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function T7(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function C7(t){if(I7(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var k7=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function I7(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===k7}var m4=["POST","PUT","PATCH","DELETE"],O7=new Set(m4),R7=["GET",...m4],P7=new Set(R7),D7=new Set([301,302,303,307,308]),M7=new Set([307,308]),ub={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},L7={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Df={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},z7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tN=t=>z7.test(t),U7=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),p4="remix-router-transitions",g4=Symbol("ResetLoaderData");function V7(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";lt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||U7,o=i;if(t.unstable_instrumentations){let X=t.unstable_instrumentations;o=ne=>({...i(ne),...E7(X.map(he=>he.route).filter(Boolean),ne)})}let c={},u=gh(t.routes,o,void 0,c),f,h=t.basename||"/";h.startsWith("/")||(h=`/${h}`);let p=t.dataStrategy||H7,g={...t.future},x=null,b=new Set,_=null,S=null,N=null,T=t.hydrationData!=null,O=ol(u,t.history.location,h),C=!1,M=null,R;if(O==null&&!t.patchRoutesOnNavigation){let X=Zi(404,{pathname:t.history.location.pathname}),{matches:ne,route:he}=Fp(u);R=!0,O=ne,M={[he.id]:X}}else if(O&&!t.hydrationData&&ga(O,u,t.history.location.pathname).active&&(O=null),O)if(O.some(X=>X.route.lazy))R=!1;else if(!O.some(X=>nN(X.route)))R=!0;else{let X=t.hydrationData?t.hydrationData.loaderData:null,ne=t.hydrationData?t.hydrationData.errors:null;if(ne){let he=O.findIndex(Ae=>ne[Ae.route.id]!==void 0);R=O.slice(0,he+1).every(Ae=>!h1(Ae.route,X,ne))}else R=O.every(he=>!h1(he.route,X,ne))}else{R=!1,O=[];let X=ga(null,u,t.history.location.pathname);X.active&&X.matches&&(C=!0,O=X.matches)}let F,E={historyAction:t.history.action,location:t.history.location,matches:O,initialized:R,navigation:ub,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||M,fetchers:new Map,blockers:new Map},I="POP",D=!1,V,z=!1,$=new Map,L=null,se=!1,Ne=!1,G=new Set,H=new Map,ee=0,W=-1,K=new Map,B=new Set,J=new Map,ie=new Map,ye=new Set,ke=new Map,Le,de=null;function we(){if(x=t.history.listen(({action:X,location:ne,delta:he})=>{if(Le){Le(),Le=void 0;return}kn(ke.size===0||he!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ae=Vr({currentLocation:E.location,nextLocation:ne,historyAction:X});if(Ae&&he!=null){let Ie=new Promise(Ve=>{Le=Ve});t.history.go(he*-1),pa(Ae,{state:"blocked",location:ne,proceed(){pa(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),Ie.then(()=>t.history.go(he))},reset(){let Ve=new Map(E.blockers);Ve.set(Ae,Df),Ee({blockers:Ve})}});return}return xt(X,ne)}),n){sV(e,$);let X=()=>oV(e,$);e.addEventListener("pagehide",X),L=()=>e.removeEventListener("pagehide",X)}return E.initialized||xt("POP",E.location,{initialHydration:!0}),F}function Z(){x&&x(),L&&L(),b.clear(),V&&V.abort(),E.fetchers.forEach((X,ne)=>ha(ne)),E.blockers.forEach((X,ne)=>ma(ne))}function De(X){return b.add(X),()=>b.delete(X)}function Ee(X,ne={}){X.matches&&(X.matches=X.matches.map(Ie=>{let Ve=c[Ie.route.id],qe=Ie.route;return qe.element!==Ve.element||qe.errorElement!==Ve.errorElement||qe.hydrateFallbackElement!==Ve.hydrateFallbackElement?{...Ie,route:Ve}:Ie})),E={...E,...X};let he=[],Ae=[];E.fetchers.forEach((Ie,Ve)=>{Ie.state==="idle"&&(ye.has(Ve)?he.push(Ve):Ae.push(Ve))}),ye.forEach(Ie=>{!E.fetchers.has(Ie)&&!H.has(Ie)&&he.push(Ie)}),[...b].forEach(Ie=>Ie(E,{deletedFetchers:he,viewTransitionOpts:ne.viewTransitionOpts,flushSync:ne.flushSync===!0})),he.forEach(Ie=>ha(Ie)),Ae.forEach(Ie=>E.fetchers.delete(Ie))}function xe(X,ne,{flushSync:he}={}){let Ae=E.actionData!=null&&E.navigation.formMethod!=null&&Yr(E.navigation.formMethod)&&E.navigation.state==="loading"&&X.state?._isRedirect!==!0,Ie;ne.actionData?Object.keys(ne.actionData).length>0?Ie=ne.actionData:Ie=null:Ae?Ie=E.actionData:Ie=null;let Ve=ne.loaderData?UT(E.loaderData,ne.loaderData,ne.matches||[],ne.errors):E.loaderData,qe=E.blockers;qe.size>0&&(qe=new Map(qe),qe.forEach((ae,me)=>qe.set(me,Df)));let Me=se?!1:Ar(X,ne.matches||E.matches),Y=D===!0||E.navigation.formMethod!=null&&Yr(E.navigation.formMethod)&&X.state?._isRedirect!==!0;f&&(u=f,f=void 0),se||I==="POP"||(I==="PUSH"?t.history.push(X,X.state):I==="REPLACE"&&t.history.replace(X,X.state));let oe;if(I==="POP"){let ae=$.get(E.location.pathname);ae&&ae.has(X.pathname)?oe={currentLocation:E.location,nextLocation:X}:$.has(X.pathname)&&(oe={currentLocation:X,nextLocation:E.location})}else if(z){let ae=$.get(E.location.pathname);ae?ae.add(X.pathname):(ae=new Set([X.pathname]),$.set(E.location.pathname,ae)),oe={currentLocation:E.location,nextLocation:X}}Ee({...ne,actionData:Ie,loaderData:Ve,historyAction:I,location:X,initialized:!0,navigation:ub,revalidation:"idle",restoreScrollPosition:Me,preventScrollReset:Y,blockers:qe},{viewTransitionOpts:oe,flushSync:he===!0}),I="POP",D=!1,z=!1,se=!1,Ne=!1,de?.resolve(),de=null}async function jt(X,ne){if(typeof X=="number"){t.history.go(X);return}let he=f1(E.location,E.matches,h,X,ne?.fromRouteId,ne?.relative),{path:Ae,submission:Ie,error:Ve}=kT(!1,he,ne),qe=E.location,Me=ph(E.location,Ae,ne&&ne.state);Me={...Me,...t.history.encodeLocation(Me)};let Y=ne&&ne.replace!=null?ne.replace:void 0,oe="PUSH";Y===!0?oe="REPLACE":Y===!1||Ie!=null&&Yr(Ie.formMethod)&&Ie.formAction===E.location.pathname+E.location.search&&(oe="REPLACE");let ae=ne&&"preventScrollReset"in ne?ne.preventScrollReset===!0:void 0,me=(ne&&ne.flushSync)===!0,Oe=Vr({currentLocation:qe,nextLocation:Me,historyAction:oe});if(Oe){pa(Oe,{state:"blocked",location:Me,proceed(){pa(Oe,{state:"proceeding",proceed:void 0,reset:void 0,location:Me}),jt(X,ne)},reset(){let Ze=new Map(E.blockers);Ze.set(Oe,Df),Ee({blockers:Ze})}});return}await xt(oe,Me,{submission:Ie,pendingError:Ve,preventScrollReset:ae,replace:ne&&ne.replace,enableViewTransition:ne&&ne.viewTransition,flushSync:me})}function Je(){de||(de=lV()),fa(),Ee({revalidation:"loading"});let X=de.promise;return E.navigation.state==="submitting"?X:E.navigation.state==="idle"?(xt(E.historyAction,E.location,{startUninterruptedRevalidation:!0}),X):(xt(I||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:z===!0}),X)}async function xt(X,ne,he){V&&V.abort(),V=null,I=X,se=(he&&he.startUninterruptedRevalidation)===!0,tr(E.location,E.matches),D=(he&&he.preventScrollReset)===!0,z=(he&&he.enableViewTransition)===!0;let Ae=f||u,Ie=he&&he.overrideNavigation,Ve=he?.initialHydration&&E.matches&&E.matches.length>0&&!C?E.matches:ol(Ae,ne,h),qe=(he&&he.flushSync)===!0;if(Ve&&E.initialized&&!Ne&&Z7(E.location,ne)&&!(he&&he.submission&&Yr(he.submission.formMethod))){xe(ne,{matches:Ve},{flushSync:qe});return}let Me=ga(Ve,Ae,ne.pathname);if(Me.active&&Me.matches&&(Ve=Me.matches),!Ve){let{error:dn,notFoundMatches:ft,route:Nt}=er(ne.pathname);xe(ne,{matches:ft,loaderData:{},errors:{[Nt.id]:dn}},{flushSync:qe});return}V=new AbortController;let Y=Mu(t.history,ne,V.signal,he&&he.submission),oe=t.getContext?await t.getContext():new ST,ae;if(he&&he.pendingError)ae=[ll(Ve).route.id,{type:"error",error:he.pendingError}];else if(he&&he.submission&&Yr(he.submission.formMethod)){let dn=await Vt(Y,ne,he.submission,Ve,oe,Me.active,he&&he.initialHydration===!0,{replace:he.replace,flushSync:qe});if(dn.shortCircuited)return;if(dn.pendingActionResult){let[ft,Nt]=dn.pendingActionResult;if(Ai(Nt)&&yh(Nt.error)&&Nt.error.status===404){V=null,xe(ne,{matches:dn.matches,loaderData:{},errors:{[ft]:Nt.error}});return}}Ve=dn.matches||Ve,ae=dn.pendingActionResult,Ie=db(ne,he.submission),qe=!1,Me.active=!1,Y=Mu(t.history,Y.url,Y.signal)}let{shortCircuited:me,matches:Oe,loaderData:Ze,errors:ct}=await fr(Y,ne,Ve,oe,Me.active,Ie,he&&he.submission,he&&he.fetcherSubmission,he&&he.replace,he&&he.initialHydration===!0,qe,ae);me||(V=null,xe(ne,{matches:Oe||Ve,...VT(ae),loaderData:Ze,errors:ct}))}async function Vt(X,ne,he,Ae,Ie,Ve,qe,Me={}){fa();let Y=iV(ne,he);if(Ee({navigation:Y},{flushSync:Me.flushSync===!0}),Ve){let me=await xi(Ae,ne.pathname,X.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){if(me.partialMatches.length===0){let{matches:Ze,route:ct}=Fp(u);return{matches:Ze,pendingActionResult:[ct.id,{type:"error",error:me.error}]}}let Oe=ll(me.partialMatches).route.id;return{matches:me.partialMatches,pendingActionResult:[Oe,{type:"error",error:me.error}]}}else if(me.matches)Ae=me.matches;else{let{notFoundMatches:Oe,error:Ze,route:ct}=er(ne.pathname);return{matches:Oe,pendingActionResult:[ct.id,{type:"error",error:Ze}]}}}let oe,ae=gg(Ae,ne);if(!ae.route.action&&!ae.route.lazy)oe={type:"error",error:Zi(405,{method:X.method,pathname:ne.pathname,routeId:ae.route.id})};else{let me=Wu(o,c,X,Ae,ae,qe?[]:r,Ie),Oe=await Bt(X,me,Ie,null);if(oe=Oe[ae.route.id],!oe){for(let Ze of Ae)if(Oe[Ze.route.id]){oe=Oe[Ze.route.id];break}}if(X.signal.aborted)return{shortCircuited:!0}}if(gc(oe)){let me;return Me&&Me.replace!=null?me=Me.replace:me=MT(oe.response.headers.get("Location"),new URL(X.url),h)===E.location.pathname+E.location.search,await ni(X,oe,!0,{submission:he,replace:me}),{shortCircuited:!0}}if(Ai(oe)){let me=ll(Ae,ae.route.id);return(Me&&Me.replace)!==!0&&(I="PUSH"),{matches:Ae,pendingActionResult:[me.route.id,oe,ae.route.id]}}return{matches:Ae,pendingActionResult:[ae.route.id,oe]}}async function fr(X,ne,he,Ae,Ie,Ve,qe,Me,Y,oe,ae,me){let Oe=Ve||db(ne,qe),Ze=qe||Me||FT(Oe),ct=!se&&!oe;if(Ie){if(ct){let gn=Ur(me);Ee({navigation:Oe,...gn!==void 0?{actionData:gn}:{}},{flushSync:ae})}let st=await xi(he,ne.pathname,X.signal);if(st.type==="aborted")return{shortCircuited:!0};if(st.type==="error"){if(st.partialMatches.length===0){let{matches:Ui,route:Vi}=Fp(u);return{matches:Ui,loaderData:{},errors:{[Vi.id]:st.error}}}let gn=ll(st.partialMatches).route.id;return{matches:st.partialMatches,loaderData:{},errors:{[gn]:st.error}}}else if(st.matches)he=st.matches;else{let{error:gn,notFoundMatches:Ui,route:Vi}=er(ne.pathname);return{matches:Ui,loaderData:{},errors:{[Vi.id]:gn}}}}let dn=f||u,{dsMatches:ft,revalidatingFetchers:Nt}=IT(X,Ae,o,c,t.history,E,he,Ze,ne,oe?[]:r,oe===!0,Ne,G,ye,J,B,dn,h,t.patchRoutesOnNavigation!=null,me);if(W=++ee,!t.dataStrategy&&!ft.some(st=>st.shouldLoad)&&!ft.some(st=>st.route.middleware&&st.route.middleware.length>0)&&Nt.length===0){let st=hr();return xe(ne,{matches:he,loaderData:{},errors:me&&Ai(me[1])?{[me[0]]:me[1].error}:null,...VT(me),...st?{fetchers:new Map(E.fetchers)}:{}},{flushSync:ae}),{shortCircuited:!0}}if(ct){let st={};if(!Ie){st.navigation=Oe;let gn=Ur(me);gn!==void 0&&(st.actionData=gn)}Nt.length>0&&(st.fetchers=Jt(Nt)),Ee(st,{flushSync:ae})}Nt.forEach(st=>{un(st.key),st.controller&&H.set(st.key,st.controller)});let nr=()=>Nt.forEach(st=>un(st.key));V&&V.signal.addEventListener("abort",nr);let{loaderResults:rr,fetcherResults:pn}=await yi(ft,Nt,X,Ae);if(X.signal.aborted)return{shortCircuited:!0};V&&V.signal.removeEventListener("abort",nr),Nt.forEach(st=>H.delete(st.key));let _n=$p(rr);if(_n)return await ni(X,_n.result,!0,{replace:Y}),{shortCircuited:!0};if(_n=$p(pn),_n)return B.add(_n.key),await ni(X,_n.result,!0,{replace:Y}),{shortCircuited:!0};let{loaderData:nn,errors:xa}=zT(E,he,rr,me,Nt,pn);oe&&E.errors&&(xa={...E.errors,...xa});let vi=hr(),$r=Ft(W),qr=vi||$r||Nt.length>0;return{matches:he,loaderData:nn,errors:xa,...qr?{fetchers:new Map(E.fetchers)}:{}}}function Ur(X){if(X&&!Ai(X[1]))return{[X[0]]:X[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function Jt(X){return X.forEach(ne=>{let he=E.fetchers.get(ne.key),Ae=Mf(void 0,he?he.data:void 0);E.fetchers.set(ne.key,Ae)}),new Map(E.fetchers)}async function Zt(X,ne,he,Ae){un(X);let Ie=(Ae&&Ae.flushSync)===!0,Ve=f||u,qe=f1(E.location,E.matches,h,he,ne,Ae?.relative),Me=ol(Ve,qe,h),Y=ga(Me,Ve,qe);if(Y.active&&Y.matches&&(Me=Y.matches),!Me){en(X,ne,Zi(404,{pathname:qe}),{flushSync:Ie});return}let{path:oe,submission:ae,error:me}=kT(!0,qe,Ae);if(me){en(X,ne,me,{flushSync:Ie});return}let Oe=t.getContext?await t.getContext():new ST,Ze=(Ae&&Ae.preventScrollReset)===!0;if(ae&&Yr(ae.formMethod)){await zi(X,ne,oe,Me,Oe,Y.active,Ie,Ze,ae);return}J.set(X,{routeId:ne,path:oe}),await Ns(X,ne,oe,Me,Oe,Y.active,Ie,Ze,ae)}async function zi(X,ne,he,Ae,Ie,Ve,qe,Me,Y){fa(),J.delete(X);let oe=E.fetchers.get(X);cn(X,aV(Y,oe),{flushSync:qe});let ae=new AbortController,me=Mu(t.history,he,ae.signal,Y);if(Ve){let $t=await xi(Ae,new URL(me.url).pathname,me.signal,X);if($t.type==="aborted")return;if($t.type==="error"){en(X,ne,$t.error,{flushSync:qe});return}else if($t.matches)Ae=$t.matches;else{en(X,ne,Zi(404,{pathname:he}),{flushSync:qe});return}}let Oe=gg(Ae,he);if(!Oe.route.action&&!Oe.route.lazy){let $t=Zi(405,{method:Y.formMethod,pathname:he,routeId:ne});en(X,ne,$t,{flushSync:qe});return}H.set(X,ae);let Ze=ee,ct=Wu(o,c,me,Ae,Oe,r,Ie),ft=(await Bt(me,ct,Ie,X))[Oe.route.id];if(me.signal.aborted){H.get(X)===ae&&H.delete(X);return}if(ye.has(X)){if(gc(ft)||Ai(ft)){cn(X,$s(void 0));return}}else{if(gc(ft))if(H.delete(X),W>Ze){cn(X,$s(void 0));return}else return B.add(X),cn(X,Mf(Y)),ni(me,ft,!1,{fetcherSubmission:Y,preventScrollReset:Me});if(Ai(ft)){en(X,ne,ft.error);return}}let Nt=E.navigation.location||E.location,nr=Mu(t.history,Nt,ae.signal),rr=f||u,pn=E.navigation.state!=="idle"?ol(rr,E.navigation.location,h):E.matches;lt(pn,"Didn't find any matches after fetcher action");let _n=++ee;K.set(X,_n);let nn=Mf(Y,ft.data);E.fetchers.set(X,nn);let{dsMatches:xa,revalidatingFetchers:vi}=IT(nr,Ie,o,c,t.history,E,pn,Y,Nt,r,!1,Ne,G,ye,J,B,rr,h,t.patchRoutesOnNavigation!=null,[Oe.route.id,ft]);vi.filter($t=>$t.key!==X).forEach($t=>{let ir=$t.key,fn=E.fetchers.get(ir),Dn=Mf(void 0,fn?fn.data:void 0);E.fetchers.set(ir,Dn),un(ir),$t.controller&&H.set(ir,$t.controller)}),Ee({fetchers:new Map(E.fetchers)});let $r=()=>vi.forEach($t=>un($t.key));ae.signal.addEventListener("abort",$r);let{loaderResults:qr,fetcherResults:st}=await yi(xa,vi,nr,Ie);if(ae.signal.aborted)return;if(ae.signal.removeEventListener("abort",$r),K.delete(X),H.delete(X),vi.forEach($t=>H.delete($t.key)),E.fetchers.has(X)){let $t=$s(ft.data);E.fetchers.set(X,$t)}let gn=$p(qr);if(gn)return ni(nr,gn.result,!1,{preventScrollReset:Me});if(gn=$p(st),gn)return B.add(gn.key),ni(nr,gn.result,!1,{preventScrollReset:Me});let{loaderData:Ui,errors:Vi}=zT(E,pn,qr,void 0,vi,st);Ft(_n),E.navigation.state==="loading"&&_n>W?(lt(I,"Expected pending action"),V&&V.abort(),xe(E.navigation.location,{matches:pn,loaderData:Ui,errors:Vi,fetchers:new Map(E.fetchers)})):(Ee({errors:Vi,loaderData:UT(E.loaderData,Ui,pn,Vi),fetchers:new Map(E.fetchers)}),Ne=!1)}async function Ns(X,ne,he,Ae,Ie,Ve,qe,Me,Y){let oe=E.fetchers.get(X);cn(X,Mf(Y,oe?oe.data:void 0),{flushSync:qe});let ae=new AbortController,me=Mu(t.history,he,ae.signal);if(Ve){let Nt=await xi(Ae,new URL(me.url).pathname,me.signal,X);if(Nt.type==="aborted")return;if(Nt.type==="error"){en(X,ne,Nt.error,{flushSync:qe});return}else if(Nt.matches)Ae=Nt.matches;else{en(X,ne,Zi(404,{pathname:he}),{flushSync:qe});return}}let Oe=gg(Ae,he);H.set(X,ae);let Ze=ee,ct=Wu(o,c,me,Ae,Oe,r,Ie),ft=(await Bt(me,ct,Ie,X))[Oe.route.id];if(H.get(X)===ae&&H.delete(X),!me.signal.aborted){if(ye.has(X)){cn(X,$s(void 0));return}if(gc(ft))if(W>Ze){cn(X,$s(void 0));return}else{B.add(X),await ni(me,ft,!1,{preventScrollReset:Me});return}if(Ai(ft)){en(X,ne,ft.error);return}cn(X,$s(ft.data))}}async function ni(X,ne,he,{submission:Ae,fetcherSubmission:Ie,preventScrollReset:Ve,replace:qe}={}){ne.response.headers.has("X-Remix-Revalidate")&&(Ne=!0);let Me=ne.response.headers.get("Location");lt(Me,"Expected a Location header on the redirect Response"),Me=MT(Me,new URL(X.url),h);let Y=ph(E.location,Me,{_isRedirect:!0});if(n){let ct=!1;if(ne.response.headers.has("X-Remix-Reload-Document"))ct=!0;else if(tN(Me)){const dn=c4(Me,!0);ct=dn.origin!==e.location.origin||ia(dn.pathname,h)==null}if(ct){qe?e.location.replace(Me):e.location.assign(Me);return}}V=null;let oe=qe===!0||ne.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ae,formAction:me,formEncType:Oe}=E.navigation;!Ae&&!Ie&&ae&&me&&Oe&&(Ae=FT(E.navigation));let Ze=Ae||Ie;if(M7.has(ne.response.status)&&Ze&&Yr(Ze.formMethod))await xt(oe,Y,{submission:{...Ze,formAction:Me},preventScrollReset:Ve||D,enableViewTransition:he?z:void 0});else{let ct=db(Y,Ae);await xt(oe,Y,{overrideNavigation:ct,fetcherSubmission:Ie,preventScrollReset:Ve||D,enableViewTransition:he?z:void 0})}}async function Bt(X,ne,he,Ae){let Ie,Ve={};try{Ie=await K7(p,X,ne,Ae,he,!1)}catch(qe){return ne.filter(Me=>Me.shouldLoad).forEach(Me=>{Ve[Me.route.id]={type:"error",error:qe}}),Ve}if(X.signal.aborted)return Ve;for(let[qe,Me]of Object.entries(Ie))if(nV(Me)){let Y=Me.result;Ve[qe]={type:"redirect",response:X7(Y,X,qe,ne,h)}}else Ve[qe]=await Q7(Me);return Ve}async function yi(X,ne,he,Ae){let Ie=Bt(he,X,Ae,null),Ve=Promise.all(ne.map(async Y=>{if(Y.matches&&Y.match&&Y.request&&Y.controller){let ae=(await Bt(Y.request,Y.matches,Ae,Y.key))[Y.match.route.id];return{[Y.key]:ae}}else return Promise.resolve({[Y.key]:{type:"error",error:Zi(404,{pathname:Y.path})}})})),qe=await Ie,Me=(await Ve).reduce((Y,oe)=>Object.assign(Y,oe),{});return{loaderResults:qe,fetcherResults:Me}}function fa(){Ne=!0,J.forEach((X,ne)=>{H.has(ne)&&G.add(ne),un(ne)})}function cn(X,ne,he={}){E.fetchers.set(X,ne),Ee({fetchers:new Map(E.fetchers)},{flushSync:(he&&he.flushSync)===!0})}function en(X,ne,he,Ae={}){let Ie=ll(E.matches,ne);ha(X),Ee({errors:{[Ie.route.id]:he},fetchers:new Map(E.fetchers)},{flushSync:(Ae&&Ae.flushSync)===!0})}function No(X){return ie.set(X,(ie.get(X)||0)+1),ye.has(X)&&ye.delete(X),E.fetchers.get(X)||L7}function _s(X,ne){un(X,ne?.reason),cn(X,$s(null))}function ha(X){let ne=E.fetchers.get(X);H.has(X)&&!(ne&&ne.state==="loading"&&K.has(X))&&un(X),J.delete(X),K.delete(X),B.delete(X),ye.delete(X),G.delete(X),E.fetchers.delete(X)}function _o(X){let ne=(ie.get(X)||0)-1;ne<=0?(ie.delete(X),ye.add(X)):ie.set(X,ne),Ee({fetchers:new Map(E.fetchers)})}function un(X,ne){let he=H.get(X);he&&(he.abort(ne),H.delete(X))}function mn(X){for(let ne of X){let he=No(ne),Ae=$s(he.data);E.fetchers.set(ne,Ae)}}function hr(){let X=[],ne=!1;for(let he of B){let Ae=E.fetchers.get(he);lt(Ae,`Expected fetcher: ${he}`),Ae.state==="loading"&&(B.delete(he),X.push(he),ne=!0)}return mn(X),ne}function Ft(X){let ne=[];for(let[he,Ae]of K)if(Ae<X){let Ie=E.fetchers.get(he);lt(Ie,`Expected fetcher: ${he}`),Ie.state==="loading"&&(un(he),K.delete(he),ne.push(he))}return mn(ne),ne.length>0}function So(X,ne){let he=E.blockers.get(X)||Df;return ke.get(X)!==ne&&ke.set(X,ne),he}function ma(X){E.blockers.delete(X),ke.delete(X)}function pa(X,ne){let he=E.blockers.get(X)||Df;lt(he.state==="unblocked"&&ne.state==="blocked"||he.state==="blocked"&&ne.state==="blocked"||he.state==="blocked"&&ne.state==="proceeding"||he.state==="blocked"&&ne.state==="unblocked"||he.state==="proceeding"&&ne.state==="unblocked",`Invalid blocker state transition: ${he.state} -> ${ne.state}`);let Ae=new Map(E.blockers);Ae.set(X,ne),Ee({blockers:Ae})}function Vr({currentLocation:X,nextLocation:ne,historyAction:he}){if(ke.size===0)return;ke.size>1&&kn(!1,"A router only supports one blocker at a time");let Ae=Array.from(ke.entries()),[Ie,Ve]=Ae[Ae.length-1],qe=E.blockers.get(Ie);if(!(qe&&qe.state==="proceeding")&&Ve({currentLocation:X,nextLocation:ne,historyAction:he}))return Ie}function er(X){let ne=Zi(404,{pathname:X}),he=f||u,{matches:Ae,route:Ie}=Fp(he);return{notFoundMatches:Ae,route:Ie,error:ne}}function tn(X,ne,he){if(_=X,N=ne,S=he||null,!T&&E.navigation===ub){T=!0;let Ae=Ar(E.location,E.matches);Ae!=null&&Ee({restoreScrollPosition:Ae})}return()=>{_=null,N=null,S=null}}function Br(X,ne){return S&&S(X,ne.map(Ae=>o7(Ae,E.loaderData)))||X.key}function tr(X,ne){if(_&&N){let he=Br(X,ne);_[he]=N()}}function Ar(X,ne){if(_){let he=Br(X,ne),Ae=_[he];if(typeof Ae=="number")return Ae}return null}function ga(X,ne,he){if(t.patchRoutesOnNavigation)if(X){if(Object.keys(X[0].params).length>0)return{active:!0,matches:pg(ne,he,h,!0)}}else return{active:!0,matches:pg(ne,he,h,!0)||[]};return{active:!1,matches:null}}async function xi(X,ne,he,Ae){if(!t.patchRoutesOnNavigation)return{type:"success",matches:X};let Ie=X;for(;;){let Ve=f==null,qe=f||u,Me=c;try{await t.patchRoutesOnNavigation({signal:he,path:ne,matches:Ie,fetcherKey:Ae,patch:(ae,me)=>{he.aborted||OT(ae,me,qe,Me,o,!1)}})}catch(ae){return{type:"error",error:ae,partialMatches:Ie}}finally{Ve&&!he.aborted&&(u=[...u])}if(he.aborted)return{type:"aborted"};let Y=ol(qe,ne,h);if(Y)return{type:"success",matches:Y};let oe=pg(qe,ne,h,!0);if(!oe||Ie.length===oe.length&&Ie.every((ae,me)=>ae.route.id===oe[me].route.id))return{type:"success",matches:null};Ie=oe}}function Fr(X){c={},f=gh(X,o,void 0,c)}function ya(X,ne,he=!1){let Ae=f==null;OT(X,ne,f||u,c,o,he),Ae&&(u=[...u],Ee({}))}return F={get basename(){return h},get future(){return g},get state(){return E},get routes(){return u},get window(){return e},initialize:we,subscribe:De,enableScrollRestoration:tn,navigate:jt,fetch:Zt,revalidate:Je,createHref:X=>t.history.createHref(X),encodeLocation:X=>t.history.encodeLocation(X),getFetcher:No,resetFetcher:_s,deleteFetcher:_o,dispose:Z,getBlocker:So,deleteBlocker:ma,patchRoutes:ya,_internalFetchControllers:H,_internalSetRoutes:Fr,_internalSetStateDoNotUseOrYouWillBreakYourApp(X){Ee(X)}},t.unstable_instrumentations&&(F=A7(F,t.unstable_instrumentations.map(X=>X.router).filter(Boolean))),F}function B7(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function f1(t,e,n,r,i,o){let c,u;if(i){c=[];for(let h of e)if(c.push(h),h.route.id===i){u=h;break}}else c=e,u=e[e.length-1];let f=Zj(r||".",Jj(c),ia(t.pathname,n)||t.pathname,o==="path");if(r==null&&(f.search=t.search,f.hash=t.hash),(r==null||r===""||r===".")&&u){let h=rN(f.search);if(u.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let p=new URLSearchParams(f.search),g=p.getAll("index");p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let x=p.toString();f.search=x?`?${x}`:""}}return n!=="/"&&(f.pathname=b7({basename:n,pathname:f.pathname})),fs(f)}function kT(t,e,n){if(!n||!B7(n))return{path:e};if(n.formMethod&&!rV(n.formMethod))return{path:e,error:Zi(405,{method:n.formMethod})};let r=()=>({path:e,error:Zi(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),c=j4(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Yr(o))return r();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((x,[b,_])=>`${x}${b}=${_}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!Yr(o))return r();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:c,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch{return r()}}}lt(typeof FormData=="function","FormData is not available in this environment");let u,f;if(n.formData)u=p1(n.formData),f=n.formData;else if(n.body instanceof FormData)u=p1(n.body),f=n.body;else if(n.body instanceof URLSearchParams)u=n.body,f=LT(u);else if(n.body==null)u=new URLSearchParams,f=new FormData;else try{u=new URLSearchParams(n.body),f=LT(u)}catch{return r()}let h={formMethod:o,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Yr(h.formMethod))return{path:e,submission:h};let p=Dl(e);return t&&p.search&&rN(p.search)&&u.append("index",""),p.search=`?${u}`,{path:fs(p),submission:h}}function IT(t,e,n,r,i,o,c,u,f,h,p,g,x,b,_,S,N,T,O,C){let M=C?Ai(C[1])?C[1].error:C[1].data:void 0,R=i.createURL(o.location),F=i.createURL(f),E;if(p&&o.errors){let se=Object.keys(o.errors)[0];E=c.findIndex(Ne=>Ne.route.id===se)}else if(C&&Ai(C[1])){let se=C[0];E=c.findIndex(Ne=>Ne.route.id===se)-1}let I=C?C[1].statusCode:void 0,D=I&&I>=400,V={currentUrl:R,currentParams:o.matches[0]?.params||{},nextUrl:F,nextParams:c[0].params,...u,actionResult:M,actionStatus:I},z=eN(c.map(se=>se.route.path)),$=c.map((se,Ne)=>{let{route:G}=se,H=null;if(E!=null&&Ne>E?H=!1:G.lazy?H=!0:nN(G)?p?H=h1(G,o.loaderData,o.errors):F7(o.loaderData,o.matches[Ne],se)&&(H=!0):H=!1,H!==null)return m1(n,r,t,z,se,h,e,H);let ee=D?!1:g||R.pathname+R.search===F.pathname+F.search||R.search!==F.search||$7(o.matches[Ne],se),W={...V,defaultShouldRevalidate:ee},K=zg(se,W);return m1(n,r,t,z,se,h,e,K,W)}),L=[];return _.forEach((se,Ne)=>{if(p||!c.some(ie=>ie.route.id===se.routeId)||b.has(Ne))return;let G=o.fetchers.get(Ne),H=G&&G.state!=="idle"&&G.data===void 0,ee=ol(N,se.path,T);if(!ee){if(O&&H)return;L.push({key:Ne,routeId:se.routeId,path:se.path,matches:null,match:null,request:null,controller:null});return}if(S.has(Ne))return;let W=gg(ee,se.path),K=new AbortController,B=Mu(i,se.path,K.signal),J=null;if(x.has(Ne))x.delete(Ne),J=Wu(n,r,B,ee,W,h,e);else if(H)g&&(J=Wu(n,r,B,ee,W,h,e));else{let ie={...V,defaultShouldRevalidate:D?!1:g};zg(W,ie)&&(J=Wu(n,r,B,ee,W,h,e,ie))}J&&L.push({key:Ne,routeId:se.routeId,path:se.path,matches:J,match:W,request:B,controller:K})}),{dsMatches:$,revalidatingFetchers:L}}function nN(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function h1(t,e,n){if(t.lazy)return!0;if(!nN(t))return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function F7(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function $7(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function zg(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function OT(t,e,n,r,i,o){let c;if(t){let h=r[t];lt(h,`No route found to patch children into: routeId = ${t}`),h.children||(h.children=[]),c=h.children}else c=n;let u=[],f=[];if(e.forEach(h=>{let p=c.find(g=>y4(h,g));p?f.push({existingRoute:p,newRoute:h}):u.push(h)}),u.length>0){let h=gh(u,i,[t||"_","patch",String(c?.length||"0")],r);c.push(...h)}if(o&&f.length>0)for(let h=0;h<f.length;h++){let{existingRoute:p,newRoute:g}=f[h],x=p,[b]=gh([g],i,[],{},!0);Object.assign(x,{element:b.element?b.element:x.element,errorElement:b.errorElement?b.errorElement:x.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:x.hydrateFallbackElement})}}function y4(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(i=>y4(n,i))):!1}var RT=new WeakMap,x4=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(lt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[t];if(!o)return;let c=RT.get(i);c||(c={},RT.set(i,c));let u=c[t];if(u)return u;let f=(async()=>{let h=r7(t),g=i[t]!==void 0&&t!=="hasErrorBoundary";if(h)kn(!h,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),c[t]=Promise.resolve();else if(g)kn(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let x=await o();x!=null&&(Object.assign(i,{[t]:x}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(x=>x===void 0)&&(i.lazy=void 0))})();return c[t]=f,f},PT=new WeakMap;function q7(t,e,n,r,i){let o=n[t.id];if(lt(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=PT.get(o);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let g=(async()=>{lt(typeof t.lazy=="function","No lazy route function found");let x=await t.lazy(),b={};for(let _ in x){let S=x[_];if(S===void 0)continue;let N=a7(_),O=o[_]!==void 0&&_!=="hasErrorBoundary";N?kn(!N,"Route property "+_+" is not a supported property to be returned from a lazy route function. This property will be ignored."):O?kn(!O,`Route "${o.id}" has a static property "${_}" defined but its lazy function is also returning a value for this property. The lazy route property "${_}" will be ignored.`):b[_]=S}Object.assign(o,b),Object.assign(o,{...r(o),lazy:void 0})})();return PT.set(o,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let c=Object.keys(t.lazy),u=[],f;for(let p of c){if(i&&i.includes(p))continue;let g=x4({key:p,route:t,manifest:n,mapRouteProperties:r});g&&(u.push(g),p===e&&(f=g))}let h=u.length>0?Promise.all(u).then(()=>{}):void 0;return h?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}async function DT(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,o)=>{n[e[o].route.id]=i}),n}async function H7(t){return t.matches.some(e=>e.route.middleware)?v4(t,()=>DT(t)):DT(t)}function v4(t,e){return G7(t,e,r=>r,eV,n);function n(r,i,o){if(o)return Promise.resolve(Object.assign(o.value,{[i]:{type:"error",result:r}}));{let{matches:c}=t,u=Math.min(Math.max(c.findIndex(h=>h.route.id===i),0),Math.max(c.findIndex(h=>h.unstable_shouldCallHandler()),0)),f=ll(c,c[u].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:r}})}}}async function G7(t,e,n,r,i){let{matches:o,request:c,params:u,context:f,unstable_pattern:h}=t,p=o.flatMap(x=>x.route.middleware?x.route.middleware.map(b=>[x.route.id,b]):[]);return await b4({request:c,params:u,context:f,unstable_pattern:h},p,e,n,r,i)}async function b4(t,e,n,r,i,o,c=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason??new Error(`Request aborted: ${u.method} ${u.url}`);let f=e[c];if(!f)return await n();let[h,p]=f,g,x=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");try{return g={value:await b4(t,e,n,r,i,o,c+1)},g.value}catch(b){return g={value:await o(b,h,g)},g.value}};try{let b=await p(t,x),_=b!=null?r(b):void 0;return i(_)?_:g?_??g.value:(g={value:await x()},g.value)}catch(b){return await o(b,h,g)}}function w4(t,e,n,r,i){let o=x4({key:"middleware",route:r.route,manifest:e,mapRouteProperties:t}),c=q7(r.route,Yr(n.method)?"action":"loader",e,t,i);return{middleware:o,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function m1(t,e,n,r,i,o,c,u,f=null){let h=!1,p=w4(t,e,n,i,o);return{...i,_lazyPromises:p,shouldLoad:u,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(g){return h=!0,f?typeof g=="boolean"?zg(i,{...f,defaultShouldRevalidate:g}):zg(i,f):u},resolve(g){let{lazy:x,loader:b,middleware:_}=i.route,S=h||u||g&&!Yr(n.method)&&(x||b),N=_&&_.length>0&&!b&&!x;return S&&(Yr(n.method)||!N)?W7({request:n,unstable_pattern:r,match:i,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:g,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function Wu(t,e,n,r,i,o,c,u=null){return r.map(f=>f.route.id!==i.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler:()=>!1,_lazyPromises:w4(t,e,n,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:m1(t,e,n,eN(r.map(h=>h.route.path)),f,o,c,!0,u))}async function K7(t,e,n,r,i,o){n.some(h=>h._lazyPromises?.middleware)&&await Promise.all(n.map(h=>h._lazyPromises?.middleware));let c={request:e,unstable_pattern:eN(n.map(h=>h.route.path)),params:n[0].params,context:i,matches:n},f=await t({...c,fetcherKey:r,runClientMiddleware:h=>{let p=c;return v4(p,()=>h({...p,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return f}async function W7({request:t,unstable_pattern:e,match:n,lazyHandlerPromise:r,lazyRoutePromise:i,handlerOverride:o,scopedContext:c}){let u,f,h=Yr(t.method),p=h?"action":"loader",g=x=>{let b,_=new Promise((T,O)=>b=O);f=()=>b(),t.signal.addEventListener("abort",f);let S=T=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${n.route.id}]`)):x({request:t,unstable_pattern:e,params:n.params,context:c},...T!==void 0?[T]:[]),N=(async()=>{try{return{type:"data",result:await(o?o(O=>S(O)):S())}}catch(T){return{type:"error",result:T}}})();return Promise.race([N,_])};try{let x=h?n.route.action:n.route.loader;if(r||i)if(x){let b,[_]=await Promise.all([g(x).catch(S=>{b=S}),r,i]);if(b!==void 0)throw b;u=_}else{await r;let b=h?n.route.action:n.route.loader;if(b)[u]=await Promise.all([g(b),i]);else if(p==="action"){let _=new URL(t.url),S=_.pathname+_.search;throw Zi(405,{method:t.method,pathname:S,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(x)u=await g(x);else{let b=new URL(t.url),_=b.pathname+b.search;throw Zi(404,{pathname:_})}}catch(x){return{type:"error",result:x}}finally{f&&t.signal.removeEventListener("abort",f)}return u}async function Y7(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function Q7(t){let{result:e,type:n}=t;if(N4(e)){let r;try{r=await Y7(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Lg(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?BT(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Lg(e.init?.status||500,void 0,e.data),statusCode:yh(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:yh(e)?e.status:void 0}:BT(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function X7(t,e,n,r,i){let o=t.headers.get("Location");if(lt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!tN(o)){let c=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=f1(new URL(e.url),c,i,o),t.headers.set("Location",o)}return t}function MT(t,e,n){if(tN(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=ia(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function Mu(t,e,n,r){let i=t.createURL(j4(e)).toString(),o={signal:n};if(r&&Yr(r.formMethod)){let{formMethod:c,formEncType:u}=r;o.method=c.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(r.json)):u==="text/plain"?o.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?o.body=p1(r.formData):o.body=r.formData}return new Request(i,o)}function p1(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function LT(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function J7(t,e,n,r=!1,i=!1){let o={},c=null,u,f=!1,h={},p=n&&Ai(n[1])?n[1].error:void 0;return t.forEach(g=>{if(!(g.route.id in e))return;let x=g.route.id,b=e[x];if(lt(!gc(b),"Cannot handle redirect results in processLoaderData"),Ai(b)){let _=b.error;if(p!==void 0&&(_=p,p=void 0),c=c||{},i)c[x]=_;else{let S=ll(t,x);c[S.route.id]==null&&(c[S.route.id]=_)}r||(o[x]=g4),f||(f=!0,u=yh(b.error)?b.error.status:500),b.headers&&(h[x]=b.headers)}else o[x]=b.data,b.statusCode&&b.statusCode!==200&&!f&&(u=b.statusCode),b.headers&&(h[x]=b.headers)}),p!==void 0&&n&&(c={[n[0]]:p},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:c,statusCode:u||200,loaderHeaders:h}}function zT(t,e,n,r,i,o){let{loaderData:c,errors:u}=J7(e,n,r);return i.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:p,controller:g}=f;if(g&&g.signal.aborted)return;let x=o[h];if(lt(x,"Did not find corresponding fetcher result"),Ai(x)){let b=ll(t.matches,p?.route.id);u&&u[b.route.id]||(u={...u,[b.route.id]:x.error}),t.fetchers.delete(h)}else if(gc(x))lt(!1,"Unhandled fetcher revalidation redirect");else{let b=$s(x.data);t.fetchers.set(h,b)}}),{loaderData:c,errors:u}}function UT(t,e,n,r){let i=Object.entries(e).filter(([,o])=>o!==g4).reduce((o,[c,u])=>(o[c]=u,o),{});for(let o of n){let c=o.route.id;if(!e.hasOwnProperty(c)&&t.hasOwnProperty(c)&&o.route.loader&&(i[c]=t[c]),r&&r.hasOwnProperty(c))break}return i}function VT(t){return t?Ai(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ll(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Fp(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Zi(t,{pathname:e,routeId:n,method:r,type:i,message:o}={}){let c="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(c="Bad Request",r&&e&&n?u=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(u="Unable to encode submission body")):t===403?(c="Forbidden",u=`Route "${n}" does not match URL "${e}"`):t===404?(c="Not Found",u=`No route matches URL "${e}"`):t===405&&(c="Method Not Allowed",r&&e&&n?u=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new Lg(t||500,c,new Error(u),!0)}function $p(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(gc(i))return{key:r,result:i}}}function j4(t){let e=typeof t=="string"?Dl(t):t;return fs({...e,hash:""})}function Z7(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function eV(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&tV(n))}function tV(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function nV(t){return N4(t.result)&&D7.has(t.result.status)}function Ai(t){return t.type==="error"}function gc(t){return(t&&t.type)==="redirect"}function BT(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function N4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function rV(t){return P7.has(t.toUpperCase())}function Yr(t){return O7.has(t.toUpperCase())}function rN(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function gg(t,e){let n=typeof e=="string"?Dl(e).search:e.search;if(t[t.length-1].route.index&&rN(n||""))return t[t.length-1];let r=f4(t);return r[r.length-1]}function FT(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:c}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:c,text:void 0}}}function db(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function iV(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Mf(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function aV(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function $s(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function sV(t,e){try{let n=t.sessionStorage.getItem(p4);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function oV(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(p4,JSON.stringify(n))}catch(r){kn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function lV(){let t,e,n=new Promise((r,i)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{i(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Bc=j.createContext(null);Bc.displayName="DataRouter";var Bh=j.createContext(null);Bh.displayName="DataRouterState";j.createContext(!1);var iN=j.createContext({isTransitioning:!1});iN.displayName="ViewTransition";var _4=j.createContext(new Map);_4.displayName="Fetchers";var cV=j.createContext(null);cV.displayName="Await";var ws=j.createContext(null);ws.displayName="Navigation";var Xy=j.createContext(null);Xy.displayName="Location";var za=j.createContext({outlet:null,matches:[],isDataRoute:!1});za.displayName="Route";var aN=j.createContext(null);aN.displayName="RouteError";function uV(t,{relative:e}={}){lt(Fh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(ws),{hash:i,pathname:o,search:c}=$h(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:is([n,o])),r.createHref({pathname:u,search:c,hash:i})}function Fh(){return j.useContext(Xy)!=null}function ca(){return lt(Fh(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Xy).location}var S4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E4(t){j.useContext(ws).static||j.useLayoutEffect(t)}function zr(){let{isDataRoute:t}=j.useContext(za);return t?SV():dV()}function dV(){lt(Fh(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(Bc),{basename:e,navigator:n}=j.useContext(ws),{matches:r}=j.useContext(za),{pathname:i}=ca(),o=JSON.stringify(Jj(r)),c=j.useRef(!1);return E4(()=>{c.current=!0}),j.useCallback((f,h={})=>{if(kn(c.current,S4),!c.current)return;if(typeof f=="number"){n.go(f);return}let p=Zj(f,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:is([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,o,i,t])}var A4=j.createContext(null);function fV(){return j.useContext(A4)}function hV(t){let e=j.useContext(za).outlet;return j.useMemo(()=>e&&j.createElement(A4.Provider,{value:t},e),[e,t])}function sN(){let{matches:t}=j.useContext(za),e=t[t.length-1];return e?e.params:{}}function $h(t,{relative:e}={}){let{matches:n}=j.useContext(za),{pathname:r}=ca(),i=JSON.stringify(Jj(n));return j.useMemo(()=>Zj(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function mV(t,e,n,r,i){lt(Fh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(ws),{matches:c}=j.useContext(za),u=c[c.length-1],f=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let O=g&&g.path||"";T4(h,!g||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let x=ca(),b;b=x;let _=b.pathname||"/",S=_;if(p!=="/"){let O=p.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(O.length).join("/")}let N=ol(t,{pathname:S});return kn(g||N!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),kn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),vV(N&&N.map(O=>Object.assign({},O,{params:Object.assign({},f,O.params),pathname:is([p,o.encodeLocation?o.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:is([p,o.encodeLocation?o.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),c,n,r,i)}function pV(){let t=_V(),e=yh(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,c)}var gV=j.createElement(pV,null),yV=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?j.createElement(za.Provider,{value:this.props.routeContext},j.createElement(aN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xV({routeContext:t,match:e,children:n}){let r=j.useContext(Bc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(za.Provider,{value:t},n)}function vV(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n?.errors;if(c!=null){let h=o.findIndex(p=>p.route.id&&c?.[p.route.id]!==void 0);lt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,f=-1;if(n)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:g,errors:x}=n,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||b){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,p,g)=>{let x,b=!1,_=null,S=null;n&&(x=c&&p.route.id?c[p.route.id]:void 0,_=p.route.errorElement||gV,u&&(f<0&&g===0?(T4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):f===g&&(b=!0,S=p.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,g+1)),T=()=>{let O;return x?O=_:b?O=S:p.route.Component?O=j.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=h,j.createElement(xV,{match:p,routeContext:{outlet:h,matches:N,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?j.createElement(yV,{location:n.location,revalidation:n.revalidation,component:_,error:x,children:T(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:r}):T()},null)}function oN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bV(t){let e=j.useContext(Bc);return lt(e,oN(t)),e}function wV(t){let e=j.useContext(Bh);return lt(e,oN(t)),e}function jV(t){let e=j.useContext(za);return lt(e,oN(t)),e}function lN(t){let e=jV(t),n=e.matches[e.matches.length-1];return lt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function NV(){return lN("useRouteId")}function _V(){let t=j.useContext(aN),e=wV("useRouteError"),n=lN("useRouteError");return t!==void 0?t:e.errors?.[n]}function SV(){let{router:t}=bV("useNavigate"),e=lN("useNavigate"),n=j.useRef(!1);return E4(()=>{n.current=!0}),j.useCallback(async(i,o={})=>{kn(n.current,S4),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var $T={};function T4(t,e,n){!e&&!$T[t]&&($T[t]=!0,kn(!1,n))}var qT={};function HT(t,e){!t&&!qT[e]&&(qT[e]=!0,console.warn(e))}function EV(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&kn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:j.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&kn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:j.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&kn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:j.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var AV=["HydrateFallback","hydrateFallbackElement"],TV=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function CV({router:t,flushSync:e,unstable_onError:n}){let[r,i]=j.useState(t.state),[o,c]=j.useState(),[u,f]=j.useState({isTransitioning:!1}),[h,p]=j.useState(),[g,x]=j.useState(),[b,_]=j.useState(),S=j.useRef(new Map),N=j.useCallback(R=>{i(F=>(R.errors&&n&&Object.entries(R.errors).forEach(([E,I])=>{F.errors?.[E]!==I&&n(I)}),R))},[n]),T=j.useCallback((R,{deletedFetchers:F,flushSync:E,viewTransitionOpts:I})=>{R.fetchers.forEach((V,z)=>{V.data!==void 0&&S.current.set(z,V.data)}),F.forEach(V=>S.current.delete(V)),HT(E===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(HT(I==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!I||!D){e&&E?e(()=>N(R)):j.startTransition(()=>N(R));return}if(e&&E){e(()=>{g&&(h&&h.resolve(),g.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let V=t.window.document.startViewTransition(()=>{e(()=>N(R))});V.finished.finally(()=>{e(()=>{p(void 0),x(void 0),c(void 0),f({isTransitioning:!1})})}),e(()=>x(V));return}g?(h&&h.resolve(),g.skipTransition(),_({state:R,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(c(R),f({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[t.window,e,g,h,N]);j.useLayoutEffect(()=>t.subscribe(T),[t,T]),j.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new TV)},[u]),j.useEffect(()=>{if(h&&o&&t.window){let R=o,F=h.promise,E=t.window.document.startViewTransition(async()=>{j.startTransition(()=>N(R)),await F});E.finished.finally(()=>{p(void 0),x(void 0),c(void 0),f({isTransitioning:!1})}),x(E)}},[o,h,t.window,N]),j.useEffect(()=>{h&&o&&r.location.key===o.location.key&&h.resolve()},[h,g,r.location,o]),j.useEffect(()=>{!u.isTransitioning&&b&&(c(b.state),f({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),_(void 0))},[u.isTransitioning,b]);let O=j.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:R=>t.navigate(R),push:(R,F,E)=>t.navigate(R,{state:F,preventScrollReset:E?.preventScrollReset}),replace:(R,F,E)=>t.navigate(R,{replace:!0,state:F,preventScrollReset:E?.preventScrollReset})}),[t]),C=t.basename||"/",M=j.useMemo(()=>({router:t,navigator:O,static:!1,basename:C,unstable_onError:n}),[t,O,C,n]);return j.createElement(j.Fragment,null,j.createElement(Bc.Provider,{value:M},j.createElement(Bh.Provider,{value:r},j.createElement(_4.Provider,{value:S.current},j.createElement(iN.Provider,{value:u},j.createElement(OV,{basename:C,location:r.location,navigationType:r.historyAction,navigator:O},j.createElement(kV,{routes:t.routes,future:t.future,state:r,unstable_onError:n})))))),null)}var kV=j.memo(IV);function IV({routes:t,future:e,state:n,unstable_onError:r}){return mV(t,void 0,n,r,e)}function cN(t){return hV(t.context)}function OV({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){lt(!Fh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof n=="string"&&(n=Dl(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:x="default"}=n,b=j.useMemo(()=>{let _=ia(f,c);return _==null?null:{location:{pathname:_,search:h,hash:p,state:g,key:x},navigationType:r}},[c,f,h,p,g,x,r]);return kn(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:j.createElement(ws.Provider,{value:u},j.createElement(Xy.Provider,{children:e,value:b}))}var yg="get",xg="application/x-www-form-urlencoded";function Jy(t){return t!=null&&typeof t.tagName=="string"}function RV(t){return Jy(t)&&t.tagName.toLowerCase()==="button"}function PV(t){return Jy(t)&&t.tagName.toLowerCase()==="form"}function DV(t){return Jy(t)&&t.tagName.toLowerCase()==="input"}function MV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LV(t,e){return t.button===0&&(!e||e==="_self")&&!MV(t)}function g1(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function zV(t,e){let n=g1(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}var qp=null;function UV(){if(qp===null)try{new FormData(document.createElement("form"),0),qp=!1}catch{qp=!0}return qp}var VV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fb(t){return t!=null&&!VV.has(t)?(kn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xg}"`),null):t}function BV(t,e){let n,r,i,o,c;if(PV(t)){let u=t.getAttribute("action");r=u?ia(u,e):null,n=t.getAttribute("method")||yg,i=fb(t.getAttribute("enctype"))||xg,o=new FormData(t)}else if(RV(t)||DV(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(r=f?ia(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||yg,i=fb(t.getAttribute("formenctype"))||fb(u.getAttribute("enctype"))||xg,o=new FormData(u,t),!UV()){let{name:h,type:p,value:g}=t;if(p==="image"){let x=h?`${h}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else h&&o.append(h,g)}}else{if(Jy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yg,r=null,i=xg,c=t}return o&&i==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uN(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function FV(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ia(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function $V(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qV(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function HV(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let c=await $V(o,n);return c.links?c.links():[]}return[]}));return YV(r.flat(1).filter(qV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function GT(t,e,n,r,i,o){let c=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,u=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,h)=>c(f,h)||u(f,h)):o==="data"?e.filter((f,h)=>{let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function GV(t,e,{includeHydrateFallback:n}={}){return KV(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function KV(t){return[...new Set(t)]}function WV(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function YV(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(WV(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function C4(){let t=j.useContext(Bc);return uN(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function QV(){let t=j.useContext(Bh);return uN(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var dN=j.createContext(void 0);dN.displayName="FrameworkContext";function k4(){let t=j.useContext(dN);return uN(t,"You must render this element inside a <HydratedRouter> element"),t}function XV(t,e){let n=j.useContext(dN),[r,i]=j.useState(!1),[o,c]=j.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,x=j.useRef(null);j.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let S=T=>{T.forEach(O=>{c(O.isIntersecting)})},N=new IntersectionObserver(S,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[t]),j.useEffect(()=>{if(r){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[r]);let b=()=>{i(!0)},_=()=>{i(!1),c(!1)};return n?t!=="intent"?[o,x,{}]:[o,x,{onFocus:Lf(u,b),onBlur:Lf(f,_),onMouseEnter:Lf(h,b),onMouseLeave:Lf(p,_),onTouchStart:Lf(g,b)}]:[!1,x,{}]}function Lf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function JV({page:t,...e}){let{router:n}=C4(),r=j.useMemo(()=>ol(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?j.createElement(eB,{page:t,matches:r,...e}):null}function ZV(t){let{manifest:e,routeModules:n}=k4(),[r,i]=j.useState([]);return j.useEffect(()=>{let o=!1;return HV(t,e,n).then(c=>{o||i(c)}),()=>{o=!0}},[t,e,n]),r}function eB({page:t,matches:e,...n}){let r=ca(),{manifest:i,routeModules:o}=k4(),{basename:c}=C4(),{loaderData:u,matches:f}=QV(),h=j.useMemo(()=>GT(t,e,f,i,r,"data"),[t,e,f,i,r]),p=j.useMemo(()=>GT(t,e,f,i,r,"assets"),[t,e,f,i,r]),g=j.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,S=!1;if(e.forEach(T=>{let O=i.routes[T.route.id];!O||!O.hasLoader||(!h.some(C=>C.route.id===T.route.id)&&T.route.id in u&&o[T.route.id]?.shouldRevalidate||O.hasClientLoader?S=!0:_.add(T.route.id))}),_.size===0)return[];let N=FV(t,c,"data");return S&&_.size>0&&N.searchParams.set("_routes",e.filter(T=>_.has(T.route.id)).map(T=>T.route.id).join(",")),[N.pathname+N.search]},[c,u,r,i,h,e,t,o]),x=j.useMemo(()=>GV(p,i),[p,i]),b=ZV(p);return j.createElement(j.Fragment,null,g.map(_=>j.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),x.map(_=>j.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),b.map(({key:_,link:S})=>j.createElement("link",{key:_,nonce:n.nonce,...S})))}function tB(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var I4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{I4&&(window.__reactRouterVersion="7.9.5")}catch{}function nB(t,e){return V7({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:Z8({window:e?.window}),hydrationData:rB(),routes:t,mapRouteProperties:EV,hydrationRouteProperties:AV,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function rB(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:iB(t.errors)}),t}function iB(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Lg(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let c=new o(i.message);c.stack="",n[r]=c}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}var O4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=j.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:c,state:u,target:f,to:h,preventScrollReset:p,viewTransition:g,...x},b){let{basename:_}=j.useContext(ws),S=typeof h=="string"&&O4.test(h),N,T=!1;if(typeof h=="string"&&S&&(N=h,I4))try{let D=new URL(window.location.href),V=h.startsWith("//")?new URL(D.protocol+h):new URL(h),z=ia(V.pathname,_);V.origin===D.origin&&z!=null?h=z+V.search+V.hash:T=!0}catch{kn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=uV(h,{relative:i}),[C,M,R]=XV(r,x),F=lB(h,{replace:c,state:u,target:f,preventScrollReset:p,relative:i,viewTransition:g});function E(D){e&&e(D),D.defaultPrevented||F(D)}let I=j.createElement("a",{...x,...R,href:N||O,onClick:T||o?e:E,ref:tB(b,M),target:f,"data-discover":!S&&n==="render"?"true":void 0});return C&&!S?j.createElement(j.Fragment,null,I,j.createElement(JV,{page:O})):I});Pe.displayName="Link";var aB=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:c,viewTransition:u,children:f,...h},p){let g=$h(c,{relative:h.relative}),x=ca(),b=j.useContext(Bh),{navigator:_,basename:S}=j.useContext(ws),N=b!=null&&hB(g)&&u===!0,T=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,O=x.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(O=O.toLowerCase(),C=C?C.toLowerCase():null,T=T.toLowerCase()),C&&S&&(C=ia(C,S)||C);const M=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let R=O===T||!i&&O.startsWith(T)&&O.charAt(M)==="/",F=C!=null&&(C===T||!i&&C.startsWith(T)&&C.charAt(T.length)==="/"),E={isActive:R,isPending:F,isTransitioning:N},I=R?e:void 0,D;typeof r=="function"?D=r(E):D=[r,R?"active":null,F?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(E):o;return j.createElement(Pe,{...h,"aria-current":I,className:D,ref:p,style:V,to:c,viewTransition:u},typeof f=="function"?f(E):f)});aB.displayName="NavLink";var sB=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:c=yg,action:u,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,...x},b)=>{let _=dB(),S=fB(u,{relative:h}),N=c.toLowerCase()==="get"?"get":"post",T=typeof u=="string"&&O4.test(u),O=C=>{if(f&&f(C),C.defaultPrevented)return;C.preventDefault();let M=C.nativeEvent.submitter,R=M?.getAttribute("formmethod")||c;_(M||C.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:i,state:o,relative:h,preventScrollReset:p,viewTransition:g})};return j.createElement("form",{ref:b,method:N,action:S,onSubmit:r?f:O,...x,"data-discover":!T&&t==="render"?"true":void 0})});sB.displayName="Form";function oB(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R4(t){let e=j.useContext(Bc);return lt(e,oB(t)),e}function lB(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:c}={}){let u=zr(),f=ca(),h=$h(t,{relative:o});return j.useCallback(p=>{if(LV(p,e)){p.preventDefault();let g=n!==void 0?n:fs(f)===fs(h);u(t,{replace:g,state:r,preventScrollReset:i,relative:o,viewTransition:c})}},[f,u,h,n,r,e,t,i,o,c])}function P4(t){kn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(g1(t)),n=j.useRef(!1),r=ca(),i=j.useMemo(()=>zV(r.search,n.current?null:e.current),[r.search]),o=zr(),c=j.useCallback((u,f)=>{const h=g1(typeof u=="function"?u(new URLSearchParams(i)):u);n.current=!0,o("?"+h,f)},[o,i]);return[i,c]}var cB=0,uB=()=>`__${String(++cB)}__`;function dB(){let{router:t}=R4("useSubmit"),{basename:e}=j.useContext(ws),n=NV();return j.useCallback(async(r,i={})=>{let{action:o,method:c,encType:u,formData:f,body:h}=BV(r,e);if(i.navigate===!1){let p=i.fetcherKey||uB();await t.fetch(p,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||c,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||c,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function fB(t,{relative:e}={}){let{basename:n}=j.useContext(ws),r=j.useContext(za);lt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...$h(t||".",{relative:e})},c=ca();if(t==null){o.search=c.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:is([n,o.pathname])),fs(o)}function hB(t,{relative:e}={}){let n=j.useContext(iN);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=R4("useViewTransitionState"),i=$h(t,{relative:e});if(!n.isTransitioning)return!1;let o=ia(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=ia(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Mg(i.pathname,c)!=null||Mg(i.pathname,o)!=null}var fN=o4();function mB(t){return j.createElement(CV,{flushSync:fN.flushSync,...t})}const pB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),KT=t=>{const e=gB(t);return e.charAt(0).toUpperCase()+e.slice(1)},D4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),yB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var xB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const vB=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:c,...u},f)=>j.createElement("svg",{ref:f,...xB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:D4("lucide",i),...!o&&!yB(u)&&{"aria-hidden":"true"},...u},[...c.map(([h,p])=>j.createElement(h,p)),...Array.isArray(o)?o:[o]]));const Te=(t,e)=>{const n=j.forwardRef(({className:r,...i},o)=>j.createElement(vB,{ref:o,iconNode:e,className:D4(`lucide-${pB(KT(t))}`,`lucide-${t}`,r),...i}));return n.displayName=KT(t),n};const bB=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],M4=Te("activity",bB);const wB=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],jB=Te("arrow-down-right",wB);const NB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],L4=Te("arrow-left",NB);const _B=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qh=Te("arrow-right",_B);const SB=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],il=Te("arrow-up-right",SB);const EB=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ts=Te("award",EB);const AB=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],z4=Te("badge-check",AB);const TB=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],CB=Te("ban",TB);const kB=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],IB=Te("bell",kB);const OB=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],RB=Te("bold",OB);const PB=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],bn=Te("book-open",PB);const DB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],MB=Te("calendar-days",DB);const LB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hN=Te("calendar",LB);const zB=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],y1=Te("camera",zB);const UB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Yu=Te("check",UB);const VB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hh=Te("chevron-down",VB);const BB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],U4=Te("chevron-left",BB);const FB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],V4=Te("chevron-right",FB);const $B=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],qB=Te("chevron-up",$B);const HB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Zy=Te("circle-alert",HB);const GB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Nr=Te("circle-check-big",GB);const KB=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Zs=Te("circle-play",KB);const WB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vg=Te("circle-question-mark",WB);const YB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],QB=Te("circle-x",YB);const XB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qu=Te("clock",XB);const JB=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],WT=Te("cloud-upload",JB);const ZB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],eF=Te("copy",ZB);const tF=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],B4=Te("dollar-sign",tF);const nF=[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]],rF=Te("dot",nF);const iF=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ia=Te("download",iF);const aF=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],x1=Te("external-link",aF);const sF=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],eo=Te("eye-off",sF);const oF=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],as=Te("eye",oF);const lF=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],ih=Te("file-image",lF);const cF=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M15.033 13.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56v-4.704a.645.645 0 0 1 .967-.56z",key:"1tzo1f"}]],Hs=Te("file-play",cF);const uF=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ug=Te("file-text",uF);const dF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],fF=Te("film",dF);const hF=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],F4=Te("flame",hF);const mF=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],$4=Te("funnel",mF);const pF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],q4=Te("globe",pF);const gF=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],ah=Te("hard-drive",gF);const yF=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],YT=Te("house",yF);const xF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ws=Te("image",xF);const vF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],bF=Te("info",vF);const wF=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],jF=Te("italic",wF);const NF=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],_F=Te("key-round",NF);const SF=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],EF=Te("layers",SF);const AF=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],H4=Te("layout-dashboard",AF);const TF=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],CF=Te("lightbulb",TF);const kF=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],QT=Te("link",kF);const IF=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],OF=Te("list-ordered",IF);const RF=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],PF=Te("list",RF);const DF=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],sh=Te("loader-circle",DF);const MF=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],e0=Te("loader",MF);const LF=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Qr=Te("lock",LF);const zF=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Vg=Te("log-out",zF);const UF=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],hi=Te("mail",UF);const VF=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],BF=Te("map-pin",VF);const FF=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],$F=Te("maximize",FF);const qF=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],mN=Te("menu",qF);const HF=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],t0=Te("message-square",HF);const GF=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],KF=Te("pause",GF);const WF=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],G4=Te("pen",WF);const YF=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ld=Te("phone",YF);const QF=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],XT=Te("play",QF);const XF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ea=Te("plus",XF);const JF=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],K4=Te("quote",JF);const ZF=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],v1=Te("refresh-cw",ZF);const e$=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Bg=Te("save",e$);const t$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Di=Te("search",t$);const n$=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],r$=Te("settings",n$);const i$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Xu=Te("shield-check",i$);const a$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Gh=Te("shield",a$);const s$=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],cd=Te("shopping-cart",s$);const o$=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],l$=Te("skip-back",o$);const c$=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],u$=Te("skip-forward",c$);const d$=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ja=Te("sparkles",d$);const f$=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],W4=Te("sprout",f$);const h$=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],m$=Te("square-pen",h$);const p$=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Kh=Te("star",p$);const g$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],hb=Te("target",g$);const y$=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],b1=Te("ticket",y$);const x$=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],wr=Te("trash-2",x$);const v$=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],gl=Te("trending-up",v$);const b$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Fg=Te("triangle-alert",b$);const w$=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],pN=Te("trophy",w$);const j$=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],N$=Te("type",j$);const _$=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],S$=Te("underline",_$);const E$=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],w1=Te("upload",E$);const A$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],j1=Te("user-plus",A$);const T$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hs=Te("user",T$);const C$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vl=Te("users",C$);const k$=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Yf=Te("video",k$);const I$=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Y4=Te("volume-2",I$);const O$=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Q4=Te("volume-x",O$);const R$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ot=Te("x",R$);const P$=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],N1=Te("zap",P$),X4="/assets/Logo-Xrjr5igv.png",JT=()=>s.jsx(Pe,{to:"/",className:"w-24 md:w-32 block cursor-pointer",children:s.jsx("img",{src:X4,alt:"Logo",className:"w-full h-auto"})}),J4=()=>s.jsx("div",{children:s.jsxs(Pe,{to:"/register",className:"bg-linear-to-r from-[#0d9c06] to-[#0b7e05] text-[15px] hover:shadow-xl cursor-pointer transition-all hover:scale-105 text-white text-sm rounded-md px-5 py-2.5 flex flex-row gap-1 items-center font-bold",target:"_self",rel:"noopener noreferrer",children:["Enroll Now",s.jsx(qh,{size:14})]})}),D$=()=>{};var ZT={};const Z4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},M$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],c=t[n++],u=t[n++],f=((i&7)<<18|(o&63)<<12|(c&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|c&63)}}return e.join("")},e6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],c=i+1<t.length,u=c?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,p=o>>2,g=(o&3)<<4|u>>4;let x=(u&15)<<2|h>>6,b=h&63;f||(b=64,c||(x=64)),r.push(n[p],n[g],n[x],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Z4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):M$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||h==null||g==null)throw new L$;const x=o<<2|u>>4;if(r.push(x),h!==64){const b=u<<4&240|h>>2;if(r.push(b),g!==64){const _=h<<6&192|g;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class L$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z$=function(t){const e=Z4(t);return e6.encodeByteArray(e,!0)},$g=function(t){return z$(t).replace(/\./g,"")},t6=function(t){try{return e6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function U$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const V$=()=>U$().__FIREBASE_DEFAULTS__,B$=()=>{if(typeof process>"u"||typeof ZT>"u")return;const t=ZT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},F$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&t6(t[1]);return e&&JSON.parse(e)},n0=()=>{try{return D$()||V$()||B$()||F$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},n6=t=>n0()?.emulatorHosts?.[t],r6=t=>{const e=n6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},i6=()=>n0()?.config,a6=t=>n0()?.[`_${t}`];class $${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ml(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gN(t){return(await fetch(t,{credentials:"include"})).ok}function s6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[$g(JSON.stringify(n)),$g(JSON.stringify(c)),""].join(".")}const oh={};function q$(){const t={prod:[],emulator:[]};for(const e of Object.keys(oh))oh[e]?t.emulator.push(e):t.prod.push(e);return t}function H$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let eC=!1;function yN(t,e){if(typeof window>"u"||typeof document>"u"||!Ml(window.location.host)||oh[t]===e||oh[t]||eC)return;oh[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=q$().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,b){x.setAttribute("width","24"),x.setAttribute("id",b),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{eC=!0,c()},x}function p(x,b){x.setAttribute("id",b),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function g(){const x=H$(r),b=n("text"),_=document.getElementById(b)||document.createElement("span"),S=n("learnmore"),N=document.getElementById(S)||document.createElement("a"),T=n("preprendIcon"),O=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const C=x.element;u(C),p(N,S);const M=h();f(O,T),C.append(O,_,N,M),document.body.appendChild(C)}o?(_.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function Mr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mr())}function K$(){const t=n0()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function o6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Y$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Q$(){const t=Mr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function X$(){return!K$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function l6(){try{return typeof indexedDB=="object"}catch{return!1}}function c6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function J$(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Z$="FirebaseError";class ua extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Z$,Object.setPrototypeOf(this,ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fc.prototype.create)}}class Fc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],c=o?eq(o,r):"Error",u=`${this.serviceName}: ${c} (${i}).`;return new ua(i,u,r)}}function eq(t,e){return t.replace(tq,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const tq=/\{\$([^}]+)}/g;function nq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function El(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],c=e[i];if(tC(o)&&tC(c)){if(!El(o,c))return!1}else if(o!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function tC(t){return t!==null&&typeof t=="object"}function Wh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Xf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function rq(t,e){const n=new iq(t,e);return n.subscribe.bind(n)}class iq{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aq(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mb),i.error===void 0&&(i.error=mb),i.complete===void 0&&(i.complete=mb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aq(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mb(){}const sq=1e3,oq=2,lq=14400*1e3,cq=.5;function nC(t,e=sq,n=oq){const r=e*Math.pow(n,t),i=Math.round(cq*r*(Math.random()-.5)*2);return Math.min(lq,r+i)}function In(t){return t&&t._delegate?t._delegate:t}class aa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const fc="[DEFAULT]";let uq=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fq(e))try{this.getOrInitializeService({instanceIdentifier:fc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=fc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fc){return this.instances.has(e)}getOptions(e=fc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&c.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fc){return this.component?this.component.multipleInstances?e:fc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function dq(t){return t===fc?void 0:t}function fq(t){return t.instantiationMode==="EAGER"}class hq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var pt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pt||(pt={}));const mq={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},pq=pt.INFO,gq={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},yq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=gq[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class r0{constructor(e){this.name=e,this._logLevel=pq,this._logHandler=yq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const xq=(t,e)=>e.some(n=>t instanceof n);let rC,iC;function vq(){return rC||(rC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bq(){return iC||(iC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u6=new WeakMap,_1=new WeakMap,d6=new WeakMap,pb=new WeakMap,xN=new WeakMap;function wq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(bl(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&u6.set(n,t)}).catch(()=>{}),xN.set(e,t),e}function jq(t){if(_1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});_1.set(t,e)}let S1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||d6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Nq(t){S1=t(S1)}function _q(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gb(this),e,...n);return d6.set(r,e.sort?e.sort():[e]),bl(r)}:bq().includes(t)?function(...e){return t.apply(gb(this),e),bl(u6.get(this))}:function(...e){return bl(t.apply(gb(this),e))}}function Sq(t){return typeof t=="function"?_q(t):(t instanceof IDBTransaction&&jq(t),xq(t,vq())?new Proxy(t,S1):t)}function bl(t){if(t instanceof IDBRequest)return wq(t);if(pb.has(t))return pb.get(t);const e=Sq(t);return e!==t&&(pb.set(t,e),xN.set(e,t)),e}const gb=t=>xN.get(t);function f6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const c=indexedDB.open(t,e),u=bl(c);return r&&c.addEventListener("upgradeneeded",f=>{r(bl(c.result),f.oldVersion,f.newVersion,bl(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const Eq=["get","getKey","getAll","getAllKeys","count"],Aq=["put","add","delete","clear"],yb=new Map;function aC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yb.get(e))return yb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Aq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Eq.includes(n)))return;const o=async function(c,...u){const f=this.transaction(c,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&f.done]))[0]};return yb.set(e,o),o}Nq(t=>({...t,get:(e,n,r)=>aC(e,n)||t.get(e,n,r),has:(e,n)=>!!aC(e,n)||t.has(e,n)}));class Tq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Cq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Cq(t){return t.getComponent()?.type==="VERSION"}const E1="@firebase/app",sC="0.14.6";const io=new r0("@firebase/app"),kq="@firebase/app-compat",Iq="@firebase/analytics-compat",Oq="@firebase/analytics",Rq="@firebase/app-check-compat",Pq="@firebase/app-check",Dq="@firebase/auth",Mq="@firebase/auth-compat",Lq="@firebase/database",zq="@firebase/data-connect",Uq="@firebase/database-compat",Vq="@firebase/functions",Bq="@firebase/functions-compat",Fq="@firebase/installations",$q="@firebase/installations-compat",qq="@firebase/messaging",Hq="@firebase/messaging-compat",Gq="@firebase/performance",Kq="@firebase/performance-compat",Wq="@firebase/remote-config",Yq="@firebase/remote-config-compat",Qq="@firebase/storage",Xq="@firebase/storage-compat",Jq="@firebase/firestore",Zq="@firebase/ai",eH="@firebase/firestore-compat",tH="firebase",nH="12.6.0";const A1="[DEFAULT]",rH={[E1]:"fire-core",[kq]:"fire-core-compat",[Oq]:"fire-analytics",[Iq]:"fire-analytics-compat",[Pq]:"fire-app-check",[Rq]:"fire-app-check-compat",[Dq]:"fire-auth",[Mq]:"fire-auth-compat",[Lq]:"fire-rtdb",[zq]:"fire-data-connect",[Uq]:"fire-rtdb-compat",[Vq]:"fire-fn",[Bq]:"fire-fn-compat",[Fq]:"fire-iid",[$q]:"fire-iid-compat",[qq]:"fire-fcm",[Hq]:"fire-fcm-compat",[Gq]:"fire-perf",[Kq]:"fire-perf-compat",[Wq]:"fire-rc",[Yq]:"fire-rc-compat",[Qq]:"fire-gcs",[Xq]:"fire-gcs-compat",[Jq]:"fire-fst",[eH]:"fire-fst-compat",[Zq]:"fire-vertex","fire-js":"fire-js",[tH]:"fire-js-all"};const qg=new Map,iH=new Map,T1=new Map;function oC(t,e){try{t.container.addComponent(e)}catch(n){io.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ra(t){const e=t.name;if(T1.has(e))return io.debug(`There were multiple attempts to register component ${e}.`),!1;T1.set(e,t);for(const n of qg.values())oC(n,t);for(const n of iH.values())oC(n,t);return!0}function Ll(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ci(t){return t==null?!1:t.settings!==void 0}const aH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wl=new Fc("app","Firebase",aH);class sH{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wl.create("app-deleted",{appName:this._name})}}const $c=nH;function h6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:A1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw wl.create("bad-app-name",{appName:String(i)});if(n||(n=i6()),!n)throw wl.create("no-options");const o=qg.get(i);if(o){if(El(n,o.options)&&El(r,o.config))return o;throw wl.create("duplicate-app",{appName:i})}const c=new hq(i);for(const f of T1.values())c.addComponent(f);const u=new sH(n,r,c);return qg.set(i,u),u}function i0(t=A1){const e=qg.get(t);if(!e&&t===A1&&i6())return h6();if(!e)throw wl.create("no-app",{appName:t});return e}function mi(t,e,n){let r=rH[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),io.warn(c.join(" "));return}Ra(new aa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const oH="firebase-heartbeat-database",lH=1,xh="firebase-heartbeat-store";let xb=null;function m6(){return xb||(xb=f6(oH,lH,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xh)}catch(n){console.warn(n)}}}}).catch(t=>{throw wl.create("idb-open",{originalErrorMessage:t.message})})),xb}async function cH(t){try{const n=(await m6()).transaction(xh),r=await n.objectStore(xh).get(p6(t));return await n.done,r}catch(e){if(e instanceof ua)io.warn(e.message);else{const n=wl.create("idb-get",{originalErrorMessage:e?.message});io.warn(n.message)}}}async function lC(t,e){try{const r=(await m6()).transaction(xh,"readwrite");await r.objectStore(xh).put(e,p6(t)),await r.done}catch(n){if(n instanceof ua)io.warn(n.message);else{const r=wl.create("idb-set",{originalErrorMessage:n?.message});io.warn(r.message)}}}function p6(t){return`${t.name}!${t.options.appId}`}const uH=1024,dH=30;class fH{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mH(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>dH){const i=pH(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){io.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cC(),{heartbeatsToSend:n,unsentEntries:r}=hH(this._heartbeatsCache.heartbeats),i=$g(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return io.warn(e),""}}}function cC(){return new Date().toISOString().substring(0,10)}function hH(t,e=uH){const n=[];let r=t.slice();for(const i of t){const o=n.find(c=>c.agent===i.agent);if(o){if(o.dates.push(i.date),uC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),uC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mH{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return l6()?c6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cH(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function uC(t){return $g(JSON.stringify({version:2,heartbeats:t})).length}function pH(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function gH(t){Ra(new aa("platform-logger",e=>new Tq(e),"PRIVATE")),Ra(new aa("heartbeat",e=>new fH(e),"PRIVATE")),mi(E1,sC,t),mi(E1,sC,"esm2020"),mi("fire-js","")}gH("");var yH="firebase",xH="12.6.0";mi(yH,xH,"app");function g6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vH=g6,y6=new Fc("auth","Firebase",g6());const Hg=new r0("@firebase/auth");function bH(t,...e){Hg.logLevel<=pt.WARN&&Hg.warn(`Auth (${$c}): ${t}`,...e)}function bg(t,...e){Hg.logLevel<=pt.ERROR&&Hg.error(`Auth (${$c}): ${t}`,...e)}function Pa(t,...e){throw vN(t,...e)}function ss(t,...e){return vN(t,...e)}function x6(t,e,n){const r={...vH(),[e]:n};return new Fc("auth","Firebase",r).create(e,{appName:t.name})}function to(t){return x6(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vN(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return y6.create(t,...e)}function Xe(t,e,...n){if(!t)throw vN(e,...n)}function Ys(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bg(e),new Error(e)}function ao(t,e){t||Ys(e)}function C1(){return typeof self<"u"&&self.location?.href||""}function wH(){return dC()==="http:"||dC()==="https:"}function dC(){return typeof self<"u"&&self.location?.protocol||null}function jH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wH()||o6()||"connection"in navigator)?navigator.onLine:!0}function NH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Yh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ao(n>e,"Short delay should be less than long delay!"),this.isMobile=G$()||Y$()}get(){return jH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bN(t,e){ao(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class v6{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _H={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const SH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EH=new Yh(3e4,6e4);function zl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function mo(t,e,n,r,i={}){return b6(t,i,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const u=Wh({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...o};return W$()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Ml(t.emulatorConfig.host)&&(h.credentials="include"),v6.fetch()(await w6(t,t.config.apiHost,n,u),h)})}async function b6(t,e,n){t._canInitEmulator=!1;const r={..._H,...e};try{const i=new TH(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Hp(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const u=o.ok?c.errorMessage:c.error.message,[f,h]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hp(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Hp(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Hp(t,"user-disabled",c);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw x6(t,p,h);Pa(t,p)}}catch(i){if(i instanceof ua)throw i;Pa(t,"network-request-failed",{message:String(i)})}}async function Qh(t,e,n,r,i={}){const o=await mo(t,e,n,r,i);return"mfaPendingCredential"in o&&Pa(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function w6(t,e,n,r){const i=`${e}${n}?${r}`,o=t,c=o.config.emulator?bN(t.config,i):`${t.config.apiScheme}://${i}`;return SH.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function AH(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ss(this.auth,"network-request-failed")),EH.get())})}}function Hp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ss(t,e,r);return i.customData._tokenResponse=n,i}function fC(t){return t!==void 0&&t.enterprise!==void 0}class CH{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AH(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kH(t,e){return mo(t,"GET","/v2/recaptchaConfig",zl(t,e))}async function IH(t,e){return mo(t,"POST","/v1/accounts:delete",e)}async function Gg(t,e){return mo(t,"POST","/v1/accounts:lookup",e)}function lh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OH(t,e=!1){const n=In(t),r=await n.getIdToken(e),i=wN(r);Xe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,c=o?.sign_in_provider;return{claims:i,token:r,authTime:lh(vb(i.auth_time)),issuedAtTime:lh(vb(i.iat)),expirationTime:lh(vb(i.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function vb(t){return Number(t)*1e3}function wN(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bg("JWT malformed, contained fewer than 3 sections"),null;try{const i=t6(n);return i?JSON.parse(i):(bg("Failed to decode base64 JWT payload"),null)}catch(i){return bg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function hC(t){const e=wN(t);return Xe(e,"internal-error"),Xe(typeof e.exp<"u","internal-error"),Xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ud(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ua&&RH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function RH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class PH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class k1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lh(this.lastLoginAt),this.creationTime=lh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kg(t){const e=t.auth,n=await t.getIdToken(),r=await ud(t,Gg(e,{idToken:n}));Xe(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=i.providerUserInfo?.length?j6(i.providerUserInfo):[],c=MH(t.providerData,o),u=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!c?.length,h=u?f:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new k1(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function DH(t){const e=In(t);await Kg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MH(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function j6(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function LH(t,e){const n=await b6(t,{},async()=>{const r=Wh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,c=await w6(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return t.emulatorConfig&&Ml(t.emulatorConfig.host)&&(f.credentials="include"),v6.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zH(t,e){return mo(t,"POST","/v2/accounts:revokeToken",zl(t,e))}class Ju{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Xe(e.idToken,"internal-error"),Xe(typeof e.idToken<"u","internal-error"),Xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Xe(e.length!==0,"internal-error");const n=hC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await LH(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,c=new Ju;return r&&(Xe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(Xe(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),o&&(Xe(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ju,this.toJSON())}_performRefresh(){return Ys("not implemented")}}function rl(t,e){Xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ka{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new PH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new k1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ud(this,this.stsTokenManager.getToken(this.auth,e));return Xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OH(this,e)}reload(){return DH(this)}_assign(e){this!==e&&(Xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ka({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Kg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ci(this.auth.app))return Promise.reject(to(this.auth));const e=await this.getIdToken();return await ud(this,IH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,c=n.photoURL??void 0,u=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:x,isAnonymous:b,providerData:_,stsTokenManager:S}=n;Xe(g&&S,e,"internal-error");const N=Ju.fromJSON(this.name,S);Xe(typeof g=="string",e,"internal-error"),rl(r,e.name),rl(i,e.name),Xe(typeof x=="boolean",e,"internal-error"),Xe(typeof b=="boolean",e,"internal-error"),rl(o,e.name),rl(c,e.name),rl(u,e.name),rl(f,e.name),rl(h,e.name),rl(p,e.name);const T=new ka({uid:g,auth:e,email:i,emailVerified:x,displayName:r,isAnonymous:b,photoURL:c,phoneNumber:o,tenantId:u,stsTokenManager:N,createdAt:h,lastLoginAt:p});return _&&Array.isArray(_)&&(T.providerData=_.map(O=>({...O}))),f&&(T._redirectEventId=f),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ju;i.updateFromServerResponse(n);const o=new ka({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Kg(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Xe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?j6(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!o?.length,u=new Ju;u.updateFromIdToken(r);const f=new ka({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:c}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new k1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(f,h),f}}const mC=new Map;function Qs(t){ao(t instanceof Function,"Expected a class definition");let e=mC.get(t);return e?(ao(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mC.set(t,e),e)}class N6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}N6.type="NONE";const pC=N6;function wg(t,e,n){return`firebase:${t}:${e}:${n}`}class Zu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=wg(this.userKey,i.apiKey,o),this.fullPersistenceKey=wg("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gg(this.auth,{idToken:e}).catch(()=>{});return n?ka._fromGetAccountInfoResponse(this.auth,n,e):null}return ka._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Zu(Qs(pC),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=i[0]||Qs(pC);const c=wg(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const p=await h._get(c);if(p){let g;if(typeof p=="string"){const x=await Gg(e,{idToken:p}).catch(()=>{});if(!x)break;g=await ka._fromGetAccountInfoResponse(e,x,p)}else g=ka._fromJSON(e,p);h!==o&&(u=g),o=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Zu(o,e,r):(o=f[0],u&&await o._set(c,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(c)}catch{}})),new Zu(o,e,r))}}function gC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(A6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(C6(e))return"Blackberry";if(k6(e))return"Webos";if(S6(e))return"Safari";if((e.includes("chrome/")||E6(e))&&!e.includes("edge/"))return"Chrome";if(T6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function _6(t=Mr()){return/firefox\//i.test(t)}function S6(t=Mr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function E6(t=Mr()){return/crios\//i.test(t)}function A6(t=Mr()){return/iemobile/i.test(t)}function T6(t=Mr()){return/android/i.test(t)}function C6(t=Mr()){return/blackberry/i.test(t)}function k6(t=Mr()){return/webos/i.test(t)}function jN(t=Mr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UH(t=Mr()){return jN(t)&&!!window.navigator?.standalone}function VH(){return Q$()&&document.documentMode===10}function I6(t=Mr()){return jN(t)||T6(t)||k6(t)||C6(t)||/windows phone/i.test(t)||A6(t)}function O6(t,e=[]){let n;switch(t){case"Browser":n=gC(Mr());break;case"Worker":n=`${gC(Mr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$c}/${r}`}class BH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,u)=>{try{const f=e(o);c(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function FH(t,e={}){return mo(t,"GET","/v2/passwordPolicy",zl(t,e))}const $H=6;class qH{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$H,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class HH{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yC(this),this.idTokenSubscription=new yC(this),this.beforeStateQueue=new BH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=y6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Zu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gg(this,{idToken:e}),r=await ka._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ci(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ci(this.app))return Promise.reject(to(this));const n=e?In(e):null;return n&&Xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ci(this.app)?Promise.reject(to(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ci(this.app)?Promise.reject(to(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FH(this),n=new qH(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await zH(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qs(e)||this._popupRedirectResolver;Xe(n,this,"argument-error"),this.redirectPersistenceManager=await Zu.create(this,[Qs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xe(u,this,"internal-error"),u.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&bH(`Error while retrieving App Check token: ${e.error}`),e?.token}}function qc(t){return In(t)}class yC{constructor(e){this.auth=e,this.observer=null,this.addObserver=rq(n=>this.observer=n)}get next(){return Xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let a0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GH(t){a0=t}function R6(t){return a0.loadJS(t)}function KH(){return a0.recaptchaEnterpriseScript}function WH(){return a0.gapiScript}function YH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class QH{constructor(){this.enterprise=new XH}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class XH{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const JH="recaptcha-enterprise",P6="NO_RECAPTCHA";class ZH{constructor(e){this.type=JH,this.auth=qc(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,u)=>{kH(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new CH(f);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,c(h.siteKey)}}).catch(f=>{u(f)})})}function i(o,c,u){const f=window.grecaptcha;fC(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(h=>{c(h)}).catch(()=>{c(P6)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QH().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(u=>{if(!n&&fC(window.grecaptcha))i(u,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=KH();f.length!==0&&(f+=u),R6(f).then(()=>{i(u,o,c)}).catch(h=>{c(h)})}}).catch(u=>{c(u)})})}}async function xC(t,e,n,r=!1,i=!1){const o=new ZH(t);let c;if(i)c=P6;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function I1(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await xC(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await xC(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(o)})}function eG(t,e){const n=Ll(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(El(o,e??{}))return i;Pa(i,"already-initialized")}return n.initialize({options:e})}function tG(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Qs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function nG(t,e,n){const r=qc(t);Xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=D6(e),{host:c,port:u}=rG(e),f=u===null?"":`:${u}`,h={url:`${o}//${c}${f}/`},p=Object.freeze({host:c,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Xe(El(h,r.config.emulator)&&El(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Ml(c)?(gN(`${o}//${c}${f}`),yN("Auth",!0)):iG()}function D6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rG(t){const e=D6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:vC(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:vC(c)}}}function vC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function iG(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class NN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ys("not implemented")}_getIdTokenResponse(e){return Ys("not implemented")}_linkToIdToken(e,n){return Ys("not implemented")}_getReauthenticationResolver(e){return Ys("not implemented")}}async function aG(t,e){return mo(t,"POST","/v1/accounts:signUp",e)}async function sG(t,e){return Qh(t,"POST","/v1/accounts:signInWithPassword",zl(t,e))}async function oG(t,e){return Qh(t,"POST","/v1/accounts:signInWithEmailLink",zl(t,e))}async function lG(t,e){return Qh(t,"POST","/v1/accounts:signInWithEmailLink",zl(t,e))}class vh extends NN{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new vh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I1(e,n,"signInWithPassword",sG);case"emailLink":return oG(e,{email:this._email,oobCode:this._password});default:Pa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I1(e,r,"signUpPassword",aG);case"emailLink":return lG(e,{idToken:n,email:this._email,oobCode:this._password});default:Pa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ed(t,e){return Qh(t,"POST","/v1/accounts:signInWithIdp",zl(t,e))}const cG="http://localhost";class kc extends NN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new kc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const c=new kc(r,i);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ed(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ed(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ed(e,n)}buildRequest(){const e={requestUri:cG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wh(n)}return e}}function uG(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dG(t){const e=Qf(Xf(t)).link,n=e?Qf(Xf(e)).deep_link_id:null,r=Qf(Xf(t)).deep_link_id;return(r?Qf(Xf(r)).link:null)||r||n||e||t}class _N{constructor(e){const n=Qf(Xf(e)),r=n.apiKey??null,i=n.oobCode??null,o=uG(n.mode??null);Xe(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=dG(e);try{return new _N(n)}catch{return null}}}class Ed{constructor(){this.providerId=Ed.PROVIDER_ID}static credential(e,n){return vh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=_N.parseLink(n);return Xe(r,"argument-error"),vh._fromEmailAndCode(e,r.code,r.tenantId)}}Ed.PROVIDER_ID="password";Ed.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ed.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class M6{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xh extends M6{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cl extends Xh{constructor(){super("facebook.com")}static credential(e){return kc._fromParams({providerId:cl.PROVIDER_ID,signInMethod:cl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cl.credentialFromTaggedObject(e)}static credentialFromError(e){return cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cl.credential(e.oauthAccessToken)}catch{return null}}}cl.FACEBOOK_SIGN_IN_METHOD="facebook.com";cl.PROVIDER_ID="facebook.com";class ul extends Xh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return kc._fromParams({providerId:ul.PROVIDER_ID,signInMethod:ul.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ul.credentialFromTaggedObject(e)}static credentialFromError(e){return ul.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ul.credential(n,r)}catch{return null}}}ul.GOOGLE_SIGN_IN_METHOD="google.com";ul.PROVIDER_ID="google.com";class dl extends Xh{constructor(){super("github.com")}static credential(e){return kc._fromParams({providerId:dl.PROVIDER_ID,signInMethod:dl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dl.credentialFromTaggedObject(e)}static credentialFromError(e){return dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dl.credential(e.oauthAccessToken)}catch{return null}}}dl.GITHUB_SIGN_IN_METHOD="github.com";dl.PROVIDER_ID="github.com";class fl extends Xh{constructor(){super("twitter.com")}static credential(e,n){return kc._fromParams({providerId:fl.PROVIDER_ID,signInMethod:fl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fl.credentialFromTaggedObject(e)}static credentialFromError(e){return fl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fl.credential(n,r)}catch{return null}}}fl.TWITTER_SIGN_IN_METHOD="twitter.com";fl.PROVIDER_ID="twitter.com";async function fG(t,e){return Qh(t,"POST","/v1/accounts:signUp",zl(t,e))}class Ic{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ka._fromIdTokenResponse(e,r,i),c=bC(r);return new Ic({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=bC(r);return new Ic({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function bC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Wg extends ua{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Wg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Wg(e,n,r,i)}}function L6(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Wg._fromErrorAndOperation(t,o,e,r):o})}async function hG(t,e,n=!1){const r=await ud(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ic._forOperation(t,"link",r)}async function mG(t,e,n=!1){const{auth:r}=t;if(Ci(r.app))return Promise.reject(to(r));const i="reauthenticate";try{const o=await ud(t,L6(r,i,e,t),n);Xe(o.idToken,r,"internal-error");const c=wN(o.idToken);Xe(c,r,"internal-error");const{sub:u}=c;return Xe(t.uid===u,r,"user-mismatch"),Ic._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Pa(r,"user-mismatch"),o}}async function z6(t,e,n=!1){if(Ci(t.app))return Promise.reject(to(t));const r="signIn",i=await L6(t,r,e),o=await Ic._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function pG(t,e){return z6(qc(t),e)}async function U6(t){const e=qc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function V6(t,e,n){if(Ci(t.app))return Promise.reject(to(t));const r=qc(t),c=await I1(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fG).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&U6(t),f}),u=await Ic._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(u.user),u}function B6(t,e,n){return Ci(t.app)?Promise.reject(to(t)):pG(In(t),Ed.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&U6(t),r})}async function gG(t,e){return mo(t,"POST","/v1/accounts:update",e)}async function Yg(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=In(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await ud(r,gG(r.auth,o));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const u=r.providerData.find(({providerId:f})=>f==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function yG(t,e,n,r){return In(t).onIdTokenChanged(e,n,r)}function xG(t,e,n){return In(t).beforeAuthStateChanged(e,n)}function vG(t,e,n,r){return In(t).onAuthStateChanged(e,n,r)}const Qg="__sak";class F6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qg,"1"),this.storage.removeItem(Qg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const bG=1e3,wG=10;class $6 extends F6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,u,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);VH()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wG):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},bG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$6.type="LOCAL";const jG=$6;class q6 extends F6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}q6.type="SESSION";const H6=q6;function NG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class s0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new s0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,c=this.handlersMap[i];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(c).map(async h=>h(n.origin,o)),f=await NG(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}s0.receivers=[];function SN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class _G{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,c;return new Promise((u,f)=>{const h=SN("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(g){const x=g;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(x.data.response);break;default:clearTimeout(p),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function os(){return window}function SG(t){os().location.href=t}function G6(){return typeof os().WorkerGlobalScope<"u"&&typeof os().importScripts=="function"}async function EG(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AG(){return navigator?.serviceWorker?.controller||null}function TG(){return G6()?self:null}const K6="firebaseLocalStorageDb",CG=1,Xg="firebaseLocalStorage",W6="fbase_key";class Jh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function o0(t,e){return t.transaction([Xg],e?"readwrite":"readonly").objectStore(Xg)}function kG(){const t=indexedDB.deleteDatabase(K6);return new Jh(t).toPromise()}function O1(){const t=indexedDB.open(K6,CG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xg,{keyPath:W6})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xg)?e(r):(r.close(),await kG(),e(await O1()))})})}async function wC(t,e,n){const r=o0(t,!0).put({[W6]:e,value:n});return new Jh(r).toPromise()}async function IG(t,e){const n=o0(t,!1).get(e),r=await new Jh(n).toPromise();return r===void 0?null:r.value}function jC(t,e){const n=o0(t,!0).delete(e);return new Jh(n).toPromise()}const OG=800,RG=3;class Y6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await O1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>RG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=s0._getInstance(TG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await EG(),!this.activeServiceWorker)return;this.sender=new _G(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await O1();return await wC(e,Qg,"1"),await jC(e,Qg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>IG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=o0(i,!1).getAll();return new Jh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y6.type="LOCAL";const PG=Y6;new Yh(3e4,6e4);function DG(t,e){return e?Qs(e):(Xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class EN extends NN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ed(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ed(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ed(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MG(t){return z6(t.auth,new EN(t),t.bypassAuthState)}function LG(t){const{auth:e,user:n}=t;return Xe(n,e,"internal-error"),mG(n,new EN(t),t.bypassAuthState)}async function zG(t){const{auth:e,user:n}=t;return Xe(n,e,"internal-error"),hG(n,new EN(t),t.bypassAuthState)}class Q6{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:c,type:u}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MG;case"linkViaPopup":case"linkViaRedirect":return zG;case"reauthViaPopup":case"reauthViaRedirect":return LG;default:Pa(this.auth,"internal-error")}}resolve(e){ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const UG=new Yh(2e3,1e4);class $u extends Q6{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,$u.currentPopupAction&&$u.currentPopupAction.cancel(),$u.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Xe(e,this.auth,"internal-error"),e}async onExecution(){ao(this.filter.length===1,"Popup operations only handle one event");const e=SN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ss(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ss(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$u.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ss(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UG.get())};e()}}$u.currentPopupAction=null;const VG="pendingRedirect",jg=new Map;class BG extends Q6{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jg.get(this.auth._key());if(!e){try{const r=await FG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jg.set(this.auth._key(),e)}return this.bypassAuthState||jg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FG(t,e){const n=HG(e),r=qG(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $G(t,e){jg.set(t._key(),e)}function qG(t){return Qs(t._redirectPersistence)}function HG(t){return wg(VG,t.config.apiKey,t.name)}async function GG(t,e,n=!1){if(Ci(t.app))return Promise.reject(to(t));const r=qc(t),i=DG(r,e),c=await new BG(r,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const KG=600*1e3;class WG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!X6(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ss(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KG&&this.cachedEventUids.clear(),this.cachedEventUids.has(NC(e))}saveEventToCache(e){this.cachedEventUids.add(NC(e)),this.lastProcessedEventTime=Date.now()}}function NC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function X6({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function YG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X6(t);default:return!1}}async function QG(t,e={}){return mo(t,"GET","/v1/projects",e)}const XG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JG=/^https?/;async function ZG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QG(t);for(const n of e)try{if(eK(n))return}catch{}Pa(t,"unauthorized-domain")}function eK(t){const e=C1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!JG.test(n))return!1;if(XG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const tK=new Yh(3e4,6e4);function _C(){const t=os().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nK(t){return new Promise((e,n)=>{function r(){_C(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_C(),n(ss(t,"network-request-failed"))},timeout:tK.get()})}if(os().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(os().gapi?.load)r();else{const i=YH("iframefcb");return os()[i]=()=>{gapi.load?r():n(ss(t,"network-request-failed"))},R6(`${WH()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw Ng=null,e})}let Ng=null;function rK(t){return Ng=Ng||nK(t),Ng}const iK=new Yh(5e3,15e3),aK="__/auth/iframe",sK="emulator/auth/iframe",oK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cK(t){const e=t.config;Xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bN(e,sK):`https://${t.config.authDomain}/${aK}`,r={apiKey:e.apiKey,appName:t.name,v:$c},i=lK.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Wh(r).slice(1)}`}async function uK(t){const e=await rK(t),n=os().gapi;return Xe(n,t,"internal-error"),e.open({where:document.body,url:cK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oK,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const c=ss(t,"network-request-failed"),u=os().setTimeout(()=>{o(c)},iK.get());function f(){os().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{o(c)})}))}const dK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fK=500,hK=600,mK="_blank",pK="http://localhost";class SC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gK(t,e,n,r=fK,i=hK){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...dK,width:r.toString(),height:i.toString(),top:o,left:c},h=Mr().toLowerCase();n&&(u=E6(h)?mK:n),_6(h)&&(e=e||pK,f.scrollbars="yes");const p=Object.entries(f).reduce((x,[b,_])=>`${x}${b}=${_},`,"");if(UH(h)&&u!=="_self")return yK(e||"",u),new SC(null);const g=window.open(e||"",u,p);Xe(g,t,"popup-blocked");try{g.focus()}catch{}return new SC(g)}function yK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const xK="__/auth/handler",vK="emulator/auth/handler",bK=encodeURIComponent("fac");async function EC(t,e,n,r,i,o){Xe(t.config.authDomain,t,"auth-domain-config-required"),Xe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$c,eventId:i};if(e instanceof M6){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",nq(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))c[p]=g}if(e instanceof Xh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(c.scopes=p.join(","))}t.tenantId&&(c.tid=t.tenantId);const u=c;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const f=await t._getAppCheckToken(),h=f?`#${bK}=${encodeURIComponent(f)}`:"";return`${wK(t)}?${Wh(u).slice(1)}${h}`}function wK({config:t}){return t.emulator?bN(t,vK):`https://${t.authDomain}/${xK}`}const bb="webStorageSupport";class jK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H6,this._completeRedirectFn=GG,this._overrideRedirectResult=$G}async _openPopup(e,n,r,i){ao(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await EC(e,n,r,C1(),i);return gK(e,o,SN())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await EC(e,n,r,C1(),i);return SG(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ao(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uK(e),r=new WG(e);return n.register("authEvent",i=>(Xe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bb,{type:bb},i=>{const o=i?.[0]?.[bb];o!==void 0&&n(!!o),Pa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return I6()||S6()||jN()}}const NK=jK;var AC="@firebase/auth",TC="1.11.1";class _K{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function SK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EK(t){Ra(new aa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=r.options;Xe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O6(t)},h=new HH(r,i,o,f);return tG(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ra(new aa("auth-internal",e=>{const n=qc(e.getProvider("auth").getImmediate());return(r=>new _K(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(AC,TC,SK(t)),mi(AC,TC,"esm2020")}const AK=300,TK=a6("authIdTokenMaxAge")||AK;let CC=null;const CK=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>TK)return;const i=n?.token;CC!==i&&(CC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kK(t=i0()){const e=Ll(t,"auth");if(e.isInitialized())return e.getImmediate();const n=eG(t,{popupRedirectResolver:NK,persistence:[PG,jG,H6]}),r=a6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=CK(o.toString());xG(n,c,()=>c(n.currentUser)),yG(n,u=>c(u))}}const i=n6("auth");return i&&nG(n,`http://${i}`),n}function IK(){return document.getElementsByTagName("head")?.[0]??document}GH({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ss("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",IK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EK("Browser");var kC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jl,J6;(function(){var t;function e(E,I){function D(){}D.prototype=I.prototype,E.F=I.prototype,E.prototype=new D,E.prototype.constructor=E,E.D=function(V,z,$){for(var L=Array(arguments.length-2),se=2;se<arguments.length;se++)L[se-2]=arguments[se];return I.prototype[z].apply(V,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,I,D){D||(D=0);const V=Array(16);if(typeof I=="string")for(var z=0;z<16;++z)V[z]=I.charCodeAt(D++)|I.charCodeAt(D++)<<8|I.charCodeAt(D++)<<16|I.charCodeAt(D++)<<24;else for(z=0;z<16;++z)V[z]=I[D++]|I[D++]<<8|I[D++]<<16|I[D++]<<24;I=E.g[0],D=E.g[1],z=E.g[2];let $=E.g[3],L;L=I+($^D&(z^$))+V[0]+3614090360&4294967295,I=D+(L<<7&4294967295|L>>>25),L=$+(z^I&(D^z))+V[1]+3905402710&4294967295,$=I+(L<<12&4294967295|L>>>20),L=z+(D^$&(I^D))+V[2]+606105819&4294967295,z=$+(L<<17&4294967295|L>>>15),L=D+(I^z&($^I))+V[3]+3250441966&4294967295,D=z+(L<<22&4294967295|L>>>10),L=I+($^D&(z^$))+V[4]+4118548399&4294967295,I=D+(L<<7&4294967295|L>>>25),L=$+(z^I&(D^z))+V[5]+1200080426&4294967295,$=I+(L<<12&4294967295|L>>>20),L=z+(D^$&(I^D))+V[6]+2821735955&4294967295,z=$+(L<<17&4294967295|L>>>15),L=D+(I^z&($^I))+V[7]+4249261313&4294967295,D=z+(L<<22&4294967295|L>>>10),L=I+($^D&(z^$))+V[8]+1770035416&4294967295,I=D+(L<<7&4294967295|L>>>25),L=$+(z^I&(D^z))+V[9]+2336552879&4294967295,$=I+(L<<12&4294967295|L>>>20),L=z+(D^$&(I^D))+V[10]+4294925233&4294967295,z=$+(L<<17&4294967295|L>>>15),L=D+(I^z&($^I))+V[11]+2304563134&4294967295,D=z+(L<<22&4294967295|L>>>10),L=I+($^D&(z^$))+V[12]+1804603682&4294967295,I=D+(L<<7&4294967295|L>>>25),L=$+(z^I&(D^z))+V[13]+4254626195&4294967295,$=I+(L<<12&4294967295|L>>>20),L=z+(D^$&(I^D))+V[14]+2792965006&4294967295,z=$+(L<<17&4294967295|L>>>15),L=D+(I^z&($^I))+V[15]+1236535329&4294967295,D=z+(L<<22&4294967295|L>>>10),L=I+(z^$&(D^z))+V[1]+4129170786&4294967295,I=D+(L<<5&4294967295|L>>>27),L=$+(D^z&(I^D))+V[6]+3225465664&4294967295,$=I+(L<<9&4294967295|L>>>23),L=z+(I^D&($^I))+V[11]+643717713&4294967295,z=$+(L<<14&4294967295|L>>>18),L=D+($^I&(z^$))+V[0]+3921069994&4294967295,D=z+(L<<20&4294967295|L>>>12),L=I+(z^$&(D^z))+V[5]+3593408605&4294967295,I=D+(L<<5&4294967295|L>>>27),L=$+(D^z&(I^D))+V[10]+38016083&4294967295,$=I+(L<<9&4294967295|L>>>23),L=z+(I^D&($^I))+V[15]+3634488961&4294967295,z=$+(L<<14&4294967295|L>>>18),L=D+($^I&(z^$))+V[4]+3889429448&4294967295,D=z+(L<<20&4294967295|L>>>12),L=I+(z^$&(D^z))+V[9]+568446438&4294967295,I=D+(L<<5&4294967295|L>>>27),L=$+(D^z&(I^D))+V[14]+3275163606&4294967295,$=I+(L<<9&4294967295|L>>>23),L=z+(I^D&($^I))+V[3]+4107603335&4294967295,z=$+(L<<14&4294967295|L>>>18),L=D+($^I&(z^$))+V[8]+1163531501&4294967295,D=z+(L<<20&4294967295|L>>>12),L=I+(z^$&(D^z))+V[13]+2850285829&4294967295,I=D+(L<<5&4294967295|L>>>27),L=$+(D^z&(I^D))+V[2]+4243563512&4294967295,$=I+(L<<9&4294967295|L>>>23),L=z+(I^D&($^I))+V[7]+1735328473&4294967295,z=$+(L<<14&4294967295|L>>>18),L=D+($^I&(z^$))+V[12]+2368359562&4294967295,D=z+(L<<20&4294967295|L>>>12),L=I+(D^z^$)+V[5]+4294588738&4294967295,I=D+(L<<4&4294967295|L>>>28),L=$+(I^D^z)+V[8]+2272392833&4294967295,$=I+(L<<11&4294967295|L>>>21),L=z+($^I^D)+V[11]+1839030562&4294967295,z=$+(L<<16&4294967295|L>>>16),L=D+(z^$^I)+V[14]+4259657740&4294967295,D=z+(L<<23&4294967295|L>>>9),L=I+(D^z^$)+V[1]+2763975236&4294967295,I=D+(L<<4&4294967295|L>>>28),L=$+(I^D^z)+V[4]+1272893353&4294967295,$=I+(L<<11&4294967295|L>>>21),L=z+($^I^D)+V[7]+4139469664&4294967295,z=$+(L<<16&4294967295|L>>>16),L=D+(z^$^I)+V[10]+3200236656&4294967295,D=z+(L<<23&4294967295|L>>>9),L=I+(D^z^$)+V[13]+681279174&4294967295,I=D+(L<<4&4294967295|L>>>28),L=$+(I^D^z)+V[0]+3936430074&4294967295,$=I+(L<<11&4294967295|L>>>21),L=z+($^I^D)+V[3]+3572445317&4294967295,z=$+(L<<16&4294967295|L>>>16),L=D+(z^$^I)+V[6]+76029189&4294967295,D=z+(L<<23&4294967295|L>>>9),L=I+(D^z^$)+V[9]+3654602809&4294967295,I=D+(L<<4&4294967295|L>>>28),L=$+(I^D^z)+V[12]+3873151461&4294967295,$=I+(L<<11&4294967295|L>>>21),L=z+($^I^D)+V[15]+530742520&4294967295,z=$+(L<<16&4294967295|L>>>16),L=D+(z^$^I)+V[2]+3299628645&4294967295,D=z+(L<<23&4294967295|L>>>9),L=I+(z^(D|~$))+V[0]+4096336452&4294967295,I=D+(L<<6&4294967295|L>>>26),L=$+(D^(I|~z))+V[7]+1126891415&4294967295,$=I+(L<<10&4294967295|L>>>22),L=z+(I^($|~D))+V[14]+2878612391&4294967295,z=$+(L<<15&4294967295|L>>>17),L=D+($^(z|~I))+V[5]+4237533241&4294967295,D=z+(L<<21&4294967295|L>>>11),L=I+(z^(D|~$))+V[12]+1700485571&4294967295,I=D+(L<<6&4294967295|L>>>26),L=$+(D^(I|~z))+V[3]+2399980690&4294967295,$=I+(L<<10&4294967295|L>>>22),L=z+(I^($|~D))+V[10]+4293915773&4294967295,z=$+(L<<15&4294967295|L>>>17),L=D+($^(z|~I))+V[1]+2240044497&4294967295,D=z+(L<<21&4294967295|L>>>11),L=I+(z^(D|~$))+V[8]+1873313359&4294967295,I=D+(L<<6&4294967295|L>>>26),L=$+(D^(I|~z))+V[15]+4264355552&4294967295,$=I+(L<<10&4294967295|L>>>22),L=z+(I^($|~D))+V[6]+2734768916&4294967295,z=$+(L<<15&4294967295|L>>>17),L=D+($^(z|~I))+V[13]+1309151649&4294967295,D=z+(L<<21&4294967295|L>>>11),L=I+(z^(D|~$))+V[4]+4149444226&4294967295,I=D+(L<<6&4294967295|L>>>26),L=$+(D^(I|~z))+V[11]+3174756917&4294967295,$=I+(L<<10&4294967295|L>>>22),L=z+(I^($|~D))+V[2]+718787259&4294967295,z=$+(L<<15&4294967295|L>>>17),L=D+($^(z|~I))+V[9]+3951481745&4294967295,E.g[0]=E.g[0]+I&4294967295,E.g[1]=E.g[1]+(z+(L<<21&4294967295|L>>>11))&4294967295,E.g[2]=E.g[2]+z&4294967295,E.g[3]=E.g[3]+$&4294967295}r.prototype.v=function(E,I){I===void 0&&(I=E.length);const D=I-this.blockSize,V=this.C;let z=this.h,$=0;for(;$<I;){if(z==0)for(;$<=D;)i(this,E,$),$+=this.blockSize;if(typeof E=="string"){for(;$<I;)if(V[z++]=E.charCodeAt($++),z==this.blockSize){i(this,V),z=0;break}}else for(;$<I;)if(V[z++]=E[$++],z==this.blockSize){i(this,V),z=0;break}}this.h=z,this.o+=I},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var I=1;I<E.length-8;++I)E[I]=0;I=this.o*8;for(var D=E.length-8;D<E.length;++D)E[D]=I&255,I/=256;for(this.v(E),E=Array(16),I=0,D=0;D<4;++D)for(let V=0;V<32;V+=8)E[I++]=this.g[D]>>>V&255;return E};function o(E,I){var D=u;return Object.prototype.hasOwnProperty.call(D,E)?D[E]:D[E]=I(E)}function c(E,I){this.h=I;const D=[];let V=!0;for(let z=E.length-1;z>=0;z--){const $=E[z]|0;V&&$==I||(D[z]=$,V=!1)}this.g=D}var u={};function f(E){return-128<=E&&E<128?o(E,function(I){return new c([I|0],I<0?-1:0)}):new c([E|0],E<0?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return g;if(E<0)return N(h(-E));const I=[];let D=1;for(let V=0;E>=D;V++)I[V]=E/D|0,D*=4294967296;return new c(I,0)}function p(E,I){if(E.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(E.charAt(0)=="-")return N(p(E.substring(1),I));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=h(Math.pow(I,8));let V=g;for(let $=0;$<E.length;$+=8){var z=Math.min(8,E.length-$);const L=parseInt(E.substring($,$+z),I);z<8?(z=h(Math.pow(I,z)),V=V.j(z).add(h(L))):(V=V.j(D),V=V.add(h(L)))}return V}var g=f(0),x=f(1),b=f(16777216);t=c.prototype,t.m=function(){if(S(this))return-N(this).m();let E=0,I=1;for(let D=0;D<this.g.length;D++){const V=this.i(D);E+=(V>=0?V:4294967296+V)*I,I*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(_(this))return"0";if(S(this))return"-"+N(this).toString(E);const I=h(Math.pow(E,6));var D=this;let V="";for(;;){const z=M(D,I).g;D=T(D,z.j(I));let $=((D.g.length>0?D.g[0]:D.h)>>>0).toString(E);if(D=z,_(D))return $+V;for(;$.length<6;)$="0"+$;V=$+V}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function _(E){if(E.h!=0)return!1;for(let I=0;I<E.g.length;I++)if(E.g[I]!=0)return!1;return!0}function S(E){return E.h==-1}t.l=function(E){return E=T(this,E),S(E)?-1:_(E)?0:1};function N(E){const I=E.g.length,D=[];for(let V=0;V<I;V++)D[V]=~E.g[V];return new c(D,~E.h).add(x)}t.abs=function(){return S(this)?N(this):this},t.add=function(E){const I=Math.max(this.g.length,E.g.length),D=[];let V=0;for(let z=0;z<=I;z++){let $=V+(this.i(z)&65535)+(E.i(z)&65535),L=($>>>16)+(this.i(z)>>>16)+(E.i(z)>>>16);V=L>>>16,$&=65535,L&=65535,D[z]=L<<16|$}return new c(D,D[D.length-1]&-2147483648?-1:0)};function T(E,I){return E.add(N(I))}t.j=function(E){if(_(this)||_(E))return g;if(S(this))return S(E)?N(this).j(N(E)):N(N(this).j(E));if(S(E))return N(this.j(N(E)));if(this.l(b)<0&&E.l(b)<0)return h(this.m()*E.m());const I=this.g.length+E.g.length,D=[];for(var V=0;V<2*I;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(let z=0;z<E.g.length;z++){const $=this.i(V)>>>16,L=this.i(V)&65535,se=E.i(z)>>>16,Ne=E.i(z)&65535;D[2*V+2*z]+=L*Ne,O(D,2*V+2*z),D[2*V+2*z+1]+=$*Ne,O(D,2*V+2*z+1),D[2*V+2*z+1]+=L*se,O(D,2*V+2*z+1),D[2*V+2*z+2]+=$*se,O(D,2*V+2*z+2)}for(E=0;E<I;E++)D[E]=D[2*E+1]<<16|D[2*E];for(E=I;E<2*I;E++)D[E]=0;return new c(D,0)};function O(E,I){for(;(E[I]&65535)!=E[I];)E[I+1]+=E[I]>>>16,E[I]&=65535,I++}function C(E,I){this.g=E,this.h=I}function M(E,I){if(_(I))throw Error("division by zero");if(_(E))return new C(g,g);if(S(E))return I=M(N(E),I),new C(N(I.g),N(I.h));if(S(I))return I=M(E,N(I)),new C(N(I.g),I.h);if(E.g.length>30){if(S(E)||S(I))throw Error("slowDivide_ only works with positive integers.");for(var D=x,V=I;V.l(E)<=0;)D=R(D),V=R(V);var z=F(D,1),$=F(V,1);for(V=F(V,2),D=F(D,2);!_(V);){var L=$.add(V);L.l(E)<=0&&(z=z.add(D),$=L),V=F(V,1),D=F(D,1)}return I=T(E,z.j(I)),new C(z,I)}for(z=g;E.l(I)>=0;){for(D=Math.max(1,Math.floor(E.m()/I.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),$=h(D),L=$.j(I);S(L)||L.l(E)>0;)D-=V,$=h(D),L=$.j(I);_($)&&($=x),z=z.add($),E=T(E,L)}return new C(z,E)}t.B=function(E){return M(this,E).h},t.and=function(E){const I=Math.max(this.g.length,E.g.length),D=[];for(let V=0;V<I;V++)D[V]=this.i(V)&E.i(V);return new c(D,this.h&E.h)},t.or=function(E){const I=Math.max(this.g.length,E.g.length),D=[];for(let V=0;V<I;V++)D[V]=this.i(V)|E.i(V);return new c(D,this.h|E.h)},t.xor=function(E){const I=Math.max(this.g.length,E.g.length),D=[];for(let V=0;V<I;V++)D[V]=this.i(V)^E.i(V);return new c(D,this.h^E.h)};function R(E){const I=E.g.length+1,D=[];for(let V=0;V<I;V++)D[V]=E.i(V)<<1|E.i(V-1)>>>31;return new c(D,E.h)}function F(E,I){const D=I>>5;I%=32;const V=E.g.length-D,z=[];for(let $=0;$<V;$++)z[$]=I>0?E.i($+D)>>>I|E.i($+D+1)<<32-I:E.i($+D);return new c(z,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,J6=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=h,c.fromString=p,jl=c}).apply(typeof kC<"u"?kC:typeof self<"u"?self:typeof window<"u"?window:{});var Gp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Z6,Jf,eD,_g,R1,tD,nD,rD;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gp=="object"&&Gp];for(var A=0;A<y.length;++A){var P=y[A];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(y,A){if(A)e:{var P=r;y=y.split(".");for(var q=0;q<y.length-1;q++){var le=y[q];if(!(le in P))break e;P=P[le]}y=y[y.length-1],q=P[y],A=A(q),A!=q&&A!=null&&e(P,y,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(A){var P=[],q;for(q in A)Object.prototype.hasOwnProperty.call(A,q)&&P.push([q,A[q]]);return P}});var o=o||{},c=this||self;function u(y){var A=typeof y;return A=="object"&&y!=null||A=="function"}function f(y,A,P){return y.call.apply(y.bind,arguments)}function h(y,A,P){return h=f,h.apply(null,arguments)}function p(y,A){var P=Array.prototype.slice.call(arguments,1);return function(){var q=P.slice();return q.push.apply(q,arguments),y.apply(this,q)}}function g(y,A){function P(){}P.prototype=A.prototype,y.Z=A.prototype,y.prototype=new P,y.prototype.constructor=y,y.Ob=function(q,le,pe){for(var Re=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)Re[rt-2]=arguments[rt];return A.prototype[le].apply(q,Re)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function b(y){const A=y.length;if(A>0){const P=Array(A);for(let q=0;q<A;q++)P[q]=y[q];return P}return[]}function _(y,A){for(let q=1;q<arguments.length;q++){const le=arguments[q];var P=typeof le;if(P=P!="object"?P:le?Array.isArray(le)?"array":P:"null",P=="array"||P=="object"&&typeof le.length=="number"){P=y.length||0;const pe=le.length||0;y.length=P+pe;for(let Re=0;Re<pe;Re++)y[P+Re]=le[Re]}else y.push(le)}}class S{constructor(A,P){this.i=A,this.j=P,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function N(y){c.setTimeout(()=>{throw y},0)}function T(){var y=E;let A=null;return y.g&&(A=y.g,y.g=y.g.next,y.g||(y.h=null),A.next=null),A}class O{constructor(){this.h=this.g=null}add(A,P){const q=C.get();q.set(A,P),this.h?this.h.next=q:this.g=q,this.h=q}}var C=new S(()=>new M,y=>y.reset());class M{constructor(){this.next=this.g=this.h=null}set(A,P){this.h=A,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let R,F=!1,E=new O,I=()=>{const y=Promise.resolve(void 0);R=()=>{y.then(D)}};function D(){for(var y;y=T();){try{y.h.call(y.g)}catch(P){N(P)}var A=C;A.j(y),A.h<100&&(A.h++,y.next=A.g,A.g=y)}F=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(y,A){this.type=y,this.g=this.target=A,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var y=!1,A=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const P=()=>{};c.addEventListener("test",P,A),c.removeEventListener("test",P,A)}catch{}return y})();function L(y){return/^[\s\xa0]*$/.test(y)}function se(y,A){z.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,A)}g(se,z),se.prototype.init=function(y,A){const P=this.type=y.type,q=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=A,A=y.relatedTarget,A||(P=="mouseover"?A=y.fromElement:P=="mouseout"&&(A=y.toElement)),this.relatedTarget=A,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),G=0;function H(y,A,P,q,le){this.listener=y,this.proxy=null,this.src=A,this.type=P,this.capture=!!q,this.ha=le,this.key=++G,this.da=this.fa=!1}function ee(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function W(y,A,P){for(const q in y)A.call(P,y[q],q,y)}function K(y,A){for(const P in y)A.call(void 0,y[P],P,y)}function B(y){const A={};for(const P in y)A[P]=y[P];return A}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(y,A){let P,q;for(let le=1;le<arguments.length;le++){q=arguments[le];for(P in q)y[P]=q[P];for(let pe=0;pe<J.length;pe++)P=J[pe],Object.prototype.hasOwnProperty.call(q,P)&&(y[P]=q[P])}}function ye(y){this.src=y,this.g={},this.h=0}ye.prototype.add=function(y,A,P,q,le){const pe=y.toString();y=this.g[pe],y||(y=this.g[pe]=[],this.h++);const Re=Le(y,A,q,le);return Re>-1?(A=y[Re],P||(A.fa=!1)):(A=new H(A,this.src,pe,!!q,le),A.fa=P,y.push(A)),A};function ke(y,A){const P=A.type;if(P in y.g){var q=y.g[P],le=Array.prototype.indexOf.call(q,A,void 0),pe;(pe=le>=0)&&Array.prototype.splice.call(q,le,1),pe&&(ee(A),y.g[P].length==0&&(delete y.g[P],y.h--))}}function Le(y,A,P,q){for(let le=0;le<y.length;++le){const pe=y[le];if(!pe.da&&pe.listener==A&&pe.capture==!!P&&pe.ha==q)return le}return-1}var de="closure_lm_"+(Math.random()*1e6|0),we={};function Z(y,A,P,q,le){if(Array.isArray(A)){for(let pe=0;pe<A.length;pe++)Z(y,A[pe],P,q,le);return null}return P=Ur(P),y&&y[Ne]?y.J(A,P,u(q)?!!q.capture:!1,le):De(y,A,P,!1,q,le)}function De(y,A,P,q,le,pe){if(!A)throw Error("Invalid event type");const Re=u(le)?!!le.capture:!!le;let rt=Vt(y);if(rt||(y[de]=rt=new ye(y)),P=rt.add(A,P,q,Re,pe),P.proxy)return P;if(q=Ee(),P.proxy=q,q.src=y,q.listener=P,y.addEventListener)$||(le=Re),le===void 0&&(le=!1),y.addEventListener(A.toString(),q,le);else if(y.attachEvent)y.attachEvent(Je(A.toString()),q);else if(y.addListener&&y.removeListener)y.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Ee(){function y(P){return A.call(y.src,y.listener,P)}const A=xt;return y}function xe(y,A,P,q,le){if(Array.isArray(A))for(var pe=0;pe<A.length;pe++)xe(y,A[pe],P,q,le);else q=u(q)?!!q.capture:!!q,P=Ur(P),y&&y[Ne]?(y=y.i,pe=String(A).toString(),pe in y.g&&(A=y.g[pe],P=Le(A,P,q,le),P>-1&&(ee(A[P]),Array.prototype.splice.call(A,P,1),A.length==0&&(delete y.g[pe],y.h--)))):y&&(y=Vt(y))&&(A=y.g[A.toString()],y=-1,A&&(y=Le(A,P,q,le)),(P=y>-1?A[y]:null)&&jt(P))}function jt(y){if(typeof y!="number"&&y&&!y.da){var A=y.src;if(A&&A[Ne])ke(A.i,y);else{var P=y.type,q=y.proxy;A.removeEventListener?A.removeEventListener(P,q,y.capture):A.detachEvent?A.detachEvent(Je(P),q):A.addListener&&A.removeListener&&A.removeListener(q),(P=Vt(A))?(ke(P,y),P.h==0&&(P.src=null,A[de]=null)):ee(y)}}}function Je(y){return y in we?we[y]:we[y]="on"+y}function xt(y,A){if(y.da)y=!0;else{A=new se(A,this);const P=y.listener,q=y.ha||y.src;y.fa&&jt(y),y=P.call(q,A)}return y}function Vt(y){return y=y[de],y instanceof ye?y:null}var fr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ur(y){return typeof y=="function"?y:(y[fr]||(y[fr]=function(A){return y.handleEvent(A)}),y[fr])}function Jt(){V.call(this),this.i=new ye(this),this.M=this,this.G=null}g(Jt,V),Jt.prototype[Ne]=!0,Jt.prototype.removeEventListener=function(y,A,P,q){xe(this,y,A,P,q)};function Zt(y,A){var P,q=y.G;if(q)for(P=[];q;q=q.G)P.push(q);if(y=y.M,q=A.type||A,typeof A=="string")A=new z(A,y);else if(A instanceof z)A.target=A.target||y;else{var le=A;A=new z(q,y),ie(A,le)}le=!0;let pe,Re;if(P)for(Re=P.length-1;Re>=0;Re--)pe=A.g=P[Re],le=zi(pe,q,!0,A)&&le;if(pe=A.g=y,le=zi(pe,q,!0,A)&&le,le=zi(pe,q,!1,A)&&le,P)for(Re=0;Re<P.length;Re++)pe=A.g=P[Re],le=zi(pe,q,!1,A)&&le}Jt.prototype.N=function(){if(Jt.Z.N.call(this),this.i){var y=this.i;for(const A in y.g){const P=y.g[A];for(let q=0;q<P.length;q++)ee(P[q]);delete y.g[A],y.h--}}this.G=null},Jt.prototype.J=function(y,A,P,q){return this.i.add(String(y),A,!1,P,q)},Jt.prototype.K=function(y,A,P,q){return this.i.add(String(y),A,!0,P,q)};function zi(y,A,P,q){if(A=y.i.g[String(A)],!A)return!0;A=A.concat();let le=!0;for(let pe=0;pe<A.length;++pe){const Re=A[pe];if(Re&&!Re.da&&Re.capture==P){const rt=Re.listener,Sn=Re.ha||Re.src;Re.fa&&ke(y.i,Re),le=rt.call(Sn,q)!==!1&&le}}return le&&!q.defaultPrevented}function Ns(y,A){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:c.setTimeout(y,A||0)}function ni(y){y.g=Ns(()=>{y.g=null,y.i&&(y.i=!1,ni(y))},y.l);const A=y.h;y.h=null,y.m.apply(null,A)}class Bt extends V{constructor(A,P){super(),this.m=A,this.l=P,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:ni(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yi(y){V.call(this),this.h=y,this.g={}}g(yi,V);var fa=[];function cn(y){W(y.g,function(A,P){this.g.hasOwnProperty(P)&&jt(A)},y),y.g={}}yi.prototype.N=function(){yi.Z.N.call(this),cn(this)},yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var en=c.JSON.stringify,No=c.JSON.parse,_s=class{stringify(y){return c.JSON.stringify(y,void 0)}parse(y){return c.JSON.parse(y,void 0)}};function ha(){}function _o(){}var un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function mn(){z.call(this,"d")}g(mn,z);function hr(){z.call(this,"c")}g(hr,z);var Ft={},So=null;function ma(){return So=So||new Jt}Ft.Ia="serverreachability";function pa(y){z.call(this,Ft.Ia,y)}g(pa,z);function Vr(y){const A=ma();Zt(A,new pa(A))}Ft.STAT_EVENT="statevent";function er(y,A){z.call(this,Ft.STAT_EVENT,y),this.stat=A}g(er,z);function tn(y){const A=ma();Zt(A,new er(A,y))}Ft.Ja="timingevent";function Br(y,A){z.call(this,Ft.Ja,y),this.size=A}g(Br,z);function tr(y,A){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){y()},A)}function Ar(){this.g=!0}Ar.prototype.ua=function(){this.g=!1};function ga(y,A,P,q,le,pe){y.info(function(){if(y.g)if(pe){var Re="",rt=pe.split("&");for(let At=0;At<rt.length;At++){var Sn=rt[At].split("=");if(Sn.length>1){const rn=Sn[0];Sn=Sn[1];const $i=rn.split("_");Re=$i.length>=2&&$i[1]=="type"?Re+(rn+"="+Sn+"&"):Re+(rn+"=redacted&")}}}else Re=null;else Re=pe;return"XMLHTTP REQ ("+q+") [attempt "+le+"]: "+A+`
`+P+`
`+Re})}function xi(y,A,P,q,le,pe,Re){y.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+le+"]: "+A+`
`+P+`
`+pe+" "+Re})}function Fr(y,A,P,q){y.info(function(){return"XMLHTTP TEXT ("+A+"): "+X(y,P)+(q?" "+q:"")})}function ya(y,A){y.info(function(){return"TIMEOUT: "+A})}Ar.prototype.info=function(){};function X(y,A){if(!y.g)return A;if(!A)return null;try{const pe=JSON.parse(A);if(pe){for(y=0;y<pe.length;y++)if(Array.isArray(pe[y])){var P=pe[y];if(!(P.length<2)){var q=P[1];if(Array.isArray(q)&&!(q.length<1)){var le=q[0];if(le!="noop"&&le!="stop"&&le!="close")for(let Re=1;Re<q.length;Re++)q[Re]=""}}}}return en(pe)}catch{return A}}var ne={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},he={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ae;function Ie(){}g(Ie,ha),Ie.prototype.g=function(){return new XMLHttpRequest},Ae=new Ie;function Ve(y){return encodeURIComponent(String(y))}function qe(y){var A=1;y=y.split(":");const P=[];for(;A>0&&y.length;)P.push(y.shift()),A--;return y.length&&P.push(y.join(":")),P}function Me(y,A,P,q){this.j=y,this.i=A,this.l=P,this.S=q||1,this.V=new yi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Y}function Y(){this.i=null,this.g="",this.h=!1}var oe={},ae={};function me(y,A,P){y.M=1,y.A=Fl(fn(A)),y.u=P,y.R=!0,Oe(y,null)}function Oe(y,A){y.F=Date.now(),ft(y),y.B=fn(y.A);var P=y.B,q=y.S;Array.isArray(q)||(q=[String(q)]),Qc(P.i,"t",q),y.C=0,P=y.j.L,y.h=new Y,y.g=Dm(y.j,P?A:null,!y.u),y.P>0&&(y.O=new Bt(h(y.Y,y,y.g),y.P)),A=y.V,P=y.g,q=y.ba;var le="readystatechange";Array.isArray(le)||(le&&(fa[0]=le.toString()),le=fa);for(let pe=0;pe<le.length;pe++){const Re=Z(P,le[pe],q||A.handleEvent,!1,A.h||A);if(!Re)break;A.g[Re.key]=Re}A=y.J?B(y.J):{},y.u?(y.v||(y.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,A)):(y.v="GET",y.g.ea(y.B,y.v,null,A)),Vr(),ga(y.i,y.v,y.B,y.l,y.S,y.u)}Me.prototype.ba=function(y){y=y.target;const A=this.O;A&&wa(y)==3?A.j():this.Y(y)},Me.prototype.Y=function(y){try{if(y==this.g)e:{const rt=wa(this.g),Sn=this.g.ya(),At=this.g.ca();if(!(rt<3)&&(rt!=3||this.g&&(this.h.h||this.g.la()||mr(this.g)))){this.K||rt!=4||Sn==7||(Sn==8||At<=0?Vr(3):Vr(2)),nr(this);var A=this.g.ca();this.X=A;var P=Ze(this);if(this.o=A==200,xi(this.i,this.v,this.B,this.l,this.S,rt,A),this.o){if(this.U&&!this.L){t:{if(this.g){var q,le=this.g;if((q=le.g?le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(q)){var pe=q;break t}}pe=null}if(y=pe)Fr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_n(this,y);else{this.o=!1,this.m=3,tn(12),pn(this),rr(this);break e}}if(this.R){y=!0;let rn;for(;!this.K&&this.C<P.length;)if(rn=dn(this,P),rn==ae){rt==4&&(this.m=4,tn(14),y=!1),Fr(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==oe){this.m=4,tn(15),Fr(this.i,this.l,P,"[Invalid Chunk]"),y=!1;break}else Fr(this.i,this.l,rn,null),_n(this,rn);if(ct(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||P.length!=0||this.h.h||(this.m=1,tn(16),y=!1),this.o=this.o&&y,!y)Fr(this.i,this.l,P,"[Invalid Chunked Response]"),pn(this),rr(this);else if(P.length>0&&!this.W){this.W=!0;var Re=this.j;Re.g==this&&Re.aa&&!Re.P&&(Re.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Yd(Re),Re.P=!0,tn(11))}}else Fr(this.i,this.l,P,null),_n(this,P);rt==4&&pn(this),this.o&&!this.K&&(rt==4?Im(this.j,this):(this.o=!1,ft(this)))}else Es(this.g),A==400&&P.indexOf("Unknown SID")>0?(this.m=3,tn(12)):(this.m=0,tn(13)),pn(this),rr(this)}}}catch{}finally{}};function Ze(y){if(!ct(y))return y.g.la();const A=mr(y.g);if(A==="")return"";let P="";const q=A.length,le=wa(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return pn(y),rr(y),"";y.h.i=new c.TextDecoder}for(let pe=0;pe<q;pe++)y.h.h=!0,P+=y.h.i.decode(A[pe],{stream:!(le&&pe==q-1)});return A.length=0,y.h.g+=P,y.C=0,y.h.g}function ct(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function dn(y,A){var P=y.C,q=A.indexOf(`
`,P);return q==-1?ae:(P=Number(A.substring(P,q)),isNaN(P)?oe:(q+=1,q+P>A.length?ae:(A=A.slice(q,q+P),y.C=q+P,A)))}Me.prototype.cancel=function(){this.K=!0,pn(this)};function ft(y){y.T=Date.now()+y.H,Nt(y,y.H)}function Nt(y,A){if(y.D!=null)throw Error("WatchDog timer not null");y.D=tr(h(y.aa,y),A)}function nr(y){y.D&&(c.clearTimeout(y.D),y.D=null)}Me.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(ya(this.i,this.B),this.M!=2&&(Vr(),tn(17)),pn(this),this.m=2,rr(this)):Nt(this,this.T-y)};function rr(y){y.j.I==0||y.K||Im(y.j,y)}function pn(y){nr(y);var A=y.O;A&&typeof A.dispose=="function"&&A.dispose(),y.O=null,cn(y.V),y.g&&(A=y.g,y.g=null,A.abort(),A.dispose())}function _n(y,A){try{var P=y.j;if(P.I!=0&&(P.g==y||qr(P.h,y))){if(!y.L&&qr(P.h,y)&&P.I==3){try{var q=P.Ba.g.parse(A)}catch{q=null}if(Array.isArray(q)&&q.length==3){var le=q;if(le[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<y.F)tu(P),Ro(P);else break e;Yl(P),tn(18)}}else P.xa=le[1],0<P.xa-P.K&&le[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=tr(h(P.Va,P),6e3));$r(P.h)<=1&&P.ta&&(P.ta=void 0)}else qa(P,11)}else if((y.L||P.g==y)&&tu(P),!L(A))for(le=P.Ba.g.parse(A),A=0;A<le.length;A++){let At=le[A];const rn=At[0];if(!(rn<=P.K))if(P.K=rn,At=At[1],P.I==2)if(At[0]=="c"){P.M=At[1],P.ba=At[2];const $i=At[3];$i!=null&&(P.ka=$i,P.j.info("VER="+P.ka));const Ha=At[4];Ha!=null&&(P.za=Ha,P.j.info("SVER="+P.za));const ja=At[5];ja!=null&&typeof ja=="number"&&ja>0&&(q=1.5*ja,P.O=q,P.j.info("backChannelRequestTimeoutMs_="+q)),q=P;const Na=y.g;if(Na){const Ql=Na.g?Na.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ql){var pe=q.h;pe.g||Ql.indexOf("spdy")==-1&&Ql.indexOf("quic")==-1&&Ql.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(st(pe,pe.h),pe.h=null))}if(q.G){const nu=Na.g?Na.g.getResponseHeader("X-HTTP-Session-Id"):null;nu&&(q.wa=nu,kt(q.J,q.G,nu))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-y.F,P.j.info("Handshake RTT: "+P.T+"ms")),q=P;var Re=y;if(q.na=Pm(q,q.L?q.ba:null,q.W),Re.L){gn(q.h,Re);var rt=Re,Sn=q.O;Sn&&(rt.H=Sn),rt.D&&(nr(rt),ft(rt)),q.g=Re}else Cm(q);P.i.length>0&&$a(P)}else At[0]!="stop"&&At[0]!="close"||qa(P,7);else P.I==3&&(At[0]=="stop"||At[0]=="close"?At[0]=="stop"?qa(P,7):Kd(P):At[0]!="noop"&&P.l&&P.l.qa(At),P.A=0)}}Vr(4)}catch{}}var nn=class{constructor(y,A){this.g=y,this.map=A}};function xa(y){this.l=y||10,c.PerformanceNavigationTiming?(y=c.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vi(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function $r(y){return y.h?1:y.g?y.g.size:0}function qr(y,A){return y.h?y.h==A:y.g?y.g.has(A):!1}function st(y,A){y.g?y.g.add(A):y.h=A}function gn(y,A){y.h&&y.h==A?y.h=null:y.g&&y.g.has(A)&&y.g.delete(A)}xa.prototype.cancel=function(){if(this.i=Ui(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Ui(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let A=y.i;for(const P of y.g.values())A=A.concat(P.G);return A}return b(y.i)}var Vi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $t(y,A){if(y){y=y.split("&");for(let P=0;P<y.length;P++){const q=y[P].indexOf("=");let le,pe=null;q>=0?(le=y[P].substring(0,q),pe=y[P].substring(q+1)):le=y[P],A(le,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function ir(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;y instanceof ir?(this.l=y.l,Dn(this,y.j),this.o=y.o,this.g=y.g,Eo(this,y.u),this.h=y.h,Vd(this,Am(y.i)),this.m=y.m):y&&(A=String(y).match(Vi))?(this.l=!1,Dn(this,A[1]||"",!0),this.o=Ua(A[2]||""),this.g=Ua(A[3]||"",!0),Eo(this,A[4]),this.h=Ua(A[5]||"",!0),Vd(this,A[6]||"",!0),this.m=Ua(A[7]||"")):(this.l=!1,this.i=new To(null,this.l))}ir.prototype.toString=function(){const y=[];var A=this.j;A&&y.push($l(A,Yc,!0),":");var P=this.g;return(P||A=="file")&&(y.push("//"),(A=this.o)&&y.push($l(A,Yc,!0),"@"),y.push(Ve(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&y.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&y.push("/"),y.push($l(P,P.charAt(0)=="/"?Bd:_m,!0))),(P=this.i.toString())&&y.push("?",P),(P=this.m)&&y.push("#",$l(P,Sm)),y.join("")},ir.prototype.resolve=function(y){const A=fn(this);let P=!!y.j;P?Dn(A,y.j):P=!!y.o,P?A.o=y.o:P=!!y.g,P?A.g=y.g:P=y.u!=null;var q=y.h;if(P)Eo(A,y.u);else if(P=!!y.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var le=A.h.lastIndexOf("/");le!=-1&&(q=A.h.slice(0,le+1)+q)}if(le=q,le==".."||le==".")q="";else if(le.indexOf("./")!=-1||le.indexOf("/.")!=-1){q=le.lastIndexOf("/",0)==0,le=le.split("/");const pe=[];for(let Re=0;Re<le.length;){const rt=le[Re++];rt=="."?q&&Re==le.length&&pe.push(""):rt==".."?((pe.length>1||pe.length==1&&pe[0]!="")&&pe.pop(),q&&Re==le.length&&pe.push("")):(pe.push(rt),q=!0)}q=pe.join("/")}else q=le}return P?A.h=q:P=y.i.toString()!=="",P?Vd(A,Am(y.i)):P=!!y.m,P&&(A.m=y.m),A};function fn(y){return new ir(y)}function Dn(y,A,P){y.j=P?Ua(A,!0):A,y.j&&(y.j=y.j.replace(/:$/,""))}function Eo(y,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);y.u=A}else y.u=null}function Vd(y,A,P){A instanceof To?(y.i=A,Xc(y.i,y.l)):(P||(A=$l(A,Ao)),y.i=new To(A,y.l))}function kt(y,A,P){y.i.set(A,P)}function Fl(y){return kt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Ua(y,A){return y?A?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function $l(y,A,P){return typeof y=="string"?(y=encodeURI(y).replace(A,ri),P&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function ri(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Yc=/[#\/\?@]/g,_m=/[#\?:]/g,Bd=/[#\?]/g,Ao=/[#\?@]/g,Sm=/#/g;function To(y,A){this.h=this.g=null,this.i=y||null,this.j=!!A}function ii(y){y.g||(y.g=new Map,y.h=0,y.i&&$t(y.i,function(A,P){y.add(decodeURIComponent(A.replace(/\+/g," ")),P)}))}t=To.prototype,t.add=function(y,A){ii(this),this.i=null,y=Co(this,y);let P=this.g.get(y);return P||this.g.set(y,P=[]),P.push(A),this.h+=1,this};function Em(y,A){ii(y),A=Co(y,A),y.g.has(A)&&(y.i=null,y.h-=y.g.get(A).length,y.g.delete(A))}function Fd(y,A){return ii(y),A=Co(y,A),y.g.has(A)}t.forEach=function(y,A){ii(this),this.g.forEach(function(P,q){P.forEach(function(le){y.call(A,le,q,this)},this)},this)};function $d(y,A){ii(y);let P=[];if(typeof A=="string")Fd(y,A)&&(P=P.concat(y.g.get(Co(y,A))));else for(y=Array.from(y.g.values()),A=0;A<y.length;A++)P=P.concat(y[A]);return P}t.set=function(y,A){return ii(this),this.i=null,y=Co(this,y),Fd(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[A]),this.h+=1,this},t.get=function(y,A){return y?(y=$d(this,y),y.length>0?String(y[0]):A):A};function Qc(y,A,P){Em(y,A),P.length>0&&(y.i=null,y.g.set(Co(y,A),b(P)),y.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],A=Array.from(this.g.keys());for(let q=0;q<A.length;q++){var P=A[q];const le=Ve(P);P=$d(this,P);for(let pe=0;pe<P.length;pe++){let Re=le;P[pe]!==""&&(Re+="="+Ve(P[pe])),y.push(Re)}}return this.i=y.join("&")};function Am(y){const A=new To;return A.i=y.i,y.g&&(A.g=new Map(y.g),A.h=y.h),A}function Co(y,A){return A=String(A),y.j&&(A=A.toLowerCase()),A}function Xc(y,A){A&&!y.j&&(ii(y),y.i=null,y.g.forEach(function(P,q){const le=q.toLowerCase();q!=le&&(Em(this,q),Qc(this,le,P))},y)),y.j=A}function va(y,A){const P=new Ar;if(c.Image){const q=new Image;q.onload=p(Bi,P,"TestLoadImage: loaded",!0,A,q),q.onerror=p(Bi,P,"TestLoadImage: error",!1,A,q),q.onabort=p(Bi,P,"TestLoadImage: abort",!1,A,q),q.ontimeout=p(Bi,P,"TestLoadImage: timeout",!1,A,q),c.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=y}else A(!1)}function qd(y,A){const P=new Ar,q=new AbortController,le=setTimeout(()=>{q.abort(),Bi(P,"TestPingServer: timeout",!1,A)},1e4);fetch(y,{signal:q.signal}).then(pe=>{clearTimeout(le),pe.ok?Bi(P,"TestPingServer: ok",!0,A):Bi(P,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(le),Bi(P,"TestPingServer: error",!1,A)})}function Bi(y,A,P,q,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),q(P)}catch{}}function ko(){this.g=new _s}function Va(y){this.i=y.Sb||null,this.h=y.ab||!1}g(Va,ha),Va.prototype.g=function(){return new ql(this.i,this.h)};function ql(y,A){Jt.call(this),this.H=y,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(ql,Jt),t=ql.prototype,t.open=function(y,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=A,this.readyState=1,ba(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(A.body=y),(this.H||c).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Io(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,ba(this)),this.g&&(this.readyState=3,ba(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Jc(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Jc(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var A=y.value?y.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!y.done}))&&(this.response=this.responseText+=A)}y.done?Io(this):ba(this),this.readyState==3&&Jc(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,Io(this))},t.Na=function(y){this.g&&(this.response=y,Io(this))},t.ga=function(){this.g&&Io(this)};function Io(y){y.readyState=4,y.l=null,y.j=null,y.B=null,ba(y)}t.setRequestHeader=function(y,A){this.A.append(y,A)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],A=this.h.entries();for(var P=A.next();!P.done;)P=P.value,y.push(P[0]+": "+P[1]),P=A.next();return y.join(`\r
`)};function ba(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(ql.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Fi(y){let A="";return W(y,function(P,q){A+=q,A+=":",A+=P,A+=`\r
`}),A}function Hl(y,A,P){e:{for(q in P){var q=!1;break e}q=!0}q||(P=Fi(P),typeof y=="string"?P!=null&&Ve(P):kt(y,A,P))}function Pt(y){Jt.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Pt,Jt);var Ba=/^https?$/i,Hd=["POST","PUT"];t=Pt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,A,P,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);A=A?A.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ae.g(),this.g.onreadystatechange=x(h(this.Ca,this));try{this.B=!0,this.g.open(A,String(y),!0),this.B=!1}catch(pe){Gl(this,pe);return}if(y=P||"",P=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var le in q)P.set(le,q[le]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const pe of q.keys())P.set(pe,q.get(pe));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(P.keys()).find(pe=>pe.toLowerCase()=="content-type"),le=c.FormData&&y instanceof c.FormData,!(Array.prototype.indexOf.call(Hd,A,void 0)>=0)||q||le||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Re]of P)this.g.setRequestHeader(pe,Re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(pe){Gl(this,pe)}};function Gl(y,A){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=A,y.o=5,Gd(y),Ss(y)}function Gd(y){y.A||(y.A=!0,Zt(y,"complete"),Zt(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Zt(this,"complete"),Zt(this,"abort"),Ss(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ss(this,!0)),Pt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Kl(this):this.Xa())},t.Xa=function(){Kl(this)};function Kl(y){if(y.h&&typeof o<"u"){if(y.v&&wa(y)==4)setTimeout(y.Ca.bind(y),0);else if(Zt(y,"readystatechange"),wa(y)==4){y.h=!1;try{const pe=y.ca();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var P;if(!(P=A)){var q;if(q=pe===0){let Re=String(y.D).match(Vi)[1]||null;!Re&&c.self&&c.self.location&&(Re=c.self.location.protocol.slice(0,-1)),q=!Ba.test(Re?Re.toLowerCase():"")}P=q}if(P)Zt(y,"complete"),Zt(y,"success");else{y.o=6;try{var le=wa(y)>2?y.g.statusText:""}catch{le=""}y.l=le+" ["+y.ca()+"]",Gd(y)}}finally{Ss(y)}}}}function Ss(y,A){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const P=y.g;y.g=null,A||Zt(y,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function wa(y){return y.g?y.g.readyState:0}t.ca=function(){try{return wa(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var A=this.g.responseText;return y&&A.indexOf(y)==0&&(A=A.substring(y.length)),No(A)}};function mr(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Es(y){const A={};y=(y.g&&wa(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<y.length;q++){if(L(y[q]))continue;var P=qe(y[q]);const le=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const pe=A[le]||[];A[le]=pe,pe.push(P)}K(A,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fa(y,A,P){return P&&P.internalChannelParams&&P.internalChannelParams[y]||A}function Oo(y){this.za=0,this.i=[],this.j=new Ar,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fa("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fa("baseRetryDelayMs",5e3,y),this.Za=Fa("retryDelaySeedMs",1e4,y),this.Ta=Fa("forwardChannelMaxRetries",2,y),this.va=Fa("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new xa(y&&y.concurrentRequestLimit),this.Ba=new ko,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Oo.prototype,t.ka=8,t.I=1,t.connect=function(y,A,P,q){tn(0),this.W=y,this.H=A||{},P&&q!==void 0&&(this.H.OSID=P,this.H.OAID=q),this.F=this.X,this.J=Pm(this,null,this.W),$a(this)};function Kd(y){if(Zc(y),y.I==3){var A=y.V++,P=fn(y.J);if(kt(P,"SID",y.M),kt(P,"RID",A),kt(P,"TYPE","terminate"),Wl(y,P),A=new Me(y,y.j,A),A.M=2,A.A=Fl(fn(P)),P=!1,c.navigator&&c.navigator.sendBeacon)try{P=c.navigator.sendBeacon(A.A.toString(),"")}catch{}!P&&c.Image&&(new Image().src=A.A,P=!0),P||(A.g=Dm(A.j,null),A.g.ea(A.A)),A.F=Date.now(),ft(A)}Rm(y)}function Ro(y){y.g&&(Yd(y),y.g.cancel(),y.g=null)}function Zc(y){Ro(y),y.v&&(c.clearTimeout(y.v),y.v=null),tu(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&c.clearTimeout(y.m),y.m=null)}function $a(y){if(!vi(y.h)&&!y.m){y.m=!0;var A=y.Ea;R||I(),F||(R(),F=!0),E.add(A,y),y.D=0}}function eu(y,A){return $r(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=A.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=tr(h(y.Ea,y,A),Om(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const le=new Me(this,this.j,y);let pe=this.o;if(this.U&&(pe?(pe=B(pe),ie(pe,this.U)):pe=this.U),this.u!==null||this.R||(le.J=pe,pe=null),this.S)e:{for(var A=0,P=0;P<this.i.length;P++){t:{var q=this.i[P];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(A+=q,A>4096){A=P;break e}if(A===4096||P===this.i.length-1){A=P+1;break e}}A=1e3}else A=1e3;A=Tm(this,le,A),P=fn(this.J),kt(P,"RID",y),kt(P,"CVER",22),this.G&&kt(P,"X-HTTP-Session-Id",this.G),Wl(this,P),pe&&(this.R?A="headers="+Ve(Fi(pe))+"&"+A:this.u&&Hl(P,this.u,pe)),st(this.h,le),this.Ra&&kt(P,"TYPE","init"),this.S?(kt(P,"$req",A),kt(P,"SID","null"),le.U=!0,me(le,P,null)):me(le,P,A),this.I=2}}else this.I==3&&(y?Wd(this,y):this.i.length==0||vi(this.h)||Wd(this))};function Wd(y,A){var P;A?P=A.l:P=y.V++;const q=fn(y.J);kt(q,"SID",y.M),kt(q,"RID",P),kt(q,"AID",y.K),Wl(y,q),y.u&&y.o&&Hl(q,y.u,y.o),P=new Me(y,y.j,P,y.D+1),y.u===null&&(P.J=y.o),A&&(y.i=A.G.concat(y.i)),A=Tm(y,P,1e3),P.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),st(y.h,P),me(P,q,A)}function Wl(y,A){y.H&&W(y.H,function(P,q){kt(A,q,P)}),y.l&&W({},function(P,q){kt(A,q,P)})}function Tm(y,A,P){P=Math.min(y.i.length,P);const q=y.l?h(y.l.Ka,y.l,y):null;e:{var le=y.i;let rt=-1;for(;;){const Sn=["count="+P];rt==-1?P>0?(rt=le[0].g,Sn.push("ofs="+rt)):rt=0:Sn.push("ofs="+rt);let At=!0;for(let rn=0;rn<P;rn++){var pe=le[rn].g;const $i=le[rn].map;if(pe-=rt,pe<0)rt=Math.max(0,le[rn].g-100),At=!1;else try{pe="req"+pe+"_"||"";try{var Re=$i instanceof Map?$i:Object.entries($i);for(const[Ha,ja]of Re){let Na=ja;u(ja)&&(Na=en(ja)),Sn.push(pe+Ha+"="+encodeURIComponent(Na))}}catch(Ha){throw Sn.push(pe+"type="+encodeURIComponent("_badmap")),Ha}}catch{q&&q($i)}}if(At){Re=Sn.join("&");break e}}Re=void 0}return y=y.i.splice(0,P),A.G=y,Re}function Cm(y){if(!y.g&&!y.v){y.Y=1;var A=y.Da;R||I(),F||(R(),F=!0),E.add(A,y),y.A=0}}function Yl(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=tr(h(y.Da,y),Om(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,km(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=tr(h(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tn(10),Ro(this),km(this))};function Yd(y){y.B!=null&&(c.clearTimeout(y.B),y.B=null)}function km(y){y.g=new Me(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var A=fn(y.na);kt(A,"RID","rpc"),kt(A,"SID",y.M),kt(A,"AID",y.K),kt(A,"CI",y.F?"0":"1"),!y.F&&y.ia&&kt(A,"TO",y.ia),kt(A,"TYPE","xmlhttp"),Wl(y,A),y.u&&y.o&&Hl(A,y.u,y.o),y.O&&(y.g.H=y.O);var P=y.g;y=y.ba,P.M=1,P.A=Fl(fn(A)),P.u=null,P.R=!0,Oe(P,y)}t.Va=function(){this.C!=null&&(this.C=null,Ro(this),Yl(this),tn(19))};function tu(y){y.C!=null&&(c.clearTimeout(y.C),y.C=null)}function Im(y,A){var P=null;if(y.g==A){tu(y),Yd(y),y.g=null;var q=2}else if(qr(y.h,A))P=A.G,gn(y.h,A),q=1;else return;if(y.I!=0){if(A.o)if(q==1){P=A.u?A.u.length:0,A=Date.now()-A.F;var le=y.D;q=ma(),Zt(q,new Br(q,P)),$a(y)}else Cm(y);else if(le=A.m,le==3||le==0&&A.X>0||!(q==1&&eu(y,A)||q==2&&Yl(y)))switch(P&&P.length>0&&(A=y.h,A.i=A.i.concat(P)),le){case 1:qa(y,5);break;case 4:qa(y,10);break;case 3:qa(y,6);break;default:qa(y,2)}}}function Om(y,A){let P=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(P*=2),P*A}function qa(y,A){if(y.j.info("Error code "+A),A==2){var P=h(y.bb,y),q=y.Ua;const le=!q;q=new ir(q||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Dn(q,"https"),Fl(q),le?va(q.toString(),P):qd(q.toString(),P)}else tn(2);y.I=0,y.l&&y.l.pa(A),Rm(y),Zc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function Rm(y){if(y.I=0,y.ja=[],y.l){const A=Ui(y.h);(A.length!=0||y.i.length!=0)&&(_(y.ja,A),_(y.ja,y.i),y.h.i.length=0,b(y.i),y.i.length=0),y.l.oa()}}function Pm(y,A,P){var q=P instanceof ir?fn(P):new ir(P);if(q.g!="")A&&(q.g=A+"."+q.g),Eo(q,q.u);else{var le=c.location;q=le.protocol,A=A?A+"."+le.hostname:le.hostname,le=+le.port;const pe=new ir(null);q&&Dn(pe,q),A&&(pe.g=A),le&&Eo(pe,le),P&&(pe.h=P),q=pe}return P=y.G,A=y.wa,P&&A&&kt(q,P,A),kt(q,"VER",y.ka),Wl(y,q),q}function Dm(y,A,P){if(A&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=y.Aa&&!y.ma?new Pt(new Va({ab:P})):new Pt(y.ma),A.Fa(y.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mm(){}t=Mm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Po(){}Po.prototype.g=function(y,A){return new Hr(y,A)};function Hr(y,A){Jt.call(this),this.g=new Oo(A),this.l=y,this.h=A&&A.messageUrlParams||null,y=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(y?y["X-WebChannel-Content-Type"]=A.messageContentType:y={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(y?y["X-WebChannel-Client-Profile"]=A.sa:y={"X-WebChannel-Client-Profile":A.sa}),this.g.U=y,(y=A&&A.Qb)&&!L(y)&&(this.g.u=y),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!L(A)&&(this.g.G=A,y=this.h,y!==null&&A in y&&(y=this.h,A in y&&delete y[A])),this.j=new As(this)}g(Hr,Jt),Hr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Hr.prototype.close=function(){Kd(this.g)},Hr.prototype.o=function(y){var A=this.g;if(typeof y=="string"){var P={};P.__data__=y,y=P}else this.v&&(P={},P.__data__=en(y),y=P);A.i.push(new nn(A.Ya++,y)),A.I==3&&$a(A)},Hr.prototype.N=function(){this.g.l=null,delete this.j,Kd(this.g),delete this.g,Hr.Z.N.call(this)};function Lm(y){mn.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var A=y.__sm__;if(A){e:{for(const P in A){y=P;break e}y=void 0}(this.i=y)&&(y=this.i,A=A!==null&&y in A?A[y]:void 0),this.data=A}else this.data=y}g(Lm,mn);function zm(){hr.call(this),this.status=1}g(zm,hr);function As(y){this.g=y}g(As,Mm),As.prototype.ra=function(){Zt(this.g,"a")},As.prototype.qa=function(y){Zt(this.g,new Lm(y))},As.prototype.pa=function(y){Zt(this.g,new zm)},As.prototype.oa=function(){Zt(this.g,"b")},Po.prototype.createWebChannel=Po.prototype.g,Hr.prototype.send=Hr.prototype.o,Hr.prototype.open=Hr.prototype.m,Hr.prototype.close=Hr.prototype.close,rD=function(){return new Po},nD=function(){return ma()},tD=Ft,R1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,_g=ne,he.COMPLETE="complete",eD=he,_o.EventType=un,un.OPEN="a",un.CLOSE="b",un.ERROR="c",un.MESSAGE="d",Jt.prototype.listen=Jt.prototype.J,Jf=_o,Pt.prototype.listenOnce=Pt.prototype.K,Pt.prototype.getLastError=Pt.prototype.Ha,Pt.prototype.getLastErrorCode=Pt.prototype.ya,Pt.prototype.getStatus=Pt.prototype.ca,Pt.prototype.getResponseJson=Pt.prototype.La,Pt.prototype.getResponseText=Pt.prototype.la,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Fa,Z6=Pt}).apply(typeof Gp<"u"?Gp:typeof self<"u"?self:typeof window<"u"?window:{});const IC="@firebase/firestore",OC="4.9.2";class Ir{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ir.UNAUTHENTICATED=new Ir(null),Ir.GOOGLE_CREDENTIALS=new Ir("google-credentials-uid"),Ir.FIRST_PARTY=new Ir("first-party-uid"),Ir.MOCK_USER=new Ir("mock-user");let Ad="12.3.0";const Oc=new r0("@firebase/firestore");function Lu(){return Oc.logLevel}function Be(t,...e){if(Oc.logLevel<=pt.DEBUG){const n=e.map(AN);Oc.debug(`Firestore (${Ad}): ${t}`,...n)}}function so(t,...e){if(Oc.logLevel<=pt.ERROR){const n=e.map(AN);Oc.error(`Firestore (${Ad}): ${t}`,...n)}}function dd(t,...e){if(Oc.logLevel<=pt.WARN){const n=e.map(AN);Oc.warn(`Firestore (${Ad}): ${t}`,...n)}}function AN(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function nt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,iD(t,r,n)}function iD(t,e,n){let r=`FIRESTORE (${Ad}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw so(r),new Error(r)}function hn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||iD(e,i,r)}function bt(t,e){return t}const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends ua{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nl{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class aD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ir.UNAUTHENTICATED)))}shutdown(){}}class RK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class PK{constructor(e){this.t=e,this.currentUser=Ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){hn(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new Nl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nl,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nl)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(hn(typeof r.accessToken=="string",31837,{l:r}),new aD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return hn(e===null||typeof e=="string",2055,{h:e}),new Ir(e)}}class DK{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ir.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MK{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new DK(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ir.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class RC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LK{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){hn(this.o===void 0,3512);const r=o=>{o.error!=null&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new RC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(hn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new RC(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class TN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=zK(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function yt(t,e){return t<e?-1:t>e?1:0}function P1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return wb(i)===wb(o)?yt(i,o):wb(i)?1:-1}return yt(t.length,e.length)}const UK=55296,VK=57343;function wb(t){const e=t.charCodeAt(0);return e>=UK&&e<=VK}function fd(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const PC="__name__";class Qa{constructor(e,n,r){n===void 0?n=0:n>e.length&&nt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&nt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Qa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Qa.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return yt(e.length,n.length)}static compareSegments(e,n){const r=Qa.isNumericId(e),i=Qa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Qa.extractNumericId(e).compare(Qa.extractNumericId(n)):P1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jl.fromString(e.substring(4,e.length-2))}}class Ht extends Qa{construct(e,n,r){return new Ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ue(Ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ht(n)}static emptyPath(){return new Ht([])}}const BK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pr extends Qa{construct(e,n,r){return new Pr(e,n,r)}static isValidIdentifier(e){return BK.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PC}static keyField(){return new Pr([PC])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ue(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ue(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ue(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(c=!c,i++):u!=="."||c?(r+=u,i++):(o(),i++)}if(o(),c)throw new Ue(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pr(n)}static emptyPath(){return new Pr([])}}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(Ht.fromString(e))}static fromName(e){return new Ye(Ht.fromString(e).popFirst(5))}static empty(){return new Ye(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new Ht(e.slice()))}}function sD(t,e,n){if(!n)throw new Ue(Ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FK(t,e,n,r){if(e===!0&&r===!0)throw new Ue(Ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function DC(t){if(!Ye.isDocumentKey(t))throw new Ue(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MC(t){if(Ye.isDocumentKey(t))throw new Ue(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function l0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":nt(12329,{type:typeof t})}function bh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ue(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=l0(t);throw new Ue(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function qn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Zh(t,e){if(!oD(t))throw new Ue(Ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(i&&typeof c!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ue(Ce.INVALID_ARGUMENT,n);return!0}const LC=-62135596800,zC=1e6;class on{static now(){return on.fromMillis(Date.now())}static fromDate(e){return on.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*zC);return new on(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ue(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ue(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<LC)throw new Ue(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zC}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:on._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zh(e,on._jsonSchema))return new on(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-LC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}on._jsonSchemaVersion="firestore/timestamp/1.0",on._jsonSchema={type:qn("string",on._jsonSchemaVersion),seconds:qn("number"),nanoseconds:qn("number")};class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new on(0,0))}static max(){return new tt(new on(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wh=-1;function $K(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(r===1e9?new on(n+1,0):new on(n,r));return new Al(i,Ye.empty(),e)}function qK(t){return new Al(t.readTime,t.key,wh)}class Al{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Al(tt.min(),Ye.empty(),wh)}static max(){return new Al(tt.max(),Ye.empty(),wh)}}function HK(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ye.comparator(t.documentKey,e.documentKey),n!==0?n:yt(t.largestBatchId,e.largestBatchId))}const GK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function c0(t){if(t.code!==Ce.FAILED_PRECONDITION||t.message!==GK)throw t;Be("LocalStore","Unexpectedly lost primary lease")}class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Se(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Se?n:Se.resolve(n)}catch(n){return Se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Se.reject(n)}static resolve(e){return new Se(((n,r)=>{n(e)}))}static reject(e){return new Se(((n,r)=>{r(e)}))}static waitFor(e){return new Se(((n,r)=>{let i=0,o=0,c=!1;e.forEach((u=>{++i,u.next((()=>{++o,c&&o===i&&n()}),(f=>r(f)))})),c=!0,o===i&&n()}))}static or(e){let n=Se.resolve(!1);for(const r of e)n=n.next((i=>i?Se.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new Se(((r,i)=>{const o=e.length,c=new Array(o);let u=0;for(let f=0;f<o;f++){const h=f;n(e[h]).next((p=>{c[h]=p,++u,u===o&&r(c)}),(p=>i(p)))}}))}static doWhile(e,n){return new Se(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function WK(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Td(t){return t.name==="IndexedDbTransactionError"}class u0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}u0.ce=-1;const YK=-1;function d0(t){return t==null}function Jg(t){return t===0&&1/t==-1/0}function QK(t){return typeof t=="number"&&Number.isInteger(t)&&!Jg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const lD="";function XK(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=UC(e)),e=JK(t.get(n),e);return UC(e)}function JK(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case lD:n+="";break;default:n+=o}}return n}function UC(t){return t+lD+""}function VC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cd(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class On{constructor(e,n){this.comparator=e,this.root=n||br.EMPTY}insert(e,n){return new On(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,br.BLACK,null,null))}remove(e){return new On(this.comparator,this.root.remove(e,this.comparator).copy(null,null,br.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kp(this.root,e,this.comparator,!0)}}class Kp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class br{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??br.RED,this.left=i??br.EMPTY,this.right=o??br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new br(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return br.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw nt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw nt(27949);return e+(this.isRed()?0:1)}}br.EMPTY=null,br.RED=!0,br.BLACK=!1;br.EMPTY=new class{constructor(){this.size=0}get key(){throw nt(57766)}get value(){throw nt(16141)}get color(){throw nt(16727)}get left(){throw nt(29726)}get right(){throw nt(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new br(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yn{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new BC(this.data.getIterator())}getIteratorFrom(e){return new BC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Yn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Yn(this.comparator);return n.data=e,n}}class BC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class yl{constructor(e){this.fields=e,e.sort(Pr.comparator)}static empty(){return new yl([])}unionWith(e){let n=new Yn(Pr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yl(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fd(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class uD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new uD("Invalid base64 string: "+o):o}})(e);return new Sr(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let c=0;c<i.length;++c)o+=String.fromCharCode(i[c]);return o})(e);return new Sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const ZK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tl(t){if(hn(!!t,39018),typeof t=="string"){let e=0;const n=ZK.exec(t);if(hn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Cn(t.seconds),nanos:Cn(t.nanos)}}function Cn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cl(t){return typeof t=="string"?Sr.fromBase64String(t):Sr.fromUint8Array(t)}const dD="server_timestamp",fD="__type__",hD="__previous_value__",mD="__local_write_time__";function CN(t){return(t?.mapValue?.fields||{})[fD]?.stringValue===dD}function f0(t){const e=t.mapValue.fields[hD];return CN(e)?f0(e):e}function jh(t){const e=Tl(t.mapValue.fields[mD].timestampValue);return new on(e.seconds,e.nanos)}class eW{constructor(e,n,r,i,o,c,u,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const Zg="(default)";class Nh{constructor(e,n){this.projectId=e,this.database=n||Zg}static empty(){return new Nh("","")}get isDefaultDatabase(){return this.database===Zg}isEqual(e){return e instanceof Nh&&e.projectId===this.projectId&&e.database===this.database}}const pD="__type__",tW="__max__",Wp={mapValue:{}},gD="__vector__",ey="value";function kl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?CN(t)?4:rW(t)?9007199254740991:nW(t)?10:11:nt(28295,{value:t})}function ms(t,e){if(t===e)return!0;const n=kl(t);if(n!==kl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jh(t).isEqual(jh(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const c=Tl(i.timestampValue),u=Tl(o.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Cl(i.bytesValue).isEqual(Cl(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Cn(i.geoPointValue.latitude)===Cn(o.geoPointValue.latitude)&&Cn(i.geoPointValue.longitude)===Cn(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Cn(i.integerValue)===Cn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const c=Cn(i.doubleValue),u=Cn(o.doubleValue);return c===u?Jg(c)===Jg(u):isNaN(c)&&isNaN(u)}return!1})(t,e);case 9:return fd(t.arrayValue.values||[],e.arrayValue.values||[],ms);case 10:case 11:return(function(i,o){const c=i.mapValue.fields||{},u=o.mapValue.fields||{};if(VC(c)!==VC(u))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(u[f]===void 0||!ms(c[f],u[f])))return!1;return!0})(t,e);default:return nt(52216,{left:t})}}function _h(t,e){return(t.values||[]).find((n=>ms(n,e)))!==void 0}function hd(t,e){if(t===e)return 0;const n=kl(t),r=kl(e);if(n!==r)return yt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return yt(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const u=Cn(o.integerValue||o.doubleValue),f=Cn(c.integerValue||c.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return FC(t.timestampValue,e.timestampValue);case 4:return FC(jh(t),jh(e));case 5:return P1(t.stringValue,e.stringValue);case 6:return(function(o,c){const u=Cl(o),f=Cl(c);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const u=o.split("/"),f=c.split("/");for(let h=0;h<u.length&&h<f.length;h++){const p=yt(u[h],f[h]);if(p!==0)return p}return yt(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const u=yt(Cn(o.latitude),Cn(c.latitude));return u!==0?u:yt(Cn(o.longitude),Cn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return $C(t.arrayValue,e.arrayValue);case 10:return(function(o,c){const u=o.fields||{},f=c.fields||{},h=u[ey]?.arrayValue,p=f[ey]?.arrayValue,g=yt(h?.values?.length||0,p?.values?.length||0);return g!==0?g:$C(h,p)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Wp.mapValue&&c===Wp.mapValue)return 0;if(o===Wp.mapValue)return 1;if(c===Wp.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),h=c.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const x=P1(f[g],p[g]);if(x!==0)return x;const b=hd(u[f[g]],h[p[g]]);if(b!==0)return b}return yt(f.length,p.length)})(t.mapValue,e.mapValue);default:throw nt(23264,{he:n})}}function FC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return yt(t,e);const n=Tl(t),r=Tl(e),i=yt(n.seconds,r.seconds);return i!==0?i:yt(n.nanos,r.nanos)}function $C(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=hd(n[i],r[i]);if(o)return o}return yt(n.length,r.length)}function md(t){return D1(t)}function D1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Tl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Cl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=D1(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const c of r)o?o=!1:i+=",",i+=`${c}:${D1(n.fields[c])}`;return i+"}"})(t.mapValue):nt(61005,{value:t})}function Sg(t){switch(kl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=f0(t);return e?16+Sg(e):16;case 5:return 2*t.stringValue.length;case 6:return Cl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Sg(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Cd(r.fields,((o,c)=>{i+=o.length+Sg(c)})),i})(t.mapValue);default:throw nt(13486,{value:t})}}function qC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function M1(t){return!!t&&"integerValue"in t}function kN(t){return!!t&&"arrayValue"in t}function HC(t){return!!t&&"nullValue"in t}function GC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jb(t){return!!t&&"mapValue"in t}function nW(t){return(t?.mapValue?.fields||{})[pD]?.stringValue===gD}function ch(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Cd(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ch(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ch(t.arrayValue.values[n]);return e}return{...t}}function rW(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===tW}class Za{constructor(e){this.value=e}static empty(){return new Za({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jb(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ch(n)}setAll(e){let n=Pr.emptyPath(),r={},i=[];e.forEach(((c,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}c?r[u.lastSegment()]=ch(c):i.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());jb(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ms(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Cd(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Za(ch(this.value))}}class Or{constructor(e,n,r,i,o,c,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=c,this.documentState=u}static newInvalidDocument(e){return new Or(e,0,tt.min(),tt.min(),tt.min(),Za.empty(),0)}static newFoundDocument(e,n,r,i){return new Or(e,1,n,tt.min(),r,i,0)}static newNoDocument(e,n){return new Or(e,2,n,tt.min(),tt.min(),Za.empty(),0)}static newUnknownDocument(e,n){return new Or(e,3,n,tt.min(),tt.min(),Za.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Za.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Za.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ty{constructor(e,n){this.position=e,this.inclusive=n}}function KC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],c=t.position[i];if(o.field.isKeyField()?r=Ye.comparator(Ye.fromName(c.referenceValue),n.key):r=hd(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function WC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ms(t.position[n],e.position[n]))return!1;return!0}class ny{constructor(e,n="asc"){this.field=e,this.dir=n}}function iW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class yD{}class Fn extends yD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sW(e,n,r):n==="array-contains"?new cW(e,r):n==="in"?new uW(e,r):n==="not-in"?new dW(e,r):n==="array-contains-any"?new fW(e,r):new Fn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new oW(e,r):new lW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(hd(n,this.value)):n!==null&&kl(this.value)===kl(n)&&this.matchesComparison(hd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Da extends yD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Da(e,n)}matches(e){return xD(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xD(t){return t.op==="and"}function vD(t){return aW(t)&&xD(t)}function aW(t){for(const e of t.filters)if(e instanceof Da)return!1;return!0}function L1(t){if(t instanceof Fn)return t.field.canonicalString()+t.op.toString()+md(t.value);if(vD(t))return t.filters.map((e=>L1(e))).join(",");{const e=t.filters.map((n=>L1(n))).join(",");return`${t.op}(${e})`}}function bD(t,e){return t instanceof Fn?(function(r,i){return i instanceof Fn&&r.op===i.op&&r.field.isEqual(i.field)&&ms(r.value,i.value)})(t,e):t instanceof Da?(function(r,i){return i instanceof Da&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,c,u)=>o&&bD(c,i.filters[u])),!0):!1})(t,e):void nt(19439)}function wD(t){return t instanceof Fn?(function(n){return`${n.field.canonicalString()} ${n.op} ${md(n.value)}`})(t):t instanceof Da?(function(n){return n.op.toString()+" {"+n.getFilters().map(wD).join(" ,")+"}"})(t):"Filter"}class sW extends Fn{constructor(e,n,r){super(e,n,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const n=Ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class oW extends Fn{constructor(e,n){super(e,"in",n),this.keys=jD("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class lW extends Fn{constructor(e,n){super(e,"not-in",n),this.keys=jD("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function jD(t,e){return(e.arrayValue?.values||[]).map((n=>Ye.fromName(n.referenceValue)))}class cW extends Fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kN(n)&&_h(n.arrayValue,this.value)}}class uW extends Fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_h(this.value.arrayValue,n)}}class dW extends Fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(_h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_h(this.value.arrayValue,n)}}class fW extends Fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kN(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>_h(this.value.arrayValue,r)))}}class hW{constructor(e,n=null,r=[],i=[],o=null,c=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=u,this.Te=null}}function YC(t,e=null,n=[],r=[],i=null,o=null,c=null){return new hW(t,e,n,r,i,o,c)}function IN(t){const e=bt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>L1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),d0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>md(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>md(r))).join(",")),e.Te=n}return e.Te}function ON(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WC(t.startAt,e.startAt)&&WC(t.endAt,e.endAt)}function z1(t){return Ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class em{constructor(e,n=null,r=[],i=[],o=null,c="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mW(t,e,n,r,i,o,c,u){return new em(t,e,n,r,i,o,c,u)}function RN(t){return new em(t)}function QC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ND(t){return t.collectionGroup!==null}function uh(t){const e=bt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new Yn(Pr.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new ny(o,r))})),n.has(Pr.keyField().canonicalString())||e.Ie.push(new ny(Pr.keyField(),r))}return e.Ie}function ls(t){const e=bt(t);return e.Ee||(e.Ee=pW(e,uh(t))),e.Ee}function pW(t,e){if(t.limitType==="F")return YC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new ny(i.field,o)}));const n=t.endAt?new ty(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ty(t.startAt.position,t.startAt.inclusive):null;return YC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function U1(t,e){const n=t.filters.concat([e]);return new em(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function V1(t,e,n){return new em(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function h0(t,e){return ON(ls(t),ls(e))&&t.limitType===e.limitType}function _D(t){return`${IN(ls(t))}|lt:${t.limitType}`}function zu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>wD(i))).join(", ")}]`),d0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>md(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>md(i))).join(",")),`Target(${r})`})(ls(t))}; limitType=${t.limitType})`}function m0(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ye.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of uh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(c,u,f){const h=KC(c,u,f);return c.inclusive?h<=0:h<0})(r.startAt,uh(r),i)||r.endAt&&!(function(c,u,f){const h=KC(c,u,f);return c.inclusive?h>=0:h>0})(r.endAt,uh(r),i))})(t,e)}function gW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SD(t){return(e,n)=>{let r=!1;for(const i of uh(t)){const o=yW(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function yW(t,e,n){const r=t.field.isKeyField()?Ye.comparator(e.key,n.key):(function(o,c,u){const f=c.data.field(o),h=u.data.field(o);return f!==null&&h!==null?hd(f,h):nt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return nt(19790,{direction:t.dir})}}class Hc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cd(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return cD(this.inner)}size(){return this.innerSize}}const xW=new On(Ye.comparator);function Il(){return xW}const ED=new On(Ye.comparator);function Zf(...t){let e=ED;for(const n of t)e=e.insert(n.key,n);return e}function vW(t){let e=ED;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function yc(){return dh()}function AD(){return dh()}function dh(){return new Hc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const bW=new Yn(Ye.comparator);function wt(...t){let e=bW;for(const n of t)e=e.add(n);return e}const wW=new Yn(yt);function jW(){return wW}function PN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jg(e)?"-0":e}}function TD(t){return{integerValue:""+t}}function NW(t,e){return QK(e)?TD(e):PN(t,e)}class p0{constructor(){this._=void 0}}function _W(t,e,n){return t instanceof B1?(function(i,o){const c={fields:{[fD]:{stringValue:dD},[mD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&CN(o)&&(o=f0(o)),o&&(c.fields[hD]=o),{mapValue:c}})(n,e):t instanceof ry?CD(t,e):t instanceof iy?kD(t,e):(function(i,o){const c=EW(i,o),u=XC(c)+XC(i.Ae);return M1(c)&&M1(i.Ae)?TD(u):PN(i.serializer,u)})(t,e)}function SW(t,e,n){return t instanceof ry?CD(t,e):t instanceof iy?kD(t,e):n}function EW(t,e){return t instanceof F1?(function(r){return M1(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class B1 extends p0{}class ry extends p0{constructor(e){super(),this.elements=e}}function CD(t,e){const n=ID(e);for(const r of t.elements)n.some((i=>ms(i,r)))||n.push(r);return{arrayValue:{values:n}}}class iy extends p0{constructor(e){super(),this.elements=e}}function kD(t,e){let n=ID(e);for(const r of t.elements)n=n.filter((i=>!ms(i,r)));return{arrayValue:{values:n}}}class F1 extends p0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function XC(t){return Cn(t.integerValue||t.doubleValue)}function ID(t){return kN(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function AW(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof ry&&i instanceof ry||r instanceof iy&&i instanceof iy?fd(r.elements,i.elements,ms):r instanceof F1&&i instanceof F1?ms(r.Ae,i.Ae):r instanceof B1&&i instanceof B1})(t.transform,e.transform)}class jc{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jc}static exists(e){return new jc(void 0,e)}static updateTime(e){return new jc(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class DN{}function OD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new CW(t.key,jc.none()):new MN(t.key,t.data,jc.none());{const n=t.data,r=Za.empty();let i=new Yn(Pr.comparator);for(let o of e.fields)if(!i.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),i=i.add(o)}return new g0(t.key,r,new yl(i.toArray()),jc.none())}}function TW(t,e,n){t instanceof MN?(function(i,o,c){const u=i.value.clone(),f=ZC(i.fieldTransforms,o,c.transformResults);u.setAll(f),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(t,e,n):t instanceof g0?(function(i,o,c){if(!Eg(i.precondition,o))return void o.convertToUnknownDocument(c.version);const u=ZC(i.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(RD(i)),f.setAll(u),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(i,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function fh(t,e,n,r){return t instanceof MN?(function(o,c,u,f){if(!Eg(o.precondition,c))return u;const h=o.value.clone(),p=ek(o.fieldTransforms,f,c);return h.setAll(p),c.convertToFoundDocument(c.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof g0?(function(o,c,u,f){if(!Eg(o.precondition,c))return u;const h=ek(o.fieldTransforms,f,c),p=c.data;return p.setAll(RD(o)),p.setAll(h),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(o,c,u){return Eg(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u})(t,e,n)}function JC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fd(r,i,((o,c)=>AW(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class MN extends DN{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class g0 extends DN{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function RD(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function ZC(t,e,n){const r=new Map;hn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],c=o.transform,u=e.data.field(o.field);r.set(o.field,SW(c,u,n[i]))}return r}function ek(t,e,n){const r=new Map;for(const i of t){const o=i.transform,c=n.data.field(i.field);r.set(i.field,_W(o,c,e))}return r}class CW extends DN{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kW{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&TW(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AD();return this.mutations.forEach((i=>{const o=e.get(i.key),c=o.overlayedDocument;let u=this.applyToLocalView(c,o.mutatedFields);u=n.has(i.key)?null:u;const f=OD(c,u);f!==null&&r.set(i.key,f),c.isValidDocument()||c.convertToNoDocument(tt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),wt())}isEqual(e){return this.batchId===e.batchId&&fd(this.mutations,e.mutations,((n,r)=>JC(n,r)))&&fd(this.baseMutations,e.baseMutations,((n,r)=>JC(n,r)))}}class IW{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class OW{constructor(e,n){this.count=e,this.unchangedNames=n}}var Vn,vt;function PD(t){if(t===void 0)return so("GRPC error has no .code"),Ce.UNKNOWN;switch(t){case Vn.OK:return Ce.OK;case Vn.CANCELLED:return Ce.CANCELLED;case Vn.UNKNOWN:return Ce.UNKNOWN;case Vn.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case Vn.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case Vn.INTERNAL:return Ce.INTERNAL;case Vn.UNAVAILABLE:return Ce.UNAVAILABLE;case Vn.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case Vn.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case Vn.NOT_FOUND:return Ce.NOT_FOUND;case Vn.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case Vn.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case Vn.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case Vn.ABORTED:return Ce.ABORTED;case Vn.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case Vn.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case Vn.DATA_LOSS:return Ce.DATA_LOSS;default:return nt(39323,{code:t})}}(vt=Vn||(Vn={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";function RW(){return new TextEncoder}const PW=new jl([4294967295,4294967295],0);function tk(t){const e=RW().encode(t),n=new J6;return n.update(e),new Uint8Array(n.digest())}function nk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new jl([n,r],0),new jl([i,o],0)]}class LN{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new eh(`Invalid padding: ${n}`);if(r<0)throw new eh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new eh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=jl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(jl.fromNumber(r)));return i.compare(PW)===1&&(i=new jl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=tk(e),[r,i]=nk(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,i,o);if(!this.we(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new LN(o,i,n);return r.forEach((u=>c.insert(u))),c}insert(e){if(this.ge===0)return;const n=tk(e),[r,i]=nk(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,i,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class eh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class y0{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,tm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new y0(tt.min(),i,new On(yt),Il(),wt())}}class tm{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new tm(r,n,wt(),wt(),wt())}}class Ag{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class DD{constructor(e,n){this.targetId=e,this.Ce=n}}class MD{constructor(e,n,r=Sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rk{constructor(){this.ve=0,this.Fe=ik(),this.Me=Sr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=wt(),n=wt(),r=wt();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:nt(38017,{changeType:o})}})),new tm(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ik()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,hn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class DW{constructor(e){this.Ge=e,this.ze=new Map,this.je=Il(),this.Je=Yp(),this.He=Yp(),this.Ye=new On(yt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:nt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(z1(o))if(r===0){const c=new Ye(o.path);this.et(n,c,Or.newNoDocument(c,tt.min()))}else hn(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const u=this.ut(e),f=u?this.ct(u,e,c):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let c,u;try{c=Cl(r).toUint8Array()}catch(f){if(f instanceof uD)return dd("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new LN(c,i,o)}catch(f){return dd(f instanceof eh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const c=this.Ge.ht(),u=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const u=this.ot(c);if(u){if(o.current&&z1(u.target)){const f=new Ye(u.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,Or.newNoDocument(f,e))}o.Be&&(n.set(c,o.ke()),o.qe())}}));let r=wt();this.He.forEach(((o,c)=>{let u=!0;c.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const i=new y0(e,n,this.Ye,this.je,r);return this.je=Il(),this.Je=Yp(),this.He=Yp(),this.Ye=new On(yt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new rk,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Yn(yt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Yn(yt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Be("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rk),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Yp(){return new On(Ye.comparator)}function ik(){return new On(Ye.comparator)}const MW={asc:"ASCENDING",desc:"DESCENDING"},LW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zW={and:"AND",or:"OR"};class UW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $1(t,e){return t.useProto3Json||d0(e)?e:{value:e}}function q1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function td(t){return hn(!!t,49232),tt.fromTimestamp((function(n){const r=Tl(n);return new on(r.seconds,r.nanos)})(t))}function zD(t,e){return H1(t,e).canonicalString()}function H1(t,e){const n=(function(i){return new Ht(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function UD(t){const e=Ht.fromString(t);return hn(qD(e),10190,{key:e.toString()}),e}function Nb(t,e){const n=UD(e);if(n.get(1)!==t.databaseId.projectId)throw new Ue(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ue(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ye(BD(n))}function VD(t,e){return zD(t.databaseId,e)}function VW(t){const e=UD(t);return e.length===4?Ht.emptyPath():BD(e)}function ak(t){return new Ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BD(t){return hn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function BW(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:nt(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(h,p){return h.useProto3Json?(hn(p===void 0||typeof p=="string",58123),Sr.fromBase64String(p||"")):(hn(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Sr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&(function(h){const p=h.code===void 0?Ce.UNKNOWN:PD(h.code);return new Ue(p,h.message||"")})(c);n=new MD(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Nb(t,r.document.name),o=td(r.document.updateTime),c=r.document.createTime?td(r.document.createTime):tt.min(),u=new Za({mapValue:{fields:r.document.fields}}),f=Or.newFoundDocument(i,o,c,u),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Ag(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Nb(t,r.document),o=r.readTime?td(r.readTime):tt.min(),c=Or.newNoDocument(i,o),u=r.removedTargetIds||[];n=new Ag([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Nb(t,r.document),o=r.removedTargetIds||[];n=new Ag([],o,i,null)}else{if(!("filter"in e))return nt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,c=new OW(i,o),u=r.targetId;n=new DD(u,c)}}return n}function FW(t,e){return{documents:[VD(t,e.path)]}}function $W(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VD(t,i);const o=(function(h){if(h.length!==0)return $D(Da.create(h,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(h){if(h.length!==0)return h.map((p=>(function(x){return{field:Uu(x.field),direction:GW(x.dir)}})(p)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const u=$1(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function qW(t){let e=VW(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){hn(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=(function(g){const x=FD(g);return x instanceof Da&&vD(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(g){return g.map((x=>(function(_){return new ny(Vu(_.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(x)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let x;return x=typeof g=="object"?g.value:g,d0(x)?null:x})(n.limit));let f=null;n.startAt&&(f=(function(g){const x=!!g.before,b=g.values||[];return new ty(b,x)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const x=!g.before,b=g.values||[];return new ty(b,x)})(n.endAt)),mW(e,i,c,o,u,"F",f,h)}function HW(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FD(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vu(n.unaryFilter.field);return Fn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vu(n.unaryFilter.field);return Fn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Vu(n.unaryFilter.field);return Fn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vu(n.unaryFilter.field);return Fn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return nt(61313);default:return nt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Fn.create(Vu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return nt(58110);default:return nt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Da.create(n.compositeFilter.filters.map((r=>FD(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return nt(1026)}})(n.compositeFilter.op))})(t):nt(30097,{filter:t})}function GW(t){return MW[t]}function KW(t){return LW[t]}function WW(t){return zW[t]}function Uu(t){return{fieldPath:t.canonicalString()}}function Vu(t){return Pr.fromServerFormat(t.fieldPath)}function $D(t){return t instanceof Fn?(function(n){if(n.op==="=="){if(GC(n.value))return{unaryFilter:{field:Uu(n.field),op:"IS_NAN"}};if(HC(n.value))return{unaryFilter:{field:Uu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(GC(n.value))return{unaryFilter:{field:Uu(n.field),op:"IS_NOT_NAN"}};if(HC(n.value))return{unaryFilter:{field:Uu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uu(n.field),op:KW(n.op),value:n.value}}})(t):t instanceof Da?(function(n){const r=n.getFilters().map((i=>$D(i)));return r.length===1?r[0]:{compositeFilter:{op:WW(n.op),filters:r}}})(t):nt(54877,{filter:t})}function qD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class xl{constructor(e,n,r,i,o=tt.min(),c=tt.min(),u=Sr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new xl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class YW{constructor(e){this.yt=e}}function QW(t){const e=qW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?V1(e,e.limit,"L"):e}class XW{constructor(){this.Cn=new JW}addToCollectionParentIndex(e,n){return this.Cn.add(n),Se.resolve()}getCollectionParents(e,n){return Se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Se.resolve()}deleteFieldIndex(e,n){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,n){return Se.resolve()}getDocumentsMatchingTarget(e,n){return Se.resolve(null)}getIndexType(e,n){return Se.resolve(0)}getFieldIndexes(e,n){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,n){return Se.resolve(Al.min())}getMinOffsetFromCollectionGroup(e,n){return Se.resolve(Al.min())}updateCollectionGroup(e,n,r){return Se.resolve()}updateIndexEntries(e,n){return Se.resolve()}}class JW{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Yn(Ht.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Yn(Ht.comparator)).toArray()}}const sk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HD=41943040;class di{static withCacheSize(e){return new di(e,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}di.DEFAULT_COLLECTION_PERCENTILE=10,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,di.DEFAULT=new di(HD,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),di.DISABLED=new di(-1,0,0);class pd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new pd(0)}static cr(){return new pd(-1)}}const ok="LruGarbageCollector",ZW=1048576;function lk([t,e],[n,r]){const i=yt(t,n);return i===0?yt(e,r):i}class eY{constructor(e){this.Ir=e,this.buffer=new Yn(lk),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();lk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tY{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Be(ok,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Td(n)?Be(ok,"Ignoring IndexedDB error during garbage collection: ",n):await c0(n)}await this.Vr(3e5)}))}}class nY{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Se.resolve(u0.ce);const r=new eY(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(sk)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sk):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,c,u,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,c=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(o=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),Lu()<=pt.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${i} in `+(u-c)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g}))))}}function rY(t,e){return new nY(t,e)}class iY{constructor(){this.changes=new Hc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Or.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class aY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class sY{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&fh(r.mutation,i,yl.empty(),on.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,wt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=wt()){const i=yc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let c=Zf();return o.forEach(((u,f)=>{c=c.insert(u,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=yc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,wt())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((c,u)=>{n.set(c,u)}))}))}computeViews(e,n,r,i){let o=Il();const c=dh(),u=(function(){return dh()})();return n.forEach(((f,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof g0)?o=o.insert(h.key,h):p!==void 0?(c.set(h.key,p.mutation.getFieldMask()),fh(p.mutation,h,p.mutation.getFieldMask(),on.now())):c.set(h.key,yl.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((h,p)=>c.set(h,p))),n.forEach(((h,p)=>u.set(h,new aY(p,c.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=dh();let i=new On(((c,u)=>c-u)),o=wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const u of c)u.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||yl.empty();p=u.applyToLocalView(h,p),r.set(f,p);const g=(i.get(u.batchId)||wt()).add(f);i=i.insert(u.batchId,g)}))})).next((()=>{const c=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),h=f.key,p=f.value,g=AD();p.forEach((x=>{if(!o.has(x)){const b=OD(n.get(x),r.get(x));b!==null&&g.set(x,b),o=o.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Se.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(c){return Ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ND(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Se.resolve(yc());let u=wh,f=o;return c.next((h=>Se.forEach(h,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),o.get(p)?Se.resolve():this.remoteDocumentCache.getEntry(e,p).next((x=>{f=f.insert(p,x)}))))).next((()=>this.populateOverlays(e,h,o))).next((()=>this.computeViews(e,f,h,wt()))).next((p=>({batchId:u,changes:vW(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ye(n)).next((r=>{let i=Zf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let c=Zf();return this.indexManager.getCollectionParents(e,o).next((u=>Se.forEach(u,(f=>{const h=(function(g,x){return new em(x,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((g,x)=>{c=c.insert(g,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((c=>{o.forEach(((f,h)=>{const p=h.getKey();c.get(p)===null&&(c=c.insert(p,Or.newInvalidDocument(p)))}));let u=Zf();return c.forEach(((f,h)=>{const p=o.get(f);p!==void 0&&fh(p.mutation,h,yl.empty(),on.now()),m0(n,h)&&(u=u.insert(f,h))})),u}))}}class oY{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:td(i.createTime)}})(n)),Se.resolve()}getNamedQuery(e,n){return Se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:QW(i.bundledQuery),readTime:td(i.readTime)}})(n)),Se.resolve()}}class lY{constructor(){this.overlays=new On(Ye.comparator),this.qr=new Map}getOverlay(e,n){return Se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yc();return Se.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),Se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Se.resolve()}getOverlaysForCollection(e,n,r){const i=yc(),o=n.length+1,c=new Ye(n.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const f=u.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new On(((h,p)=>h-p));const c=this.overlays.getIterator();for(;c.hasNext();){const h=c.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=o.get(h.largestBatchId);p===null&&(p=yc(),o=o.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=yc(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=i)););return Se.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new IW(n,r));let o=this.qr.get(n);o===void 0&&(o=wt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}class cY{constructor(){this.sessionToken=Sr.EMPTY_BYTE_STRING}getSessionToken(e){return Se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Se.resolve()}}class zN{constructor(){this.Qr=new Yn(lr.$r),this.Ur=new Yn(lr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new lr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new lr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ye(new Ht([])),r=new lr(n,e),i=new lr(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ye(new Ht([])),r=new lr(n,e),i=new lr(n,e+1);let o=wt();return this.Ur.forEachInRange([r,i],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new lr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class lr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ye.comparator(e.key,n.key)||yt(e.Yr,n.Yr)}static Kr(e,n){return yt(e.Yr,n.Yr)||Ye.comparator(e.key,n.key)}}class uY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Yn(lr.$r)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new kW(o,n,r,i);this.mutationQueue.push(c);for(const u of i)this.Zr=this.Zr.add(new lr(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Se.resolve(c)}lookupMutationBatch(e,n){return Se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return Se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?YK:this.tr-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new lr(n,0),i=new lr(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(c=>{const u=this.Xr(c.Yr);o.push(u)})),Se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yn(yt);return n.forEach((i=>{const o=new lr(i,0),c=new lr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(u=>{r=r.add(u.Yr)}))})),Se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ye.isDocumentKey(o)||(o=o.child(""));const c=new lr(new Ye(o),0);let u=new Yn(yt);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(f.Yr)),!0)}),c),Se.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){hn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Se.forEach(n.mutations,(i=>{const o=new lr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new lr(n,0),i=this.Zr.firstAfterOrEqual(r);return Se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class dY{constructor(e){this.ri=e,this.docs=(function(){return new On(Ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Se.resolve(r?r.document.mutableCopy():Or.newInvalidDocument(n))}getEntries(e,n){let r=Il();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Or.newInvalidDocument(i))})),Se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Il();const c=n.path,u=new Ye(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!c.isPrefixOf(h.path))break;h.path.length>c.length+1||HK(qK(p),r)<=0||(i.has(p.key)||m0(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return Se.resolve(o)}getAllFromCollectionGroup(e,n,r,i){nt(9500)}ii(e,n){return Se.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new fY(this)}getSize(e){return Se.resolve(this.size)}}class fY extends iY{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class hY{constructor(e){this.persistence=e,this.si=new Hc((n=>IN(n)),ON),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.oi=0,this._i=new zN,this.targetCount=0,this.ai=pd.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new pd(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Se.resolve()}updateTargetData(e,n){return this.Pr(n),Se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((c,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Se.waitFor(o).next((()=>i))}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Se.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Se.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((c=>{o.push(i.markPotentiallyOrphaned(e,c))})),Se.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Se.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Se.resolve(r)}containsKey(e,n){return Se.resolve(this._i.containsKey(n))}}class GD{constructor(e,n){this.ui={},this.overlays={},this.ci=new u0(0),this.li=!1,this.li=!0,this.hi=new cY,this.referenceDelegate=e(this),this.Pi=new hY(this),this.indexManager=new XW,this.remoteDocumentCache=(function(i){return new dY(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new YW(n),this.Ii=new oY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new uY(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Be("MemoryPersistence","Starting transaction:",e);const i=new mY(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return Se.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class mY extends KK{constructor(e){super(),this.currentSequenceNumber=e}}class UN{constructor(e){this.persistence=e,this.Ri=new zN,this.Vi=null}static mi(e){return new UN(e)}get fi(){if(this.Vi)return this.Vi;throw nt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Se.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.fi,(r=>{const i=Ye.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,tt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Se.or([()=>Se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ay{constructor(e,n){this.persistence=e,this.pi=new Hc((r=>XK(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=rY(this,n)}static mi(e,n){return new ay(e,n)}Ei(){}di(e){return Se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Se.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?Se.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(c=>this.br(e,c,n).next((u=>{u||(r++,o.removeEntry(c,tt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Se.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sg(e.data.value)),n}br(e,n,r){return Se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Se.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class VN{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=wt(),i=wt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new VN(e,n.fromCache,r,i)}}class pY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class gY{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return X$()?8:WK(Mr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new pY;return this.Ss(e,n,c).next((u=>{if(o.result=u,this.Vs)return this.bs(e,n,c,u.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Lu()<=pt.DEBUG&&Be("QueryEngine","SDK will not create cache indexes for query:",zu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Se.resolve()):(Lu()<=pt.DEBUG&&Be("QueryEngine","Query:",zu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Lu()<=pt.DEBUG&&Be("QueryEngine","The SDK decides to create cache indexes for query:",zu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ls(n))):Se.resolve())}ys(e,n){if(QC(n))return Se.resolve(null);let r=ls(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=V1(n,null,"F"),r=ls(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=wt(...o);return this.ps.getDocuments(e,c).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,u);return this.Cs(n,h,c,f.readTime)?this.ys(e,V1(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,i){return QC(n)||i.isEqual(tt.min())?Se.resolve(null):this.ps.getDocuments(e,r).next((o=>{const c=this.Ds(n,o);return this.Cs(n,c,r,i)?Se.resolve(null):(Lu()<=pt.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zu(n)),this.vs(e,c,n,$K(i,wh)).next((u=>u)))}))}Ds(e,n){let r=new Yn(SD(e));return n.forEach(((i,o)=>{m0(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Lu()<=pt.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",zu(n)),this.ps.getDocumentsMatchingQuery(e,n,Al.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const BN="LocalStore",yY=3e8;class xY{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new On(yt),this.xs=new Hc((o=>IN(o)),ON),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sY(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function vY(t,e,n,r){return new xY(t,e,n,r)}async function KD(t,e){const n=bt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],u=[];let f=wt();for(const h of i){c.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of o){u.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:c,addedBatchIds:u})))}))}))}function WD(t){const e=bt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function bY(t,e){const n=bt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((p,g)=>{const x=i.get(g);if(!x)return;u.push(n.Pi.removeMatchingKeys(o,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(o,p.addedDocuments,g))));let b=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(Sr.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,r)),i=i.insert(g,b),(function(S,N,T){return S.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=yY?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0})(x,b,p)&&u.push(n.Pi.updateTargetData(o,b))}));let f=Il(),h=wt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))})),u.push(wY(o,c,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!r.isEqual(tt.min())){const p=n.Pi.getLastRemoteSnapshotVersion(o).next((g=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(p)}return Se.waitFor(u).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,f,h))).next((()=>f))})).then((o=>(n.Ms=i,o)))}function wY(t,e,n){let r=wt(),i=wt();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let c=Il();return n.forEach(((u,f)=>{const h=o.get(u);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(tt.min())?(e.removeEntry(u,f.readTime),c=c.insert(u,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),c=c.insert(u,f)):Be(BN,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",f.version)})),{ks:c,qs:i}}))}function jY(t,e){const n=bt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,Se.resolve(i)):n.Pi.allocateTargetId(r).next((c=>(i=new xl(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function G1(t,e,n){const r=bt(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Td(c))throw c;Be(BN,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function ck(t,e,n){const r=bt(t);let i=tt.min(),o=wt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,h,p){const g=bt(f),x=g.xs.get(p);return x!==void 0?Se.resolve(g.Ms.get(x)):g.Pi.getTargetData(h,p)})(r,c,ls(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,u.targetId).next((f=>{o=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?i:tt.min(),n?o:wt()))).next((u=>(NY(r,gW(e),u),{documents:u,Qs:o})))))}function NY(t,e,n){let r=t.Os.get(e)||tt.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class uk{constructor(){this.activeTargetIds=jW()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _Y{constructor(){this.Mo=new uk,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new uk,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class SY{Oo(e){}shutdown(){}}const dk="ConnectivityMonitor";class fk{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Be(dk,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Be(dk,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qp=null;function K1(){return Qp===null?Qp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qp++,"0x"+Qp.toString(16)}const _b="RestConnection",EY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AY{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Zg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const c=K1(),u=this.zo(e,n.toUriEncodedString());Be(_b,`Sending RPC '${e}' ${c}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,o);const{host:h}=new URL(u),p=Ml(h);return this.Jo(e,u,f,r,p).then((g=>(Be(_b,`Received RPC '${e}' ${c}: `,g),g)),(g=>{throw dd(_b,`RPC '${e}' ${c} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,i,o,c){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ad})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=EY[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class TY{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Cr="WebChannelConnection";class CY extends AY{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const c=K1();return new Promise(((u,f)=>{const h=new Z6;h.setWithCredentials(!0),h.listenOnce(eD.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case _g.NO_ERROR:const g=h.getResponseJson();Be(Cr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(g)),u(g);break;case _g.TIMEOUT:Be(Cr,`RPC '${e}' ${c} timed out`),f(new Ue(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case _g.HTTP_ERROR:const x=h.getStatus();if(Be(Cr,`RPC '${e}' ${c} failed with status:`,x,"response text:",h.getResponseText()),x>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const _=b?.error;if(_&&_.status&&_.message){const S=(function(T){const O=T.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(O)>=0?O:Ce.UNKNOWN})(_.status);f(new Ue(S,_.message))}else f(new Ue(Ce.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Ue(Ce.UNAVAILABLE,"Connection failed."));break;default:nt(9055,{l_:e,streamId:c,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Be(Cr,`RPC '${e}' ${c} completed.`)}}));const p=JSON.stringify(i);Be(Cr,`RPC '${e}' ${c} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=K1(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=rD(),u=nD(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=o.join("");Be(Cr,`Creating RPC '${e}' stream ${i}: ${p}`,f);const g=c.createWebChannel(p,f);this.I_(g);let x=!1,b=!1;const _=new TY({Yo:N=>{b?Be(Cr,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(x||(Be(Cr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),x=!0),Be(Cr,`RPC '${e}' stream ${i} sending:`,N),g.send(N))},Zo:()=>g.close()}),S=(N,T,O)=>{N.listen(T,(C=>{try{O(C)}catch(M){setTimeout((()=>{throw M}),0)}}))};return S(g,Jf.EventType.OPEN,(()=>{b||(Be(Cr,`RPC '${e}' stream ${i} transport opened.`),_.o_())})),S(g,Jf.EventType.CLOSE,(()=>{b||(b=!0,Be(Cr,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(g))})),S(g,Jf.EventType.ERROR,(N=>{b||(b=!0,dd(Cr,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),_.a_(new Ue(Ce.UNAVAILABLE,"The operation could not be completed")))})),S(g,Jf.EventType.MESSAGE,(N=>{if(!b){const T=N.data[0];hn(!!T,16349);const O=T,C=O?.error||O[0]?.error;if(C){Be(Cr,`RPC '${e}' stream ${i} received error:`,C);const M=C.status;let R=(function(I){const D=Vn[I];if(D!==void 0)return PD(D)})(M),F=C.message;R===void 0&&(R=Ce.INTERNAL,F="Unknown error status: "+M+" with message "+C.message),b=!0,_.a_(new Ue(R,F)),g.close()}else Be(Cr,`RPC '${e}' stream ${i} received:`,T),_.u_(T)}})),S(u,tD.STAT_EVENT,(N=>{N.stat===R1.PROXY?Be(Cr,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===R1.NOPROXY&&Be(Cr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Sb(){return typeof document<"u"?document:null}function x0(t){return new UW(t,!0)}class YD{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const hk="PersistentStream";class kY{constructor(e,n,r,i,o,c,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ce.RESOURCE_EXHAUSTED?(so(n.toString()),so("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ue(Ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Be(hk,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Be(hk,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IY extends kY{constructor(e,n,r,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=BW(this.serializer,e),r=(function(o){if(!("targetChange"in o))return tt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?tt.min():c.readTime?td(c.readTime):tt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ak(this.serializer),n.addTarget=(function(o,c){let u;const f=c.target;if(u=z1(f)?{documents:FW(o,f)}:{query:$W(o,f).ft},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=LD(o,c.resumeToken);const h=$1(o,c.expectedCount);h!==null&&(u.expectedCount=h)}else if(c.snapshotVersion.compareTo(tt.min())>0){u.readTime=q1(o,c.snapshotVersion.toTimestamp());const h=$1(o,c.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const r=HW(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ak(this.serializer),n.removeTarget=e,this.q_(n)}}class OY{}class RY extends OY{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ue(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,H1(n,r),i,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ue(Ce.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Ho(e,H1(n,r),i,c,u,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ue(Ce.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class PY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(so(n),this.aa=!1):Be("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const gd="RemoteStore";class DY{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{rm(this)&&(Be(gd,"Restarting streams for network reachability change."),await(async function(f){const h=bt(f);h.Ea.add(4),await nm(h),h.Ra.set("Unknown"),h.Ea.delete(4),await v0(h)})(this))}))})),this.Ra=new PY(r,i)}}async function v0(t){if(rm(t))for(const e of t.da)await e(!0)}async function nm(t){for(const e of t.da)await e(!1)}function QD(t,e){const n=bt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),HN(n)?qN(n):kd(n).O_()&&$N(n,e))}function FN(t,e){const n=bt(t),r=kd(n);n.Ia.delete(e),r.O_()&&XD(n,e),n.Ia.size===0&&(r.O_()?r.L_():rm(n)&&n.Ra.set("Unknown"))}function $N(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kd(t).Y_(e)}function XD(t,e){t.Va.Ue(e),kd(t).Z_(e)}function qN(t){t.Va=new DW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),kd(t).start(),t.Ra.ua()}function HN(t){return rm(t)&&!kd(t).x_()&&t.Ia.size>0}function rm(t){return bt(t).Ea.size===0}function JD(t){t.Va=void 0}async function MY(t){t.Ra.set("Online")}async function LY(t){t.Ia.forEach(((e,n)=>{$N(t,e)}))}async function zY(t,e){JD(t),HN(t)?(t.Ra.ha(e),qN(t)):t.Ra.set("Unknown")}async function UY(t,e,n){if(t.Ra.set("Online"),e instanceof MD&&e.state===2&&e.cause)try{await(async function(i,o){const c=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,c),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Be(gd,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mk(t,r)}else if(e instanceof Ag?t.Va.Ze(e):e instanceof DD?t.Va.st(e):t.Va.tt(e),!n.isEqual(tt.min()))try{const r=await WD(t.localStore);n.compareTo(r)>=0&&await(function(o,c){const u=o.Va.Tt(c);return u.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=o.Ia.get(h);p&&o.Ia.set(h,p.withResumeToken(f.resumeToken,c))}})),u.targetMismatches.forEach(((f,h)=>{const p=o.Ia.get(f);if(!p)return;o.Ia.set(f,p.withResumeToken(Sr.EMPTY_BYTE_STRING,p.snapshotVersion)),XD(o,f);const g=new xl(p.target,f,h,p.sequenceNumber);$N(o,g)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Be(gd,"Failed to raise snapshot:",r),await mk(t,r)}}async function mk(t,e,n){if(!Td(e))throw e;t.Ea.add(1),await nm(t),t.Ra.set("Offline"),n||(n=()=>WD(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Be(gd,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await v0(t)}))}async function pk(t,e){const n=bt(t);n.asyncQueue.verifyOperationInProgress(),Be(gd,"RemoteStore received new credentials");const r=rm(n);n.Ea.add(3),await nm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await v0(n)}async function VY(t,e){const n=bt(t);e?(n.Ea.delete(2),await v0(n)):e||(n.Ea.add(2),await nm(n),n.Ra.set("Unknown"))}function kd(t){return t.ma||(t.ma=(function(n,r,i){const o=bt(n);return o.sa(),new IY(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:MY.bind(null,t),t_:LY.bind(null,t),r_:zY.bind(null,t),H_:UY.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),HN(t)?qN(t):t.Ra.set("Unknown")):(await t.ma.stop(),JD(t))}))),t.ma}class GN{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Nl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const c=Date.now()+r,u=new GN(e,n,c,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ue(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ZD(t,e){if(so("AsyncQueue",`${e}: ${t}`),Td(t))return new Ue(Ce.UNAVAILABLE,`${e}: ${t}`);throw t}class nd{static emptySet(e){return new nd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ye.comparator(n.key,r.key):(n,r)=>Ye.comparator(n.key,r.key),this.keyedMap=Zf(),this.sortedSet=new On(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new nd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class gk{constructor(){this.ga=new On(Ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):nt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class yd{constructor(e,n,r,i,o,c,u,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const c=[];return n.forEach((u=>{c.push({type:0,doc:u})})),new yd(e,n,nd.emptySet(n),c,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&h0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class BY{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class FY{constructor(){this.queries=yk(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=bt(n),o=i.queries;i.queries=yk(),o.forEach(((c,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new Ue(Ce.ABORTED,"Firestore shutting down"))}}function yk(){return new Hc((t=>_D(t)),h0)}async function eM(t,e){const n=bt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new BY,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const u=ZD(c,`Initialization of query '${zu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&KN(n)}async function tM(t,e){const n=bt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $Y(t,e){const n=bt(t);let r=!1;for(const i of e){const o=i.query,c=n.queries.get(o);if(c){for(const u of c.Sa)u.Fa(i)&&(r=!0);c.wa=i}}r&&KN(n)}function qY(t,e,n){const r=bt(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function KN(t){t.Ca.forEach((e=>{e.next()}))}var W1,xk;(xk=W1||(W1={})).Ma="default",xk.Cache="cache";class nM{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==W1.Cache}}class rM{constructor(e){this.key=e}}class iM{constructor(e){this.key=e}}class HY{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=wt(),this.mutatedKeys=wt(),this.eu=SD(e),this.tu=new nd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new gk,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const x=i.get(p),b=m0(this.query,g)?g:null,_=!!x&&this.mutatedKeys.has(x.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let N=!1;x&&b?x.data.isEqual(b.data)?_!==S&&(r.track({type:3,doc:b}),N=!0):this.su(x,b)||(r.track({type:2,doc:b}),N=!0,(f&&this.eu(b,f)>0||h&&this.eu(b,h)<0)&&(u=!0)):!x&&b?(r.track({type:0,doc:b}),N=!0):x&&!b&&(r.track({type:1,doc:x}),N=!0,(f||h)&&(u=!0)),N&&(b?(c=c.add(b),o=S?o.add(p):o.delete(p)):(c=c.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{tu:c,iu:r,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((p,g)=>(function(b,_){const S=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt(20277,{Rt:N})}};return S(b)-S(_)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,h=f!==this.Za;return this.Za=f,c.length!==0||h?{snapshot:new yd(this.query,e.tu,o,c,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gk,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=wt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new iM(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new rM(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=wt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const WN="SyncEngine";class GY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class KY{constructor(e){this.key=e,this.hu=!1}}class WY{constructor(e,n,r,i,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Hc((u=>_D(u)),h0),this.Iu=new Map,this.Eu=new Set,this.du=new On(Ye.comparator),this.Au=new Map,this.Ru=new zN,this.Vu={},this.mu=new Map,this.fu=pd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YY(t,e,n=!0){const r=cM(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await aM(r,e,n,!0),i}async function QY(t,e){const n=cM(t);await aM(n,e,!0,!1)}async function aM(t,e,n,r){const i=await jY(t.localStore,ls(e)),o=i.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await XY(t,e,o,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&QD(t.remoteStore,i),u}async function XY(t,e,n,r,i){t.pu=(g,x,b)=>(async function(S,N,T,O){let C=N.view.ru(T);C.Cs&&(C=await ck(S.localStore,N.query,!1).then((({documents:E})=>N.view.ru(E,C))));const M=O&&O.targetChanges.get(N.targetId),R=O&&O.targetMismatches.get(N.targetId)!=null,F=N.view.applyChanges(C,S.isPrimaryClient,M,R);return bk(S,N.targetId,F.au),F.snapshot})(t,g,x,b);const o=await ck(t.localStore,e,!0),c=new HY(e,o.Qs),u=c.ru(o.documents),f=tm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=c.applyChanges(u,t.isPrimaryClient,f);bk(t,n,h.au);const p=new GY(e,n,c);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function JY(t,e,n){const r=bt(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((c=>!h0(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await G1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&FN(r.remoteStore,i.targetId),Y1(r,i.targetId)})).catch(c0)):(Y1(r,i.targetId),await G1(r.localStore,i.targetId,!0))}async function ZY(t,e){const n=bt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),FN(n.remoteStore,r.targetId))}async function sM(t,e){const n=bt(t);try{const r=await bY(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const c=n.Au.get(o);c&&(hn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?hn(c.hu,14607):i.removedDocuments.size>0&&(hn(c.hu,42227),c.hu=!1))})),await lM(n,r,e)}catch(r){await c0(r)}}function vk(t,e,n){const r=bt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,c)=>{const u=c.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(c,u){const f=bt(c);f.onlineState=u;let h=!1;f.queries.forEach(((p,g)=>{for(const x of g.Sa)x.va(u)&&(h=!0)})),h&&KN(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eQ(t,e,n){const r=bt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let c=new On(Ye.comparator);c=c.insert(o,Or.newNoDocument(o,tt.min()));const u=wt().add(o),f=new y0(tt.min(),new Map,new On(yt),c,u);await sM(r,f),r.du=r.du.remove(o),r.Au.delete(e),YN(r)}else await G1(r.localStore,e,!1).then((()=>Y1(r,e,n))).catch(c0)}function Y1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||oM(t,r)}))}function oM(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(FN(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),YN(t))}function bk(t,e,n){for(const r of n)r instanceof rM?(t.Ru.addReference(r.key,e),tQ(t,r)):r instanceof iM?(Be(WN,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||oM(t,r.key)):nt(19791,{wu:r})}function tQ(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Be(WN,"New document in limbo: "+n),t.Eu.add(r),YN(t))}function YN(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ye(Ht.fromString(e)),r=t.fu.next();t.Au.set(r,new KY(n)),t.du=t.du.insert(n,r),QD(t.remoteStore,new xl(ls(RN(n.path)),r,"TargetPurposeLimboResolution",u0.ce))}}async function lM(t,e,n){const r=bt(t),i=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{c.push(r.pu(f,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(h){i.push(h);const p=VN.As(f.targetId,h);o.push(p)}})))})),await Promise.all(c),r.Pu.H_(i),await(async function(f,h){const p=bt(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Se.forEach(h,(x=>Se.forEach(x.Es,(b=>p.persistence.referenceDelegate.addReference(g,x.targetId,b))).next((()=>Se.forEach(x.ds,(b=>p.persistence.referenceDelegate.removeReference(g,x.targetId,b)))))))))}catch(g){if(!Td(g))throw g;Be(BN,"Failed to update sequence numbers: "+g)}for(const g of h){const x=g.targetId;if(!g.fromCache){const b=p.Ms.get(x),_=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(_);p.Ms=p.Ms.insert(x,S)}}})(r.localStore,o))}async function nQ(t,e){const n=bt(t);if(!n.currentUser.isEqual(e)){Be(WN,"User change. New user:",e.toKey());const r=await KD(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((u=>{u.forEach((f=>{f.reject(new Ue(Ce.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lM(n,r.Ls)}}function rQ(t,e){const n=bt(t),r=n.Au.get(e);if(r&&r.hu)return wt().add(r.key);{let i=wt();const o=n.Iu.get(e);if(!o)return i;for(const c of o){const u=n.Tu.get(c);i=i.unionWith(u.view.nu)}return i}}function cM(t){const e=bt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eQ.bind(null,e),e.Pu.H_=$Y.bind(null,e.eventManager),e.Pu.yu=qY.bind(null,e.eventManager),e}class sy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=x0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return vY(this.persistence,new gY,e.initialUser,this.serializer)}Cu(e){return new GD(UN.mi,this.serializer)}Du(e){return new _Y}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sy.provider={build:()=>new sy};class iQ extends sy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){hn(this.persistence.referenceDelegate instanceof ay,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tY(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?di.withCacheSize(this.cacheSizeBytes):di.DEFAULT;return new GD((r=>ay.mi(r,n)),this.serializer)}}class Q1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nQ.bind(null,this.syncEngine),await VY(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FY})()}createDatastore(e){const n=x0(e.databaseInfo.databaseId),r=(function(o){return new CY(o)})(e.databaseInfo);return(function(o,c,u,f){return new RY(o,c,u,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,c,u){return new DY(r,i,o,c,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>vk(this.syncEngine,n,0)),(function(){return fk.v()?new fk:new SY})())}createSyncEngine(e,n){return(function(i,o,c,u,f,h,p){const g=new WY(i,o,c,u,f,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=bt(n);Be(gd,"RemoteStore shutting down."),r.Ea.add(5),await nm(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Q1.provider={build:()=>new Q1};class uM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):so("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ol="FirestoreClient";class aQ{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ir.UNAUTHENTICATED,this.clientId=TN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{Be(Ol,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Be(Ol,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ZD(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Eb(t,e){t.asyncQueue.verifyOperationInProgress(),Be(Ol,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await KD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function wk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sQ(t);Be(Ol,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>pk(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>pk(e.remoteStore,i))),t._onlineComponents=e}async function sQ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Be(Ol,"Using user provided OfflineComponentProvider");try{await Eb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ce.FAILED_PRECONDITION||i.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;dd("Error using user provided cache. Falling back to memory cache: "+n),await Eb(t,new sy)}}else Be(Ol,"Using default OfflineComponentProvider"),await Eb(t,new iQ(void 0));return t._offlineComponents}async function oQ(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Be(Ol,"Using user provided OnlineComponentProvider"),await wk(t,t._uninitializedComponentsProvider._online)):(Be(Ol,"Using default OnlineComponentProvider"),await wk(t,new Q1))),t._onlineComponents}async function dM(t){const e=await oQ(t),n=e.eventManager;return n.onListen=YY.bind(null,e.syncEngine),n.onUnlisten=JY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZY.bind(null,e.syncEngine),n}function lQ(t,e,n={}){const r=new Nl;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,u,f,h){const p=new uM({next:x=>{p.Nu(),c.enqueueAndForget((()=>tM(o,g)));const b=x.docs.has(u);!b&&x.fromCache?h.reject(new Ue(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&x.fromCache&&f&&f.source==="server"?h.reject(new Ue(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new nM(RN(u.path),p,{includeMetadataChanges:!0,qa:!0});return eM(o,g)})(await dM(t),t.asyncQueue,e,n,r))),r.promise}function cQ(t,e,n={}){const r=new Nl;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,u,f,h){const p=new uM({next:x=>{p.Nu(),c.enqueueAndForget((()=>tM(o,g))),x.fromCache&&f.source==="server"?h.reject(new Ue(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new nM(u,p,{includeMetadataChanges:!0,qa:!0});return eM(o,g)})(await dM(t),t.asyncQueue,e,n,r))),r.promise}function fM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const jk=new Map;const hM="firestore.googleapis.com",Nk=!0;class _k{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ue(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hM,this.ssl=Nk}else this.host=e.host,this.ssl=e.ssl??Nk;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZW)throw new Ue(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fM(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ue(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ue(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ue(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class b0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _k({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ue(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ue(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _k(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new OK;switch(r.type){case"firstParty":return new MK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ue(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=jk.get(n);r&&(Be("ComponentProvider","Removing Datastore"),jk.delete(n),r.terminate())})(this),Promise.resolve()}}function uQ(t,e,n,r={}){t=bh(t,b0);const i=Ml(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(gN(`https://${u}`),yN("Firestore",!0)),o.host!==hM&&o.host!==u&&dd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:u,ssl:i,emulatorOptions:r};if(!El(f,c)&&(t._setSettings(f),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Ir.MOCK_USER;else{h=s6(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ue(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ir(g)}t._authCredentials=new RK(new aD(h,p))}}class Id{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Id(this.firestore,e,this._query)}}class Wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _l(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}toJSON(){return{type:Wn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Zh(n,Wn._jsonSchema))return new Wn(e,r||null,new Ye(Ht.fromString(n.referencePath)))}}Wn._jsonSchemaVersion="firestore/documentReference/1.0",Wn._jsonSchema={type:qn("string",Wn._jsonSchemaVersion),referencePath:qn("string")};class _l extends Id{constructor(e,n,r){super(e,n,RN(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Ye(e))}withConverter(e){return new _l(this.firestore,e,this._path)}}function dQ(t,e,...n){if(t=In(t),sD("collection","path",e),t instanceof b0){const r=Ht.fromString(e,...n);return MC(r),new _l(t,null,r)}{if(!(t instanceof Wn||t instanceof _l))throw new Ue(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ht.fromString(e,...n));return MC(r),new _l(t.firestore,null,r)}}function fQ(t,e,...n){if(t=In(t),arguments.length===1&&(e=TN.newId()),sD("doc","path",e),t instanceof b0){const r=Ht.fromString(e,...n);return DC(r),new Wn(t,null,new Ye(r))}{if(!(t instanceof Wn||t instanceof _l))throw new Ue(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ht.fromString(e,...n));return DC(r),new Wn(t.firestore,t instanceof _l?t.converter:null,new Ye(r))}}const Sk="AsyncQueue";class Ek{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YD(this,"async_queue_retry"),this._c=()=>{const r=Sb();r&&Be(Sk,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Sb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Nl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Td(e))throw e;Be(Sk,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,so("INTERNAL UNHANDLED ERROR: ",Ak(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=GN.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&nt(47125,{Pc:Ak(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ak(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class QN extends b0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Ek,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ek(e),this._firestoreClient=void 0,await e}}}function hQ(t,e){const n=typeof t=="object"?t:i0(),r=typeof t=="string"?t:Zg,i=Ll(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=r6("firestore");o&&uQ(i,...o)}return i}function mM(t){if(t._terminated)throw new Ue(Ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mQ(t),t._firestoreClient}function mQ(t){const e=t._freezeSettings(),n=(function(i,o,c,u){return new eW(i,o,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,fM(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new aQ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}class ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ta(Sr.fromBase64String(e))}catch(n){throw new Ue(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ta(Sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ta._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zh(e,ta._jsonSchema))return ta.fromBase64String(e.bytes)}}ta._jsonSchemaVersion="firestore/bytes/1.0",ta._jsonSchema={type:qn("string",ta._jsonSchemaVersion),bytes:qn("string")};class pM{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ue(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gM{constructor(e){this._methodName=e}}class cs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ue(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ue(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cs._jsonSchemaVersion}}static fromJSON(e){if(Zh(e,cs._jsonSchema))return new cs(e.latitude,e.longitude)}}cs._jsonSchemaVersion="firestore/geoPoint/1.0",cs._jsonSchema={type:qn("string",cs._jsonSchemaVersion),latitude:qn("number"),longitude:qn("number")};class us{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zh(e,us._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new us(e.vectorValues);throw new Ue(Ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}us._jsonSchemaVersion="firestore/vectorValue/1.0",us._jsonSchema={type:qn("string",us._jsonSchemaVersion),vectorValues:qn("object")};const pQ=/^__.*__$/;function yM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt(40011,{Ac:t})}}class XN{constructor(e,n,r,i,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new XN({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return X1(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yM(this.Ac)&&pQ.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||x0(e)}Cc(e,n,r,i=!1){return new XN({Ac:e,methodName:n,Dc:r,path:Pr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yQ(t){const e=t._freezeSettings(),n=x0(t._databaseId);return new gQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xQ(t,e,n,r=!1){return JN(n,t.Cc(r?4:3,e))}function JN(t,e){if(xM(t=In(t)))return bQ("Unsupported field value:",e,t),vQ(t,e);if(t instanceof gM)return(function(r,i){if(!yM(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let c=0;for(const u of r){let f=JN(u,i.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=In(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NW(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=on.fromDate(r);return{timestampValue:q1(i.serializer,o)}}if(r instanceof on){const o=new on(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:q1(i.serializer,o)}}if(r instanceof cs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ta)return{bytesValue:LD(i.serializer,r._byteString)};if(r instanceof Wn){const o=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw i.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:zD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof us)return(function(c,u){return{mapValue:{fields:{[pD]:{stringValue:gD},[ey]:{arrayValue:{values:c.toArray().map((h=>{if(typeof h!="number")throw u.Sc("VectorValues must only contain numeric values.");return PN(u.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${l0(r)}`)})(t,e)}function vQ(t,e){const n={};return cD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cd(t,((r,i)=>{const o=JN(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function xM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof on||t instanceof cs||t instanceof ta||t instanceof Wn||t instanceof gM||t instanceof us)}function bQ(t,e,n){if(!xM(n)||!oD(n)){const r=l0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}const wQ=new RegExp("[~\\*/\\[\\]]");function jQ(t,e,n){if(e.search(wQ)>=0)throw X1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pM(...e.split("."))._internalPath}catch{throw X1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function X1(t,e,n,r,i){const o=r&&!r.isEmpty(),c=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${r}`),c&&(f+=` in document ${i}`),f+=")"),new Ue(Ce.INVALID_ARGUMENT,u+t+f)}class vM{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ZN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NQ extends vM{data(){return super.data()}}function ZN(t,e){return typeof e=="string"?jQ(t,e):e instanceof pM?e._internalPath:e._delegate._internalPath}function _Q(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ue(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class e2{}class SQ extends e2{}function EQ(t,e,...n){let r=[];e instanceof e2&&r.push(e),r=r.concat(n),(function(o){const c=o.filter((f=>f instanceof t2)).length,u=o.filter((f=>f instanceof w0)).length;if(c>1||c>0&&u>0)throw new Ue(Ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class w0 extends SQ{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new w0(e,n,r)}_apply(e){const n=this._parse(e);return bM(e._query,n),new Id(e.firestore,e.converter,U1(e._query,n))}_parse(e){const n=yQ(e.firestore);return(function(o,c,u,f,h,p,g){let x;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ue(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){Ck(g,p);const _=[];for(const S of g)_.push(Tk(f,o,S));x={arrayValue:{values:_}}}else x=Tk(f,o,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||Ck(g,p),x=xQ(u,c,g,p==="in"||p==="not-in");return Fn.create(h,p,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function AQ(t,e,n){const r=e,i=ZN("where",t);return w0._create(i,r,n)}class t2 extends e2{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t2(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Da.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let c=i;const u=o.getFlattenedFilters();for(const f of u)bM(c,f),c=U1(c,f)})(e._query,n),new Id(e.firestore,e.converter,U1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Tk(t,e,n){if(typeof(n=In(n))=="string"){if(n==="")throw new Ue(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ND(e)&&n.indexOf("/")!==-1)throw new Ue(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ht.fromString(n));if(!Ye.isDocumentKey(r))throw new Ue(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qC(t,new Ye(r))}if(n instanceof Wn)return qC(t,n._key);throw new Ue(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${l0(n)}.`)}function Ck(t,e){if(!Array.isArray(t)||t.length===0)throw new Ue(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bM(t,e){const n=(function(i,o){for(const c of i)for(const u of c.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ue(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ue(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class TQ{convertValue(e,n="none"){switch(kl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw nt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cd(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[ey].arrayValue?.values?.map((r=>Cn(r.doubleValue)));return new us(n)}convertGeoPoint(e){return new cs(Cn(e.latitude),Cn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=f0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jh(e));default:return null}}convertTimestamp(e){const n=Tl(e);return new on(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ht.fromString(e);hn(qD(r),9688,{name:e});const i=new Nh(r.get(1),r.get(3)),o=new Ye(r.popFirst(5));return i.isEqual(n)||so(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class th{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nc extends vM{constructor(e,n,r,i,o,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ZN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ue(Ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Nc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Nc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Nc._jsonSchema={type:qn("string",Nc._jsonSchemaVersion),bundleSource:qn("string","DocumentSnapshot"),bundleName:qn("string"),bundle:qn("string")};class Tg extends Nc{data(e={}){return super.data(e)}}class rd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new th(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Tg(this._firestore,this._userDataWriter,r.key,r,new th(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ue(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((u=>{const f=new Tg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new th(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const f=new Tg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new th(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return u.type!==0&&(h=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),p=c.indexOf(u.doc.key)),{type:CQ(u.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ue(Ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=TN.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt(61501,{type:t})}}function kQ(t){t=bh(t,Wn);const e=bh(t.firestore,QN);return lQ(mM(e),t._key).then((n=>OQ(e,t,n)))}rd._jsonSchemaVersion="firestore/querySnapshot/1.0",rd._jsonSchema={type:qn("string",rd._jsonSchemaVersion),bundleSource:qn("string","QuerySnapshot"),bundleName:qn("string"),bundle:qn("string")};class wM extends TQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,n)}}function IQ(t){t=bh(t,Id);const e=bh(t.firestore,QN),n=mM(e),r=new wM(e);return _Q(t._query),cQ(n,t._query).then((i=>new rd(e,r,t,i)))}function OQ(t,e,n){const r=n.docs.get(e._key),i=new wM(t);return new Nc(t,i,e._key,r,new th(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ad=i})($c),Ra(new aa("firestore",((r,{instanceIdentifier:i,options:o})=>{const c=r.getProvider("app").getImmediate(),u=new QN(new PK(r.getProvider("auth-internal")),new LK(c,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ue(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nh(h.options.projectId,p)})(c,i),c);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),mi(IC,OC,e),mi(IC,OC,"esm2020")})();const jM="@firebase/installations",n2="0.6.19";const NM=1e4,_M=`w:${n2}`,SM="FIS_v2",RQ="https://firebaseinstallations.googleapis.com/v1",PQ=3600*1e3,DQ="installations",MQ="Installations";const LQ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Rc=new Fc(DQ,MQ,LQ);function EM(t){return t instanceof ua&&t.code.includes("request-failed")}function AM({projectId:t}){return`${RQ}/projects/${t}/installations`}function TM(t){return{token:t.token,requestStatus:2,expiresIn:UQ(t.expiresIn),creationTime:Date.now()}}async function CM(t,e){const r=(await e.json()).error;return Rc.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function kM({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function zQ(t,{refreshToken:e}){const n=kM(t);return n.append("Authorization",VQ(e)),n}async function IM(t){const e=await t();return e.status>=500&&e.status<600?t():e}function UQ(t){return Number(t.replace("s","000"))}function VQ(t){return`${SM} ${t}`}async function BQ({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=AM(t),i=kM(t),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const c={fid:n,authVersion:SM,appId:t.appId,sdkVersion:_M},u={method:"POST",headers:i,body:JSON.stringify(c)},f=await IM(()=>fetch(r,u));if(f.ok){const h=await f.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:TM(h.authToken)}}else throw await CM("Create Installation",f)}function OM(t){return new Promise(e=>{setTimeout(e,t)})}function FQ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const $Q=/^[cdef][\w-]{21}$/,J1="";function qQ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=HQ(t);return $Q.test(n)?n:J1}catch{return J1}}function HQ(t){return FQ(t).substr(0,22)}function j0(t){return`${t.appName}!${t.appId}`}const RM=new Map;function PM(t,e){const n=j0(t);DM(n,e),GQ(n,e)}function DM(t,e){const n=RM.get(t);if(n)for(const r of n)r(e)}function GQ(t,e){const n=KQ();n&&n.postMessage({key:t,fid:e}),WQ()}let xc=null;function KQ(){return!xc&&"BroadcastChannel"in self&&(xc=new BroadcastChannel("[Firebase] FID Change"),xc.onmessage=t=>{DM(t.data.key,t.data.fid)}),xc}function WQ(){RM.size===0&&xc&&(xc.close(),xc=null)}const YQ="firebase-installations-database",QQ=1,Pc="firebase-installations-store";let Ab=null;function r2(){return Ab||(Ab=f6(YQ,QQ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Pc)}}})),Ab}async function oy(t,e){const n=j0(t),i=(await r2()).transaction(Pc,"readwrite"),o=i.objectStore(Pc),c=await o.get(n);return await o.put(e,n),await i.done,(!c||c.fid!==e.fid)&&PM(t,e.fid),e}async function MM(t){const e=j0(t),r=(await r2()).transaction(Pc,"readwrite");await r.objectStore(Pc).delete(e),await r.done}async function N0(t,e){const n=j0(t),i=(await r2()).transaction(Pc,"readwrite"),o=i.objectStore(Pc),c=await o.get(n),u=e(c);return u===void 0?await o.delete(n):await o.put(u,n),await i.done,u&&(!c||c.fid!==u.fid)&&PM(t,u.fid),u}async function i2(t){let e;const n=await N0(t.appConfig,r=>{const i=XQ(r),o=JQ(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===J1?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function XQ(t){const e=t||{fid:qQ(),registrationStatus:0};return LM(e)}function JQ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Rc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=ZQ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:eX(t)}:{installationEntry:e}}async function ZQ(t,e){try{const n=await BQ(t,e);return oy(t.appConfig,n)}catch(n){throw EM(n)&&n.customData.serverCode===409?await MM(t.appConfig):await oy(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function eX(t){let e=await kk(t.appConfig);for(;e.registrationStatus===1;)await OM(100),e=await kk(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await i2(t);return r||n}return e}function kk(t){return N0(t,e=>{if(!e)throw Rc.create("installation-not-found");return LM(e)})}function LM(t){return tX(t)?{fid:t.fid,registrationStatus:0}:t}function tX(t){return t.registrationStatus===1&&t.registrationTime+NM<Date.now()}async function nX({appConfig:t,heartbeatServiceProvider:e},n){const r=rX(t,n),i=zQ(t,n),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const c={installation:{sdkVersion:_M,appId:t.appId}},u={method:"POST",headers:i,body:JSON.stringify(c)},f=await IM(()=>fetch(r,u));if(f.ok){const h=await f.json();return TM(h)}else throw await CM("Generate Auth Token",f)}function rX(t,{fid:e}){return`${AM(t)}/${e}/authTokens:generate`}async function a2(t,e=!1){let n;const r=await N0(t.appConfig,o=>{if(!zM(o))throw Rc.create("not-registered");const c=o.authToken;if(!e&&sX(c))return o;if(c.requestStatus===1)return n=iX(t,e),o;{if(!navigator.onLine)throw Rc.create("app-offline");const u=lX(o);return n=aX(t,u),u}});return n?await n:r.authToken}async function iX(t,e){let n=await Ik(t.appConfig);for(;n.authToken.requestStatus===1;)await OM(100),n=await Ik(t.appConfig);const r=n.authToken;return r.requestStatus===0?a2(t,e):r}function Ik(t){return N0(t,e=>{if(!zM(e))throw Rc.create("not-registered");const n=e.authToken;return cX(n)?{...e,authToken:{requestStatus:0}}:e})}async function aX(t,e){try{const n=await nX(t,e),r={...e,authToken:n};return await oy(t.appConfig,r),n}catch(n){if(EM(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await MM(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await oy(t.appConfig,r)}throw n}}function zM(t){return t!==void 0&&t.registrationStatus===2}function sX(t){return t.requestStatus===2&&!oX(t)}function oX(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+PQ}function lX(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function cX(t){return t.requestStatus===1&&t.requestTime+NM<Date.now()}async function uX(t){const e=t,{installationEntry:n,registrationPromise:r}=await i2(e);return r?r.catch(console.error):a2(e).catch(console.error),n.fid}async function dX(t,e=!1){const n=t;return await fX(n),(await a2(n,e)).token}async function fX(t){const{registrationPromise:e}=await i2(t);e&&await e}function hX(t){if(!t||!t.options)throw Tb("App Configuration");if(!t.name)throw Tb("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Tb(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Tb(t){return Rc.create("missing-app-config-values",{valueName:t})}const UM="installations",mX="installations-internal",pX=t=>{const e=t.getProvider("app").getImmediate(),n=hX(e),r=Ll(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},gX=t=>{const e=t.getProvider("app").getImmediate(),n=Ll(e,UM).getImmediate();return{getId:()=>uX(n),getToken:i=>dX(n,i)}};function yX(){Ra(new aa(UM,pX,"PUBLIC")),Ra(new aa(mX,gX,"PRIVATE"))}yX();mi(jM,n2);mi(jM,n2,"esm2020");const ly="analytics",xX="firebase_id",vX="origin",bX=60*1e3,wX="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",s2="https://www.googletagmanager.com/gtag/js";const Zr=new r0("@firebase/analytics");const jX={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ri=new Fc("analytics","Analytics",jX);function NX(t){if(!t.startsWith(s2)){const e=Ri.create("invalid-gtag-resource",{gtagURL:t});return Zr.warn(e.message),""}return t}function VM(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function _X(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function SX(t,e){const n=_X("firebase-js-sdk-policy",{createScriptURL:NX}),r=document.createElement("script"),i=`${s2}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function EX(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function AX(t,e,n,r,i,o){const c=r[i];try{if(c)await e[c];else{const f=(await VM(n)).find(h=>h.measurementId===i);f&&await e[f.appId]}}catch(u){Zr.error(u)}t("config",i,o)}async function TX(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const u=await VM(n);for(const f of c){const h=u.find(g=>g.measurementId===f),p=h&&e[h.appId];if(p)o.push(p);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){Zr.error(o)}}function CX(t,e,n,r){async function i(o,...c){try{if(o==="event"){const[u,f]=c;await TX(t,e,n,u,f)}else if(o==="config"){const[u,f]=c;await AX(t,e,n,r,u,f)}else if(o==="consent"){const[u,f]=c;t("consent",u,f)}else if(o==="get"){const[u,f,h]=c;t("get",u,f,h)}else if(o==="set"){const[u]=c;t("set",u)}else t(o,...c)}catch(u){Zr.error(u)}}return i}function kX(t,e,n,r,i){let o=function(...c){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=CX(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function IX(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(s2)&&n.src.includes(t))return n;return null}const OX=30,RX=1e3;class PX{constructor(e={},n=RX){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const BM=new PX;function DX(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function MX(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:DX(n)},i=wX.replace("{app-id}",e),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let c="";try{const u=await o.json();u.error?.message&&(c=u.error.message)}catch{}throw Ri.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function LX(t,e=BM,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Ri.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Ri.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new VX;return setTimeout(async()=>{u.abort()},bX),FM({appId:r,apiKey:i,measurementId:o},c,u,e)}async function FM(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=BM){const{appId:o,measurementId:c}=t;try{await zX(r,e)}catch(u){if(c)return Zr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:c};throw u}try{const u=await MX(t);return i.deleteThrottleMetadata(o),u}catch(u){const f=u;if(!UX(f)){if(i.deleteThrottleMetadata(o),c)return Zr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:o,measurementId:c};throw u}const h=Number(f?.customData?.httpStatus)===503?nC(n,i.intervalMillis,OX):nC(n,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(o,p),Zr.debug(`Calling attemptFetch again in ${h} millis`),FM(t,p,r,i)}}function zX(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Ri.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function UX(t){if(!(t instanceof ua)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class VX{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function BX(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,c={...r,send_to:o};t("event",n,c)}}async function FX(t,e,n,r){if(r&&r.global){const i={};for(const o of Object.keys(n))i[`user_properties.${o}`]=n[o];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}async function $X(){if(l6())try{await c6()}catch(t){return Zr.warn(Ri.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Zr.warn(Ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function qX(t,e,n,r,i,o,c){const u=LX(t);u.then(x=>{n[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&Zr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Zr.error(x)),e.push(u);const f=$X().then(x=>{if(x)return r.getId()}),[h,p]=await Promise.all([u,f]);IX(o)||SX(o,h.measurementId),i("js",new Date);const g=c?.config??{};return g[vX]="firebase",g.update=!0,p!=null&&(g[xX]=p),i("config",h.measurementId,g),h.measurementId}class HX{constructor(e){this.app=e}_delete(){return delete id[this.app.options.appId],Promise.resolve()}}let id={},Ok=[];const Rk={};let Cb="dataLayer",GX="gtag",Pk,o2,Dk=!1;function KX(){const t=[];if(o6()&&t.push("This is a browser extension environment."),J$()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ri.create("invalid-analytics-context",{errorInfo:e});Zr.warn(n.message)}}function WX(t,e,n){KX();const r=t.options.appId;if(!r)throw Ri.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Zr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ri.create("no-api-key");if(id[r]!=null)throw Ri.create("already-exists",{id:r});if(!Dk){EX(Cb);const{wrappedGtag:o,gtagCore:c}=kX(id,Ok,Rk,Cb,GX);o2=o,Pk=c,Dk=!0}return id[r]=qX(t,Ok,Rk,e,Pk,Cb,n),new HX(t)}function YX(t=i0()){t=In(t);const e=Ll(t,ly);return e.isInitialized()?e.getImmediate():QX(t)}function QX(t,e={}){const n=Ll(t,ly);if(n.isInitialized()){const i=n.getImmediate();if(El(e,n.getOptions()))return i;throw Ri.create("already-initialized")}return n.initialize({options:e})}function XX(t,e,n){t=In(t),FX(o2,id[t.app.options.appId],e,n).catch(r=>Zr.error(r))}function JX(t,e,n,r){t=In(t),BX(o2,id[t.app.options.appId],e,n,r).catch(i=>Zr.error(i))}const Mk="@firebase/analytics",Lk="0.10.19";function ZX(){Ra(new aa(ly,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return WX(r,i,n)},"PUBLIC")),Ra(new aa("analytics-internal",t,"PRIVATE")),mi(Mk,Lk),mi(Mk,Lk,"esm2020");function t(e){try{const n=e.getProvider(ly).getImmediate();return{logEvent:(r,i,o)=>JX(n,r,i,o),setUserProperties:(r,i)=>XX(n,r,i)}}catch(n){throw Ri.create("interop-component-reg-failed",{reason:n})}}}ZX();const $M="firebasestorage.googleapis.com",qM="storageBucket",eJ=120*1e3,tJ=600*1e3;class Nn extends ua{constructor(e,n,r=0){super(kb(e),`Firebase Storage: ${n} (${kb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wn||(wn={}));function kb(t){return"storage/"+t}function l2(){const t="An unknown error occurred, please check the error payload for server response.";return new Nn(wn.UNKNOWN,t)}function nJ(t){return new Nn(wn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function rJ(t){return new Nn(wn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function iJ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Nn(wn.UNAUTHENTICATED,t)}function aJ(){return new Nn(wn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function sJ(t){return new Nn(wn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function oJ(){return new Nn(wn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lJ(){return new Nn(wn.CANCELED,"User canceled the upload/download.")}function cJ(t){return new Nn(wn.INVALID_URL,"Invalid URL '"+t+"'.")}function uJ(t){return new Nn(wn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function dJ(){return new Nn(wn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+qM+"' property when initializing the app?")}function fJ(){return new Nn(wn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hJ(){return new Nn(wn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function mJ(t){return new Nn(wn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Z1(t){return new Nn(wn.INVALID_ARGUMENT,t)}function HM(){return new Nn(wn.APP_DELETED,"The Firebase app was deleted.")}function pJ(t){return new Nn(wn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hh(t,e){return new Nn(wn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function zf(t){throw new Nn(wn.INTERNAL_ERROR,"Internal error: "+t)}class Ii{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ii.makeFromUrl(e,n)}catch{return new Ii(e,"")}if(r.path==="")return r;throw uJ(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const c="(/(.*))?$",u=new RegExp("^gs://"+i+c,"i"),f={bucket:1,path:3};function h(M){M.path_=decodeURIComponent(M.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",b=new RegExp(`^https?://${g}/${p}/b/${i}/o${x}`,"i"),_={bucket:1,path:3},S=n===$M?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",T=new RegExp(`^https?://${S}/${i}/${N}`,"i"),C=[{regex:u,indices:f,postModify:o},{regex:b,indices:_,postModify:h},{regex:T,indices:{bucket:1,path:2},postModify:h}];for(let M=0;M<C.length;M++){const R=C[M],F=R.regex.exec(e);if(F){const E=F[R.indices.bucket];let I=F[R.indices.path];I||(I=""),r=new Ii(E,I),R.postModify(r);break}}if(r==null)throw cJ(e);return r}}class gJ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function yJ(t,e,n){let r=1,i=null,o=null,c=!1,u=0;function f(){return u===2}let h=!1;function p(...N){h||(h=!0,e.apply(null,N))}function g(N){i=setTimeout(()=>{i=null,t(b,f())},N)}function x(){o&&clearTimeout(o)}function b(N,...T){if(h){x();return}if(N){x(),p.call(null,N,...T);return}if(f()||c){x(),p.call(null,N,...T);return}r<64&&(r*=2);let C;u===1?(u=2,C=0):C=(r+Math.random())*1e3,g(C)}let _=!1;function S(N){_||(_=!0,x(),!h&&(i!==null?(N||(u=2),clearTimeout(i),g(0)):N||(u=1)))}return g(0),o=setTimeout(()=>{c=!0,S(!0)},n),S}function xJ(t){t(!1)}function vJ(t){return t!==void 0}function bJ(t){return typeof t=="object"&&!Array.isArray(t)}function c2(t){return typeof t=="string"||t instanceof String}function zk(t){return u2()&&t instanceof Blob}function u2(){return typeof Blob<"u"}function Uk(t,e,n,r){if(r<e)throw Z1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Z1(`Invalid value for '${t}'. Expected ${n} or less.`)}function d2(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function GM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var _c;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(_c||(_c={}));function wJ(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}class jJ{constructor(e,n,r,i,o,c,u,f,h,p,g,x=!0,b=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=u,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=x,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,S)=>{this.resolve_=_,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Xp(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=u=>{const f=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const u=o.getErrorCode()===_c.NO_ERROR,f=o.getStatus();if(!u||wJ(f,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===_c.ABORT;r(!1,new Xp(!1,null,p));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new Xp(h,o))})},n=(r,i)=>{const o=this.resolve_,c=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());vJ(f)?o(f):o()}catch(f){c(f)}else if(u!==null){const f=l2();f.serverResponse=u.getErrorText(),this.errorCallback_?c(this.errorCallback_(u,f)):c(f)}else if(i.canceled){const f=this.appDelete_?HM():lJ();c(f)}else{const f=oJ();c(f)}};this.canceled_?n(!1,new Xp(!1,null,!0)):this.backoffId_=yJ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xJ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function NJ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _J(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function SJ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function EJ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function AJ(t,e,n,r,i,o,c=!0,u=!1){const f=GM(t.urlParams),h=t.url+f,p=Object.assign({},t.headers);return SJ(p,e),NJ(p,n),_J(p,o),EJ(p,r),new jJ(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,c,u)}function TJ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function CJ(...t){const e=TJ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(u2())return new Blob(t);throw new Nn(wn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kJ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function IJ(t){if(typeof atob>"u")throw mJ("base-64");return atob(t)}const ns={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ib{constructor(e,n){this.data=e,this.contentType=n||null}}function OJ(t,e){switch(t){case ns.RAW:return new Ib(KM(e));case ns.BASE64:case ns.BASE64URL:return new Ib(WM(t,e));case ns.DATA_URL:return new Ib(PJ(e),DJ(e))}throw l2()}function KM(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,c=t.charCodeAt(++n);r=65536|(o&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function RJ(t){let e;try{e=decodeURIComponent(t)}catch{throw hh(ns.DATA_URL,"Malformed data URL.")}return KM(e)}function WM(t,e){switch(t){case ns.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw hh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ns.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw hh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=IJ(e)}catch(i){throw i.message.includes("polyfill")?i:hh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class YM{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw hh(ns.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=MJ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function PJ(t){const e=new YM(t);return e.base64?WM(ns.BASE64,e.rest):RJ(e.rest)}function DJ(t){return new YM(t).contentType}function MJ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class hl{constructor(e,n){let r=0,i="";zk(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(zk(this.data_)){const r=this.data_,i=kJ(r,e,n);return i===null?null:new hl(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new hl(r,!0)}}static getBlob(...e){if(u2()){const n=e.map(r=>r instanceof hl?r.data_:r);return new hl(CJ.apply(null,n))}else{const n=e.map(c=>c2(c)?OJ(ns.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(c=>{for(let u=0;u<c.length;u++)i[o++]=c[u]}),new hl(i,!0)}}uploadData(){return this.data_}}function QM(t){let e;try{e=JSON.parse(t)}catch{return null}return bJ(e)?e:null}function LJ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function zJ(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function XM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function UJ(t,e){return e}class Kr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||UJ}}let Jp=null;function VJ(t){return!c2(t)||t.length<2?t:XM(t)}function JM(){if(Jp)return Jp;const t=[];t.push(new Kr("bucket")),t.push(new Kr("generation")),t.push(new Kr("metageneration")),t.push(new Kr("name","fullPath",!0));function e(o,c){return VJ(c)}const n=new Kr("name");n.xform=e,t.push(n);function r(o,c){return c!==void 0?Number(c):c}const i=new Kr("size");return i.xform=r,t.push(i),t.push(new Kr("timeCreated")),t.push(new Kr("updated")),t.push(new Kr("md5Hash",null,!0)),t.push(new Kr("cacheControl",null,!0)),t.push(new Kr("contentDisposition",null,!0)),t.push(new Kr("contentEncoding",null,!0)),t.push(new Kr("contentLanguage",null,!0)),t.push(new Kr("contentType",null,!0)),t.push(new Kr("metadata","customMetadata",!0)),Jp=t,Jp}function BJ(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Ii(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function FJ(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const c=n[o];r[c.local]=c.xform(r,e[c.server])}return BJ(r,t),r}function ZM(t,e,n){const r=QM(e);return r===null?null:FJ(t,r,n)}function $J(t,e,n,r){const i=QM(e);if(i===null||!c2(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const c=encodeURIComponent;return o.split(",").map(h=>{const p=t.bucket,g=t.fullPath,x="/b/"+c(p)+"/o/"+c(g),b=d2(x,n,r),_=GM({alt:"media",token:h});return b+_})[0]}function qJ(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class e3{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function t3(t){if(!t)throw l2()}function HJ(t,e){function n(r,i){const o=ZM(t,i,e);return t3(o!==null),o}return n}function GJ(t,e){function n(r,i){const o=ZM(t,i,e);return t3(o!==null),$J(o,i,t.host,t._protocol)}return n}function n3(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=aJ():i=iJ():n.getStatus()===402?i=rJ(t.bucket):n.getStatus()===403?i=sJ(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function KJ(t){const e=n3(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=nJ(t.path)),o.serverResponse=i.serverResponse,o}return n}function WJ(t,e,n){const r=e.fullServerUrl(),i=d2(r,t.host,t._protocol),o="GET",c=t.maxOperationRetryTime,u=new e3(i,o,GJ(t,n),c);return u.errorHandler=KJ(e),u}function YJ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function QJ(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=YJ(null,e)),r}function XJ(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function u(){let C="";for(let M=0;M<2;M++)C=C+Math.random().toString().slice(2);return C}const f=u();c["Content-Type"]="multipart/related; boundary="+f;const h=QJ(e,r,i),p=qJ(h,n),g="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+h.contentType+`\r
\r
`,x=`\r
--`+f+"--",b=hl.getBlob(g,r,x);if(b===null)throw fJ();const _={name:h.fullPath},S=d2(o,t.host,t._protocol),N="POST",T=t.maxUploadRetryTime,O=new e3(S,N,HJ(t,n),T);return O.urlParams=_,O.headers=c,O.body=b.uploadData(),O.errorHandler=n3(e),O}class JJ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_c.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_c.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_c.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw zf("cannot .send() more than once");if(Ml(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ZJ extends JJ{initXhr(){this.xhr_.responseType="text"}}function r3(){return new ZJ}class Dc{constructor(e,n){this._service=e,n instanceof Ii?this._location=n:this._location=Ii.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Dc(e,n)}get root(){const e=new Ii(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return XM(this._location.path)}get storage(){return this._service}get parent(){const e=LJ(this._location.path);if(e===null)return null;const n=new Ii(this._location.bucket,e);return new Dc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw pJ(e)}}function eZ(t,e,n){t._throwIfRoot("uploadBytes");const r=XJ(t.storage,t._location,JM(),new hl(e,!0),n);return t.storage.makeRequestWithTokens(r,r3).then(i=>({metadata:i,ref:t}))}function tZ(t){t._throwIfRoot("getDownloadURL");const e=WJ(t.storage,t._location,JM());return t.storage.makeRequestWithTokens(e,r3).then(n=>{if(n===null)throw hJ();return n})}function nZ(t,e){const n=zJ(t._location.path,e),r=new Ii(t._location.bucket,n);return new Dc(t.storage,r)}function rZ(t){return/^[A-Za-z]+:\/\//.test(t)}function iZ(t,e){return new Dc(t,e)}function i3(t,e){if(t instanceof f2){const n=t;if(n._bucket==null)throw dJ();const r=new Dc(n,n._bucket);return e!=null?i3(r,e):r}else return e!==void 0?nZ(t,e):t}function aZ(t,e){if(e&&rZ(e)){if(t instanceof f2)return iZ(t,e);throw Z1("To use ref(service, url), the first argument must be a Storage instance.")}else return i3(t,e)}function Vk(t,e){const n=e?.[qM];return n==null?null:Ii.makeFromBucketSpec(n,t)}function sZ(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ml(e);i&&(gN(`https://${t.host}/b`),yN("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:s6(o,t.app.options.projectId))}class f2{constructor(e,n,r,i,o,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=$M,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=eJ,this._maxUploadRetryTime=tJ,this._requests=new Set,i!=null?this._bucket=Ii.makeFromBucketSpec(i,this._host):this._bucket=Vk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ii.makeFromBucketSpec(this._url,e):this._bucket=Vk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Uk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Uk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Dc(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new gJ(HM());{const c=AJ(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Bk="@firebase/storage",Fk="0.14.0";const a3="storage";function oZ(t,e,n){return t=In(t),eZ(t,e,n)}function lZ(t){return t=In(t),tZ(t)}function cZ(t,e){return t=In(t),aZ(t,e)}function uZ(t=i0(),e){t=In(t);const r=Ll(t,a3).getImmediate({identifier:e}),i=r6("storage");return i&&dZ(r,...i),r}function dZ(t,e,n,r={}){sZ(t,e,n,r)}function fZ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new f2(n,r,i,e,$c)}function hZ(){Ra(new aa(a3,fZ,"PUBLIC").setMultipleInstances(!0)),mi(Bk,Fk,""),mi(Bk,Fk,"esm2020")}hZ();const mZ={apiKey:"AIzaSyAon4KXsfP6tqSJ6b9RgXd_xDkEowztJ3I",authDomain:"spark-trainings-lms.firebaseapp.com",projectId:"spark-trainings-lms",storageBucket:"spark-trainings-lms.firebasestorage.app",messagingSenderId:"210481812654",appId:"1:210481812654:web:255bc24f5a49912e63893f",measurementId:"G-D79DNM0VD2"},_0=h6(mZ),$n=kK(_0),$k=hQ(_0);YX(_0);const pZ=uZ(_0),Ou="relative hover:text-[#0d9c06] hover:underline",gZ=()=>{const[t,e]=j.useState(null),[n,r]=j.useState(!1);j.useEffect(()=>{const o=$n.onAuthStateChanged(c=>{e(c)});return()=>o()},[]);const i=async()=>{try{await $n.signOut(),r(!1)}catch(o){console.error("Error signing out:",o)}};return s.jsxs("div",{className:"flex justify-between items-center gap-6",children:[s.jsxs("div",{className:"flex gap-4 font-display text-[15px] font-regular text-black",children:[s.jsx(Pe,{to:"/",className:Ou,children:"Home"}),s.jsx(Pe,{to:"/courses",className:Ou,children:"Courses"}),s.jsx(Pe,{to:"/about",className:Ou,children:"About Us"}),s.jsx(Pe,{to:"/gallery",className:Ou,children:"Gallery"}),s.jsx(Pe,{to:"/contact",className:Ou,children:"Contact Us"}),t&&s.jsxs(Pe,{to:"/student/dashboard",className:`${Ou} flex items-center gap-1 font-semibold text-[#0d9c06]`,children:[s.jsx(bn,{size:16}),"My Learning"]})]}),s.jsx("div",{className:"flex flex-row gap-3",children:t?s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-2 bg-[#0d9c06] hover:bg-[#11c50a] cursor-pointer transition-all text-white text-sm rounded-md px-4 py-2.5",children:[s.jsx("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center text-[#0d9c06] font-bold text-xs overflow-hidden",children:t.photoURL?s.jsx("img",{src:t.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):t.displayName?.charAt(0)||t.email?.charAt(0).toUpperCase()}),s.jsx("span",{children:t.displayName||"Student"})]}),n&&s.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-md shadow-xl border border-gray-200 py-2 z-50",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:t.displayName||"Student"}),s.jsx("p",{className:"text-xs text-gray-600 truncate",children:t.email})]}),s.jsxs(Pe,{to:"/student/dashboard",onClick:()=>r(!1),className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[s.jsx(bn,{size:16}),"My Learning"]}),s.jsxs(Pe,{to:"/student/profile",onClick:()=>r(!1),className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[s.jsx(hs,{size:16}),"Profile"]}),s.jsx("div",{className:"border-t border-gray-200 my-2"}),s.jsxs("button",{onClick:i,className:"flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors w-full text-left cursor-pointer",children:[s.jsx(Vg,{size:16}),"Logout"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Pe,{to:"/login",className:"bg-linear-to-r from-[#0d9c06] to-[#0b7e05] text-[15px] hover:shadow-xl cursor-pointer transition-all hover:scale-105 text-white text-sm rounded-md px-7 py-2.5 flex flex-row gap-1 items-center font-bold",children:"Login"}),s.jsx(J4,{})]})})]})},es=[{id:"web-development",image:"/courses/web%20development%20course.jpg",title:"Web Development with AI: Build 10 Projects Using GPT-4",excerpt:"Master WordPress, HTML, and CSS with hands-on, on-site training in Pakistan.",price:"Rs. 30,000",badge:{label:"Premium",color:"bg-[#5022C3] text-white"},rating:4.6,ratingCount:"11,320 ratings",duration:"2 Months",language:"Urdu / Hindi (On-site in Pakistan)"},{id:"graphic-design",image:"/courses/graphic%20design%20course.jpg",title:"Graphic Design Masterclass: Learn Graphic Design in 2026",excerpt:"Master graphic design with Adobe Photoshop and Illustrator in this on-site masterclass.",price:"Rs. 23,000",badge:{label:"Best One",color:"bg-[#0d9c06] text-white"},rating:4.4,ratingCount:"1,220 ratings",duration:"2 Months",language:"Urdu / English (On-site in Pakistan)"},{id:"video-editing",image:"/courses/video%20editing%20course.jpg",title:"Video Editing Masterclass: Video Editing with AI Tools 2026",excerpt:"Learn advanced video editing using Adobe Premiere Pro, After Effects, and powerful AI tools.",price:"Rs. 30,000",badge:{label:"Hot & New",color:"bg-[#FFD1CE] text-[#b32d36]"},rating:4.8,ratingCount:"80 ratings",duration:"2 Months",language:"Urdu / English (On-site in Pakistan)"},{id:"tiktok-shop",image:"/courses/tiktok%20course.jpg",title:"Tiktok Shop Mastery 2026: From Beginner to Pro Seller",excerpt:"Learn how to start, grow, and scale a profitable TikTok Shop in Pakistan.",price:"Rs. 25,000",badge:{label:"Hot & New",color:"bg-[#FFD1CE] text-[#b32d36]"},rating:4.4,ratingCount:"4,849 ratings",duration:"2 Months",language:"Urdu / English (On-site in Pakistan)"},{id:"youtube-automation",image:"/courses/youtube%20automation%20course.jpg",title:"YouTube Automation with AI: Build a 6-Figure Channel 2026",excerpt:"Learn how to build and scale a faceless YouTube channel using AI tools and automation.",price:"Rs. 15,000",badge:{label:"Best One",color:"bg-[#0d9c06] text-white"},rating:4.4,ratingCount:"4,849 ratings",duration:"2 Months",language:"Urdu / English (On-site in Pakistan)"},{id:"shopify-masterclass",image:"/courses/shopify%20masterclass%20course.jpg",title:"Shopify Masterclass 2026: Build & Scale Your Online Store",excerpt:"Learn Shopify store creation and eCommerce fundamentals in this 40-day masterclass.",price:"Rs. 25,000",badge:{label:"Premium",color:"bg-[#5022C3] text-white"},rating:4.4,ratingCount:"4,849 ratings",duration:"40 Days",language:"Urdu / English (On-site in Pakistan)"},{id:"shopify-meta-ads",image:"/courses/shopify%20course.jpg",title:"Shopify + Meta Ads Mastery 2026: From Zero to Hero",excerpt:"Master Shopify store creation and Meta Ads strategy in this hands-on course.",price:"Rs. 35,000",badge:{label:"Hot & New",color:"bg-[#FFD1CE] text-[#b32d36]"},rating:4.4,ratingCount:"4,849 ratings",duration:"2 Months",language:"Urdu / Hindi (On-site in Pakistan)"},{id:"social-media-marketing",image:"/courses/social%20media%20marketing.jpg",title:"Social Media Marketing Mastery 2026: From Zero to Hero",excerpt:"Master social media marketing across Facebook, Instagram, and TikTok.",price:"Rs. 20,000",badge:{label:"Premium",color:"bg-[#5022C3] text-white"},rating:4.5,ratingCount:"2,540 ratings",duration:"40 Days",language:"Urdu / Hindi (On-site in Pakistan)"},{id:"english-speaking-mastery",image:"/courses/english%20speaking%20course.jpg",title:"English Speaking Mastery 2026: From Beginner to Fluent",excerpt:"Become a confident English speaker with this practical, on-site program.",price:"Rs. 15,000",badge:{label:"Best One",color:"bg-[#0d9c06] text-white"},rating:4.5,ratingCount:"3,240 ratings",duration:"40 Days",language:"Urdu / English (On-site in Pakistan)"}],Sh=[{id:"skin-care",image:"/courses/skin%20care%20course.jpg",title:"Skin Care Formulation: Complete Guide to Creating Skincare Products",excerpt:"Master the science of Skincare Formulation! This comprehensive online course teaches you the complete process of creating your own safe, stable, and effective cosmetics, from beginner basics to advanced anti-aging serums.",price:"Rs. 13,000",badge:{label:"Premium  Online",color:"bg-[#5022C3] text-white"},rating:4.7,ratingCount:"1,420 ratings",language:"Urdu / Hindi (Online)",whatYouWillLearn:["Build a complete skincare brand from concept to launch","Use for formulation, testing, and packaging","Understand regulations, safety, and long-term brand scaling"],includes:["Lifetime access to all recorded video lectures (HD Quality)","Downloadable professional formula templates and batch records","Curated list of trusted Asian-region ingredient suppliers","Hands-on practical assignments and stability testing guides","Official Certificate of Completion (Digital)"],fullDescription:["This comprehensive online course is the ultimate guide to cosmetic formulation, designed for aspiring entrepreneurs and enthusiasts across Asia. You will move past simple DIY recipes and master the professional principles of cosmetic chemistry, allowing you to create customized, market-ready skincare products. The curriculum includes detailed modules on ingredient functionality, preservation systems, stability testing, and the specific needs of diverse Asian skin types, ensuring your formulations are not only effective but also safe and professional.","The course emphasizes practical application, providing step-by-step guidance on creating everything from hydrating toners and anti-aging serums to stable face creams, all while adhering to industry-standard safety and quality controls (GMP)."],requirements:["A basic understanding of English (The language of instruction is simple English).","Stable internet access to view video content.","A digital scale (preferably $0.01	ext{g}$ precision) for accurate weighing.","Willingness to complete hands-on formulation exercises."]},{id:"english-online",image:"/courses/english%20speaking%20course.jpg",title:"English Speaking (Online): From Shy to Confident in few days",excerpt:"Join online English speaking classes focused on real conversations, confidence-building and practical communication for Pakistani students and professionals.",price:"Rs. 5,000",badge:{label:"Online  Live Speaking Practice",color:"bg-[#FFD1CE] text-[#b32d36]"},rating:4.5,ratingCount:"2,050 ratings",language:"Urdu / English (Online)",whatYouWillLearn:["Speak English more confidently in everyday situations","Improve grammar, sentence structure and vocabulary in a natural way","Practice real conversations for interviews, meetings and presentations","Remove fear of speaking English through guided live practice"],includes:["Online live speaking sessions","Practice groups and role-plays","Worksheets and vocabulary lists","Certificate of completion from Spark Trainings"],fullDescription:["English Speaking (Online) is a live, highly practical course designed for Pakistani learners who understand English but hesitate to speak.","The focus is not on complicated grammar theory, but on real speaking practice through conversations, role-plays and daily life scenarios.","You will speak in almost every class, get corrections, build confidence and develop a natural flow while talking in English in front of others."],requirements:["Basic English reading comprehension","Smartphone or laptop with internet","Headphones and mic for online classes","Willingness to speak and participate actively"]},{id:"ppsc",image:"/courses/ppsc%20course.jpg",title:"PPSC Preparation: The Complete Competitive Exam Preparation Course",excerpt:"Master the art of competitive exam preparation with our comprehensive online course designed for Pakistani students and professionals.",price:"Rs. 4,000",badge:{label:"Online  Beginner Friendly",color:"bg-[#5022C3] text-white"},rating:4.6,ratingCount:"980 ratings",language:"Urdu / Hindi (Online)",whatYouWillLearn:["Master the art of competitive exam preparation","Understand the structure and format of competitive exams","Learn effective study strategies and time management techniques","Develop a strong foundation in core subjects","Improve your English language skills for competitive exams"],includes:["Online live sessions with instructor","Practice tests and mock exams","Study materials and resources","Certificate of completion from Spark Trainings"],fullDescription:["Welcome to the ultimate PPSC Preparation Masterclass, designed to give you the competitive edge needed to secure a high-ranking position in the Punjab government services.","This is not just a syllabus overview; it's a strategic study program. Our course is meticulously structured to cover the entire PPSC curriculum, focusing on both the objective (MCQs) and subjective (Descriptive) parts of the examination.","All classes are conducted online so you can join from any city. Youll also receive assignments to implement each step directly in your own store as you learn.","What makes this course stand out?","-> Targeted Content: Deep dives into Pakistan Affairs and Current Affairs (National and Global), which are critical scoring areas.","-> Skill Development: Dedicated modules for improving your English Essay and Precis Writingoften the papers that determine selection.","-> Comprehensive Coverage: In-depth study of all core subjects, including Pakistan Studies, Islamiat, Urdu, and English.","-> Interview Focus: Practical guidance and mock sessions to prepare you for the final hurdle: the PPSC Interview."]}],ej=({autoFocus:t=!1})=>{const[e,n]=j.useState(""),[r,i]=j.useState([]),[o,c]=j.useState(!1),u=zr(),f=j.useRef(null),h=[...es.map(x=>({...x,type:"onsite"})),...Sh.map(x=>({...x,type:"online"}))];j.useEffect(()=>{if(e.trim().length>1){const x=h.filter(b=>b.title.toLowerCase().includes(e.toLowerCase())||b.excerpt?.toLowerCase().includes(e.toLowerCase())).slice(0,6);i(x),c(!0)}else i([]),c(!1)},[e]),j.useEffect(()=>{const x=b=>{f.current&&!f.current.contains(b.target)&&c(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const p=x=>{x.preventDefault(),e.trim()&&(r.length>0?g(r[0]):u("/courses"))},g=x=>{const b=x.type==="online"?`/online-course/${x.id}`:`/course/${x.id}`;u(b),c(!1),n("")};return s.jsxs("div",{className:"relative w-full md:w-[520px]",ref:f,children:[s.jsxs("form",{onSubmit:p,className:`
          group bg-white flex px-1 py-1 
          rounded-md border border-slate-300
          transition-all duration-300 overflow-hidden w-full 
          focus-within:border-[#0d9c06] focus-within:ring-2 focus-within:ring-[#0d9c06]/10
        `,children:[s.jsx("div",{className:"flex items-center pl-3 text-slate-400",children:s.jsx(Di,{className:"w-5 h-5"})}),s.jsx("input",{autoFocus:t,type:"text",placeholder:"What do you want to learn?",className:"no-default-styles w-full outline-none bg-white px-3 py-2 text-sm text-slate-700 placeholder:text-slate-400 border-0! hover:border-0! focus:border-0! active:border-0!",value:e,onChange:x=>n(x.target.value),onFocus:()=>e.length>1&&c(!0)}),e&&s.jsx("button",{type:"button",onClick:()=>n(""),className:"p-2 text-slate-400 hover:text-slate-600 transition-colors",children:s.jsx(ot,{size:16})}),s.jsx("button",{type:"submit",className:`
            bg-[#0d9c06] hover:bg-[#0b7e05]
            cursor-pointer transition-all 
            text-white text-sm font-semibold rounded-md
            px-5 flex items-center justify-center
          `,children:"Search"})]}),o&&r.length>0&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-md shadow-2xl border border-slate-100 overflow-hidden z-100 animate-in fade-in slide-in-from-top-2 duration-200",children:[s.jsxs("div",{className:"p-3 bg-slate-50 border-b border-slate-100 flex items-center justify-between",children:[s.jsx("span",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-wider",children:"Top Results"}),s.jsxs("span",{className:"text-[11px] text-[#0d9c06] font-medium",children:[r.length," found"]})]}),s.jsx("div",{className:"max-h-[380px] overflow-y-auto",children:r.map(x=>s.jsxs("button",{onClick:()=>g(x),className:"w-full flex items-start gap-4 p-4 hover:bg-slate-50 transition-colors border-b border-slate-50 last:border-0 text-left group",children:[s.jsx("div",{className:"w-16 h-12 rounded-md bg-slate-100 overflow-hidden shrink-0 border border-slate-200",children:s.jsx("img",{src:x.image,alt:"",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:b=>{b.target.src="https://via.placeholder.com/64x48?text=LS"}})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-bold text-slate-800 line-clamp-1 group-hover:text-[#0d9c06] transition-colors",children:x.title}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 text-[11px] text-slate-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(bn,{size:12}),x.type==="online"?"Online":"Onsite"]}),x.duration&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Qu,{size:12}),x.duration]}),s.jsx("span",{className:"font-bold text-[#0d9c06]",children:x.price})]})]})]},`${x.type}-${x.id}`))}),s.jsx(Pe,{to:"/courses",onClick:()=>c(!1),className:"block p-3 bg-slate-50 text-center text-xs font-bold text-slate-600 hover:text-[#0d9c06] transition-colors",children:"View all courses"})]}),o&&r.length===0&&e.trim().length>1&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-md shadow-2xl border border-slate-100 p-8 text-center z-100",children:[s.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Di,{className:"text-slate-300"})}),s.jsxs("h4",{className:"text-sm font-bold text-slate-800",children:['No results found for "',e,'"']}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Try checking your spelling or use more general terms"})]})]})},yZ=()=>{const[t,e]=j.useState(!1),[n,r]=j.useState(!1),[i,o]=j.useState(null);return j.useEffect(()=>{const c=$n.onAuthStateChanged(u=>{o(u)});return()=>c()},[]),j.useEffect(()=>{const c=u=>{u.key==="Escape"&&(e(!1),r(!1))};return(t||n)&&document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[t,n]),s.jsx("div",{className:"sticky top-0 z-50 bg-white",children:s.jsxs("div",{className:"relative border-b border-gray-200 shadow-[0_2px_4px_rgba(0,0,0,0.08)]",children:[s.jsxs("div",{className:"w-full max-w-[1440px] mx-auto px-4 p-3 flex items-center justify-between relative",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"md:hidden",children:s.jsx("button",{"aria-expanded":t,"aria-label":t?"Close menu":"Open menu",onClick:()=>e(c=>!c),className:"p-2 rounded-md text-black hover:bg-gray-100 cursor-pointer",children:t?s.jsx(ot,{size:20}):s.jsx(mN,{size:20})})}),s.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[s.jsx(JT,{}),s.jsx("div",{className:"hidden sm:flex",children:s.jsx(Pe,{to:"/courses",className:"text-black text-[14px] flex items-center cursor-pointer",children:"Explore"})}),s.jsx("div",{className:"hidden md:block",children:s.jsx(ej,{})})]})]}),s.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 md:static md:transform-none",children:s.jsx("div",{className:"md:hidden",children:s.jsx(JT,{})})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"hidden md:flex items-center",children:s.jsx(gZ,{})}),s.jsx("div",{className:"md:hidden flex items-center gap-2",children:s.jsx("button",{className:"p-2 rounded-md text-gray-700 hover:bg-gray-100","aria-label":"Open search",onClick:()=>{r(c=>!c),e(!1)},children:s.jsx(Di,{})})})]})]}),s.jsx("div",{className:`md:hidden fixed inset-0 bg-white bg-opacity-40 transition-opacity duration-300 z-100 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:()=>e(!1),"aria-hidden":!t}),s.jsx("div",{className:`md:hidden fixed inset-0 bg-white bg-opacity-40 transition-opacity duration-200 z-110 ${n?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:()=>r(!1),"aria-hidden":!n}),n&&s.jsx("button",{onClick:c=>{c.stopPropagation(),r(!1)},"aria-label":"Close mobile search",className:"md:hidden fixed top-4 right-4 z-110 p-2 bg-white rounded-full shadow-lg text-gray-700 animate-[scale-in_0.2s_ease-out]",children:s.jsx(ot,{size:20})}),t&&s.jsx("button",{onClick:c=>{c.stopPropagation(),e(!1)},"aria-label":"Close mobile menu",className:"md:hidden fixed top-4 left-4 z-110 p-2 bg-white rounded-full shadow-lg text-gray-700",children:s.jsx(ot,{size:20})}),s.jsx("div",{className:`md:hidden absolute left-0 right-0 top-full bg-white border-t border-gray-200 transform transition-all duration-300 z-100 ${t?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-2 pointer-events-none"}`,children:s.jsx("div",{className:"w-full px-4 pb-4 pt-3",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(Pe,{to:"/",className:"block text-gray-700 py-2 cursor-pointer",onClick:()=>e(!1),children:"Home"}),s.jsx(Pe,{to:"/courses",className:"block text-gray-700 py-2 cursor-pointer",onClick:()=>e(!1),children:"Courses"}),s.jsx(Pe,{to:"/about",className:"block text-gray-700 py-2 cursor-pointer",onClick:()=>e(!1),children:"About Us"}),s.jsx(Pe,{to:"/gallery",className:"block text-gray-700 py-2 cursor-pointer",onClick:()=>e(!1),children:"Gallery"}),s.jsx(Pe,{to:"/contact",className:"block text-gray-700 py-2 cursor-pointer",onClick:()=>e(!1),children:"Contact Us"}),i&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-t border-gray-200 my-2"}),s.jsxs(Pe,{to:"/student/dashboard",className:"flex items-center gap-2 text-[#0d9c06] font-semibold py-2 cursor-pointer",onClick:()=>e(!1),children:[s.jsx(bn,{size:18}),"My Learning"]}),s.jsx(Pe,{to:"/student/profile",className:"block text-gray-700 py-2 cursor-pointer",onClick:()=>e(!1),children:"Profile"})]}),!i&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-t border-gray-200 my-2"}),s.jsx(Pe,{to:"/login",className:"block bg-[#0d9c06] text-white text-center py-2 rounded-md cursor-pointer",onClick:()=>e(!1),children:"Login"}),s.jsx(Pe,{to:"/register",className:"block bg-white border-2 border-[#0d9c06] text-[#0d9c06] text-center py-2 rounded-md cursor-pointer",onClick:()=>e(!1),children:"Sign Up"})]})]})})}),s.jsx("div",{className:`md:hidden absolute left-0 right-0 top-full bg-white border-t border-gray-200 transform transition-all duration-200 z-120 ${n?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-2 pointer-events-none"}`,children:s.jsx("div",{className:"w-full px-4 pb-4 pt-3",children:s.jsxs("div",{className:"relative",children:[s.jsx(ej,{autoFocus:!0}),s.jsx("button",{onClick:c=>{c.stopPropagation(),r(!1)},"aria-label":"Close mobile search",className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 rounded-full hover:bg-gray-100 text-gray-500",children:s.jsx(ot,{size:18})})]})})})]})})},tj="/assets/Spark-ZxGbovko.png",Uf="relative hover:underline ";function xZ(){return s.jsx("footer",{className:"bg-[#202230] text-white",children:s.jsxs("div",{className:"mx-auto max-w-[1440px] px-4 sm:px-6 lg:px-8 py-10 sm:py-12 lg:py-8",children:[s.jsxs("div",{className:"grid gap-8 sm:gap-10 grid-cols-1 xs:grid-cols-2 md:grid-cols-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-[16px] font-semibold",children:"Quick Links"}),s.jsxs("div",{className:"mt-3 space-y-2 text-sm text-slate-300 flex flex-col w-fit",children:[s.jsx(Pe,{to:"/",className:Uf,children:"Home"}),s.jsx(Pe,{to:"/courses",className:Uf,children:"Courses"}),s.jsx(Pe,{to:"/about",className:Uf,children:"About Us"}),s.jsx(Pe,{to:"/gallery",className:Uf,children:"Gallery"}),s.jsx(Pe,{to:"/contact",className:Uf,children:"Contact Us"})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-[16px] font-semibold",children:"Courses"}),s.jsxs("div",{className:"mt-3 space-y-2 text-sm text-slate-300 flex flex-col w-fit",children:[s.jsx(Pe,{to:`/course/${es[0].id}`,className:"hover:underline underline-offset-2 decoration-current focus-visible:underline cursor-pointer",children:"Web Development"}),s.jsx(Pe,{to:`/course/${es[1].id}`,className:"hover:underline underline-offset-2 decoration-current focus-visible:underline cursor-pointer",children:"Graphic Design"}),s.jsx(Pe,{to:`/course/${es[2].id}`,className:"hover:underline underline-offset-2 decoration-current focus-visible:underline cursor-pointer",children:"Video Editing"}),s.jsx(Pe,{to:`/course/${es[5].id}`,className:"hover:underline underline-offset-2 decoration-current focus-visible:underline cursor-pointer",children:"Shopify + Meta Ads"}),s.jsx(Pe,{to:`/course/${es[4].id}`,className:"hover:underline underline-offset-2 decoration-current focus-visible:underline cursor-pointer",children:"YouTube Automation"})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-[16px] font-semibold",children:"Legal Links"}),s.jsxs("div",{className:"mt-3 space-y-2 text-sm text-slate-300 flex flex-col w-fit",children:[s.jsx(Pe,{to:"/privacypolicy",className:"hover:underline underline-offset-2 decoration-current focus-visible:underline cursor-pointer",children:"Privacy Policy"}),s.jsx(Pe,{to:"/termsandconditions",className:"hover:underline underline-offset-2 decoration-current focus-visible:underline cursor-pointer",children:"Terms and Conditions"}),s.jsx(Pe,{to:"/cookiepolicy",className:"hover:underline underline-offset-2 decoration-current focus-visible:underline cursor-pointer",children:"Cookie Policy"})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-[16px] font-semibold",children:"Contact Us"}),s.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-slate-300",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold text-white",children:"Email:"})," ","contact@sparktrainings.com"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold text-white",children:"Phone:"})," ","+92 303 6811 487"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold text-white",children:"Address:"})," ","51/G1 College Road, Chishtian"]})]})]})]}),s.jsxs("div",{className:"mt-10 border-t border-white/10 pt-6 flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 md:flex-row flex-col",children:[s.jsx("img",{src:tj,alt:"Spark Trainings",className:"w-24 h-auto"}),s.jsx("p",{className:"text-xs sm:text-sm text-slate-300",children:" 2026 Spark Trainings. All rights reserved."}),s.jsxs("p",{className:"text-xs sm:text-sm text-slate-300",children:["Powered by ",s.jsx("a",{href:"https://kbcreatives.pk",className:"underline cursor-pointer",children:"KB Creatives"}),"."]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-x-5 gap-y-2 text-xs sm:text-sm text-slate-300",children:[s.jsx(Pe,{to:"/accessibility",className:"hover:underline underline-offset-2 decoration-current focus-visible:underline cursor-pointer",children:"Accessibility"})," ",s.jsx(rF,{size:25}),s.jsx(Pe,{to:"/contact",className:"hover:underline underline-offset-2 decoration-current focus-visible:underline cursor-pointer",children:"Help & Support"})]})]})]})})}function vZ(){const{pathname:t}=ca();return j.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const s3=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",o3="https://spark-lms-backend.vercel.app",bZ=[4001,4e3,3001,3e3,5e3];let qu=s3?"http://localhost:4001":o3;async function wZ(){if(!s3)return o3;const t=localStorage.getItem("api_url");if(t)try{if((await fetch(`${t}/api/health`,{method:"GET",signal:AbortSignal.timeout(2e3)})).ok)return console.log(" Using cached API URL:",t),qu=t,t}catch{console.warn(" Cached API URL not responding, trying alternatives..."),localStorage.removeItem("api_url")}for(const e of bZ){const n=`http://localhost:${e}`;try{if(console.log(` Trying ${n}...`),(await fetch(`${n}/api/health`,{method:"GET",signal:AbortSignal.timeout(2e3)})).ok)return localStorage.setItem("api_url",n),console.log(` Server found at ${n}`),qu=n,n}catch{continue}}return console.error(" Could not detect API server on any port!"),qu="http://localhost:4001",qu}const h2=wZ();h2.then(t=>{qu=t});async function ze(t,e={}){const r=`${await h2}${t}`;try{return await fetch(r,e)}catch(i){throw console.error(" API Request failed:",i.message),i}}const ad={get apiUrl(){return qu}};function jZ(){const[t,e]=j.useState("Detecting..."),[n,r]=j.useState("loading");if(j.useEffect(()=>{async function c(){try{const u=await h2;e(u),r("connected")}catch{e("Not connected"),r("error")}}c()},[]),window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1")return null;const i={loading:"bg-yellow-500",connected:"bg-green-500",error:"bg-red-500"},o={loading:"Detecting API...",connected:`Connected: ${t}`,error:"API Not Connected"};return s.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:s.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-md shadow-lg px-4 py-2 flex items-center gap-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${i[n]} ${n==="loading"?"animate-pulse":""}`}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-gray-700",children:o[n]}),n==="error"&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Check if server is running"})]})]})})}function NZ(){return s.jsxs("div",{className:"w-full overflow-hidden",children:[s.jsx(vZ,{}),s.jsx(yZ,{}),s.jsx(cN,{}),"   ",s.jsx(xZ,{}),s.jsx(jZ,{})]})}const qk="/assets/Home%20Banner-CPpXReXO.webp",_Z="/assets/Home%20Banner%20Mobile-VT_AI_jP.jpg",SZ=({mobile:t,desktop:e})=>{const[n,r]=j.useState(e||qk);return j.useEffect(()=>{const i=()=>{window.innerWidth<640?r(t||_Z):r(e||qk)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[t,e]),s.jsx("div",{className:"w-full mx-auto max-w-[1440px]",children:s.jsx("div",{className:`
          h-[250px] sm:h-80 lg:h-[420px] 
          w-full 
          bg-cover bg-center bg-no-repeat 
          overflow-hidden
        `,style:{backgroundImage:`url(${n})`}})})},EZ="/assets/course2-Cf2vPZ5S.jpg",AZ="/assets/Courses4-DvXPutJy.jpg",TZ=[{id:1,title:"Onsite Courses",learners:"1.7M+",img:EZ,href:"/onsite-courses"},{id:2,title:"Online Courses",learners:"14M+",img:AZ,href:"/online-courses"}];function CZ({card:t}){return s.jsx("div",{children:s.jsxs(Pe,{to:t.href,className:"block relative group h-80 sm:h-[360px] md:h-[420px] rounded-[15px] overflow-hidden ring-1 ring-slate-900/10 bg-slate-100 cursor-pointer",children:[s.jsx("img",{src:t.img,alt:t.title,className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-linear-to-b from-transparent to-black/10"}),s.jsx("div",{className:"absolute inset-x-4 bottom-4 sm:bottom-6",children:s.jsxs("div",{className:"block rounded-md bg-white/95 p-4 sm:p-5 shadow-lg ring-1 ring-slate-200 hover:shadow-xl transition",children:[s.jsxs("div",{className:"mb-2 inline-flex items-center gap-2 rounded-full bg-white px-2.5 py-1 text-xs font-medium text-slate-700 ring-1 ring-slate-900/10",children:[s.jsx(vl,{className:"h-4 w-4"})," ",t.learners]}),s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-slate-900",children:t.title}),s.jsx(qh,{className:"h-5 w-5 text-slate-700 group-hover:translate-x-1 transition-transform"})]})]})})]})})}function kZ(){return s.jsx("section",{className:"px-4 py-12 lg:py-16 w-full",children:s.jsxs("div",{className:"grid lg:grid-cols-[1fr_1.8fr] gap-12 justify-between items-center max-w-[1440px] mx-auto",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"font-semibold text-3xl lg:text-[32px] leading-tight",children:["Learn essential ",s.jsx("br",{})," career and life skills"]}),s.jsx("p",{className:"mt-3 text-[#595C73] text-base lg:text-[15px] max-w-md",children:"Spark Trainings helps you build in-demand skills fast and advance your career in a constantly changing job market."}),s.jsxs(Pe,{to:"/courses",className:"inline-flex mt-6 items-center justify-center gap-2 rounded-md bg-[#0d9c06] px-6 py-3 text-sm font-semibold text-white hover:bg-[#11c50a] cursor-pointer",children:["Explore all courses",s.jsx(qh,{className:"h-4 w-4"})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5 lg:gap-6",children:TZ.map(t=>s.jsx(CZ,{card:t},t.id))})]})})}const IZ="/assets/About%20Us%20Img-DmqUA-Cd.png";function OZ(){return s.jsx("div",{className:"mx-auto w-full px-4",children:s.jsx("div",{className:`
        bg-green-950 rounded-[18px]
        p-6 sm:p-8 lg:p-11
        mt-1.5 sm:mt-12 lg:mt-[50px]
        mb-8 lg:mb-20
      `,children:s.jsxs("div",{className:`
          grid items-center gap-6 sm:gap-8 lg:gap-10
          grid-cols-1 lg:grid-cols-[minmax(0,0.9fr)_minmax(0,1.3fr)]
        `,children:[s.jsx("div",{className:"order-1 lg:order-2 w-full flex justify-center lg:justify-end",children:s.jsx("img",{src:IZ,alt:"AI career hero",className:`
                w-full max-w-[520px] sm:max-w-[620px] lg:max-w-[700px]
                h-auto object-contain
              `,loading:"lazy"})}),s.jsxs("div",{className:"order-2 lg:order-1 w-full text-left flex flex-col gap-4",children:[s.jsx("h1",{className:`font-semibold text-white
              text-2xl sm:text-3xl lg:text-[46px]
              leading-tight lg:leading-10
            `,children:"Reimagine your career in the AI era"}),s.jsx("p",{className:`text-[#D1D2E0]
              text-sm sm:text-base lg:text-[15px]
            `,children:"Future-proof your skills with Spark Trainings. Learn in-demand digital skills through practical, on-site classes designed for international markets. Get expert guidance, real-world projects, and hands-on learning from industry professionals."}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-x-12 gap-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"bg-purple-200 rounded-full p-1 grid place-items-center",children:s.jsx(Ja,{size:16,className:"text-green-950"})}),s.jsx("span",{className:"text-white text-[15px]",children:"Learn AI and more"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"bg-amber-200 rounded-full p-1 grid place-items-center",children:s.jsx(pN,{size:16,className:"text-green-950"})}),s.jsx("span",{className:"text-white text-[15px]",children:"Prep for a certification"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"bg-green-200 rounded-full p-1 grid place-items-center",children:s.jsx(hi,{size:16,className:"text-green-950"})}),s.jsx("span",{className:"text-white text-[15px]",children:"Practice with AI coaching"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"bg-blue-300 rounded-full p-1 grid place-items-center",children:s.jsx(CF,{size:16,className:"text-green-950"})}),s.jsx("span",{className:"text-white text-[15px]",children:"Advance your career"})]})]}),s.jsx("div",{className:"mt-5 sm:mt-6",children:s.jsx(Pe,{to:"/about",className:"bg-white text-green-950 px-6 sm:px-8 lg:px-10 py-2.5 lg:py-3 rounded-md hover:bg-gray-200 cursor-pointer",children:"Learn More"})})]})]})})})}function l3(){return s.jsxs("div",{className:"block rounded-md ring-1 ring-slate-200 bg-white overflow-hidden h-full animate-pulse",children:[s.jsx("div",{className:"p-3 pb-0",children:s.jsx("div",{className:"overflow-hidden rounded-md h-48 bg-gray-200"})}),s.jsxs("div",{className:"px-4 pt-3 pb-4 space-y-3",children:[s.jsx("div",{className:"h-5 w-24 bg-gray-200 rounded-full"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-5 bg-gray-200 rounded w-full"}),s.jsx("div",{className:"h-5 bg-gray-200 rounded w-3/4"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-100 rounded w-full"}),s.jsx("div",{className:"h-4 bg-gray-100 rounded w-5/6"})]}),s.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"h-6 bg-gray-100 rounded w-16"}),s.jsx("div",{className:"h-6 bg-gray-100 rounded w-24"}),s.jsx("div",{className:"h-6 bg-gray-100 rounded w-20"})]})]})]})}function c3(){return s.jsxs("div",{className:"bg-[#f7f9fa] pb-16 animate-pulse",children:[s.jsx("section",{className:"bg-[#1c1d1f] text-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-10",children:[s.jsx("div",{className:"h-8 bg-gray-700 rounded w-3/4 mb-3"}),s.jsx("div",{className:"h-4 bg-gray-700 rounded w-full max-w-3xl mb-3"}),s.jsx("div",{className:"h-4 bg-gray-700 rounded w-48 mb-4"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"h-5 bg-gray-700 rounded w-24"}),s.jsx("div",{className:"h-5 bg-gray-700 rounded w-32"}),s.jsx("div",{className:"h-5 bg-gray-700 rounded w-28"})]})]})}),s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 mt-8 flex flex-col lg:flex-row gap-8",children:[s.jsxs("div",{className:"flex-1 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-md shadow-sm p-6",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 mb-4"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[1,2,3,4].map(t=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"h-6 w-6 bg-gray-200 rounded-full"}),s.jsx("div",{className:"h-5 bg-gray-100 rounded flex-1"})]},t))})]}),s.jsxs("div",{className:"bg-white rounded-md shadow-sm p-6 space-y-3",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 mb-3"}),s.jsx("div",{className:"h-4 bg-gray-100 rounded w-full"}),s.jsx("div",{className:"h-4 bg-gray-100 rounded w-full"}),s.jsx("div",{className:"h-4 bg-gray-100 rounded w-3/4"})]})]}),s.jsx("aside",{className:"w-full lg:w-80 cursor-pointer",children:s.jsxs("div",{className:"bg-white rounded-md shadow-sm overflow-hidden",children:[s.jsx("div",{className:"w-full aspect-video bg-gray-200"}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-24"}),s.jsx("div",{className:"h-10 bg-gray-200 rounded w-full"})]})]})})]})]})}function u3(){return s.jsx("div",{className:"absolute inset-0 flex items-start justify-center pt-64 z-10",children:s.jsx("div",{className:"bg-white/90 p-4 rounded-full shadow-xl backdrop-blur-sm border border-gray-100",children:s.jsx(e0,{className:"animate-spin text-[#0d9c06]",size:32})})})}function RZ(){return s.jsxs("div",{className:"animate-pulse relative min-h-screen",children:[s.jsx(u3,{}),s.jsxs("div",{className:"mb-6 opacity-50",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-2"}),s.jsx("div",{className:"h-4 bg-gray-100 rounded w-64"})]}),s.jsx("div",{className:"mb-6 h-10 bg-gray-100 rounded-md opacity-50 w-full max-w-md"}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-md shadow-sm overflow-hidden opacity-50",children:[s.jsx("div",{className:"h-12 bg-gray-50 border-b border-gray-200"}),[1,2,3,4,5,6].map(t=>s.jsxs("div",{className:"h-20 border-b border-gray-100 bg-white p-4 flex items-center gap-4",children:[s.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),s.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/3"})]}),s.jsx("div",{className:"h-8 w-20 bg-gray-100 rounded"})]},t))]})]})}function m2({hideHeading:t=!1}){const[e,n]=j.useState(()=>{const o=localStorage.getItem("onsite_courses_cache");if(o){const{data:c,timestamp:u}=JSON.parse(o);if(Date.now()-u<3e5)return c}return es}),[r,i]=j.useState(!1);return j.useEffect(()=>{async function o(){try{const u=new Date().getTime(),h=await(await ze(`/api/courses/onsite?t=${u}`)).json();h.ok&&h.courses&&(n(h.courses),localStorage.setItem("onsite_courses_cache",JSON.stringify({data:h.courses,timestamp:Date.now()})))}catch(u){console.error("CoursesTab: Error fetching dynamic courses:",u)}finally{i(!1)}}const c=localStorage.getItem("onsite_courses_cache");if(!c||e.length===0)o();else{const{timestamp:u}=JSON.parse(c);Date.now()-u>=300*1e3&&o()}},[]),s.jsx("section",{className:"w-full",children:s.jsxs("div",{className:"mx-auto max-w-[1440px] px-4 sm:px-6 lg:px-8 py-2 mt-8 lg:mt-18",children:[!t&&s.jsxs("div",{className:"max-w-3xl",children:[s.jsx("h2",{className:"font-semibold text-2xl sm:text-3xl lg:text-[32px] leading-tight lg:leading-10",children:"Transform Your Future in Our Classrooms"}),s.jsx("p",{className:"mt-2 text-[15px] sm:text-base text-slate-600",children:"From critical skills to technical topics, Spark Trainings supports your professional development."})]}),s.jsx("div",{className:"mt-6 lg:mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-5 lg:gap-6",children:r?Array.from({length:6}).map((o,c)=>s.jsx(l3,{},c)):e.map(o=>s.jsx(PZ,{c:o},o.id))})]})})}function PZ({c:t}){return s.jsxs(Pe,{to:`/course/${t.slug||t.id}`,className:"block rounded-[15px] ring-1 ring-slate-200 bg-white hover:shadow-[0_10px_30px_rgba(2,6,23,0.08)] transition-shadow overflow-hidden group h-full cursor-pointer",children:[s.jsx("div",{className:"p-3 pb-0",children:s.jsx("div",{className:"overflow-hidden rounded-[15px] h-full bg-gray-100",children:s.jsx("img",{src:t.image?.startsWith("http")?t.image:t.image?.startsWith("/uploads")?`https://spark-lms-backend.vercel.app${t.image}`:t.image,alt:t.title,className:"h-full w-full object-cover",onError:e=>{e.target.src="https://via.placeholder.com/300x200?text=No+Image"}})})}),s.jsxs("div",{className:"px-4 pt-3 pb-4",children:[t.badge&&s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-[11px] font-bold mb-2 ${typeof t.badge=="string"?"bg-gray-100 text-gray-800":t.badge.color}`,children:[(typeof t.badge=="object"?t.badge.label:t.badge).includes("Premium")&&s.jsx(z4,{size:15,className:"stroke-[3px]"}),(typeof t.badge=="object"?t.badge.label:t.badge).includes("Hot")&&s.jsx(F4,{size:15,className:"fill-current"}),(typeof t.badge=="object"?t.badge.label:t.badge).includes("Best")&&s.jsx(pN,{size:14,className:"fill-current"}),(typeof t.badge=="object"?t.badge.label:t.badge).includes("Beginner")&&s.jsx(W4,{size:14,className:"stroke-[3px]"}),typeof t.badge=="object"?t.badge.label:t.badge]}),s.jsx("h3",{className:"text-[18px] font-semibold text-slate-900 leading-snug line-clamp-2 group-hover:underline",children:t.title}),s.jsx("p",{className:"mt-1 text-sm text-slate-500 line-clamp-2",children:t.excerpt}),s.jsx("h4",{className:"mt-1 text-[20px] text-slate-700 font-semibold",children:t.price}),s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 text-[13px] text-slate-700",children:[s.jsx(Kh,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),t.rating||4.5]}),s.jsx("span",{className:"text-[12px] text-slate-500 ring-1 ring-slate-200 px-2 py-0.5 rounded-md",children:t.ratingCount||"0 ratings"}),s.jsx("span",{className:"text-[12px] text-slate-500 ring-1 ring-slate-200 px-2 py-0.5 rounded-md",children:t.duration||"Self-paced"})]})]})]})}const DZ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHUAAABtCAYAAACfgS5KAAAACXBIWXMAAAsSAAALEgHS3X78AAAKnklEQVR4nO2dX3BVxR3HNyEkkH8kQYXSEbXlRcZUeGop4FT7gLRFx9IHoDO2ahk7ZYYaHkzB2odaofRBHGfoH6nD1NbCQx2mpi31gUErtvaJKMr0ITVop50gQi4kCCEROp+99xdPzt1zc+495+Scu3e/M3du7rl7dn+7393fv91zUzfSt6hDKbVMOdiCXEOB0KOOUmvwan2tj4CNcKRaCEeqhXCkWghHqoVwpFoIR6qFcKRaCEeqhXCkWoiGtLp0/uJV9fCenH4Pgy33tqqvfWFOUcm33h1XvfvOJybnvJZ69bnPzFY3LZil2+dz1pEaqZDx539eDl9+MKf+e3Bh0fWV3z8Ts2TF8Mr5zS83qx2b2tTiG2Yl3m6lqBr1eyHkik4aLxz5SK3Yekbt/ePFTMhjgrOpFYAJ9oNfn1fffTqXSfkcqRHAqs0isY7UiIDYP70R3jeYCThSY8DDT4f34mcCjtQYgI3NkuPkSI0JqOGswJEaE97/4GMde2cBjtQY8dqJK5mQI7WMUpZAdohM0eruRr3i3jv98aR05WS+suIs1TSp7S316meb2zWhJmAn976U3cxREGqW1O5bZqtfPtKhk/UmsEnw8yokVNUqqatua1QHf9hl3HFBha7dfladGMyG01MJas5R+t49LerwruuMhL52YkwtfeiDigkNWvUzjZpZqdPZT5IHJOmjAEcrC6gJUkvZT9msL2dv14Svfj47G+jWk8pg/6qnwzjghCvsssRhP7fc2xK5jrhgNanbN7bpUwomEK48uu9CLJvvTJzV3U3RBY4JVpKK/Tz4WGfgQMcZrtAWmiBLsI5U7CfhiukMEfZzw0/OqWNvx5POg9DDO+dn7jCaVaTi2eIQmYD9XLvjbGxnnZg0Bx7rykwY44U1pEJmkuGKF8S62OqsHhetelJLrRjUbe++C7HsddIO5345f5zl46HKBlLfeW6B8Xqc4Yoq7Jf+7sglvYOzbsWcQK2QBVibJtz45LnY87fYY5IUTJZPbxhSO38/Emv9caHqSQ06bfD3Z67XnnBSgOBdB0bUF7eeycyJB0HVk8pjF6aztzgxEItTkyTQBnjV7oxSzGBAWTGmkwe7N8/TnnF7gp4qq5aJxS5PFmCNTWXFsG1mUoU4NSQJklTHYMOTw9qhShtWOUqsGNSxSRUS8hzeNV/naZNs/9Fnk3usMiys9H5RhUF2lhTiT78zL7G28Y7TVsPWhjSl7CzbZH/ZOT8xO/vCkUuJ1BsWVh9nKWVn2cE5+dwNidjZvpQfmLL+jFIpOythT9zZIdpMUwXXzMGzIDurCpsBcYc9b707EVtd5aKmThOyWtdu/9BoZyXsiStZn+Zp/Zo7IsoGeVBqj7AHdZxk2DMTqMkHpEgQBKX2JOzhfFO1omafepPUXtBOC5vgSYY9SaLmH2VkpwU7y6r128GbFjToA+CVEJvmMZeq2iRvW/e/ROrFzsZ1GE2Q5mn9ml+pSSDt0/qO1ASQ9ml9R2rM4DHJtE/rO1JjRP60fmfqcjhSYwSechaOjzpSY0Kpw+QzDffrLBGhVe4jHcYfmE4LjtQIYGXu3tzuHpASVMPPlpvApjqJhSw/fpEaqaTRyK1WE5DZ/Yb+NMjS09c2wXm/FsKRaiEcqRbCkWohHKkWwpFqIRypFsKRaiFiTT7s/+tH6uibY+r4wCfnfZYvaVQ961vV8iXZ+72hsPjRby6oQ8cuqb4nrlM3L8z2L7OouEg9PjCu7t99Tp0ayj9we+eyJtXRWq9yo1fV0f4x/f7SE9lNCe75w6g6/u9x9XyveYMbQukbfXng7uz+KosgMqkQekdP/t9d/vhb7brTECqA0CwDsliJpVbg871dqn9gvCoIVXGQygoFrERWqB9egqsVmI5qMh+RRlzU0n2r5hoJLYXuzafVPY+f1Sv5/t3D6saNQ3rVm4Daoyz38GJllZKJ+ihHndwXVC/1rHv8Q/03/QiqX66LeRFs3ZvT1/El/EBm6WPUPqmCv4JGlD5xfxCikfp6/uHa+1ZWtusvhEJER2uduY1jl3QnBocm9OS5ZWGDtoHcF1TfqaEJPcl4yeD5CQHLPzt7ymSkfl5c98N0/523N+nrh14vfnKca3rCr5wbqU+qQCgTKC/jHH1fKbMWSf2Kl4uHW9n949qW/W3P9Ub1huBb957X31FGQAe1p72meQopqHq/Gdh/e5Mu/9SLI+qZLVN/YVQTuKRR14Uc+ATlQBxCcQa9pubQscKEXzV1wpfbJ4DsqmDiwpiz1A3etvVtgfaKTjIIhET+e/T3LxerPf+AyKD2B6jgKGCApX4hURUmK3IzafwkVNKnchELqUGqMwxK2WJiXmUow6pisLzxsB8MLGqOQaTscEJeuKhXrwqWv01mqZI+MTnA6p4zRvvtRyT1iy3AbjCA5TpKYSAOzupCyORFXt0VhyEQidMhNpDBCiobB+g3bXhVMDJwzTQmlfRJzILY1v0vXyypiiORiqNAZ1AZSZCKBsiNfjJT/ehsKVZtdBpZsJ+odTqOd5kkkA9HBxW8bMlsPaF6vtFqHPRy+ySA2G3rW7U9ZtLwHpQsiUQqwfhTL47qRkwGPipEEzy4piVUeo4ZDCDUWz43ei2SiZgOyAepqNbB0/kf8DB5vaqCPnnBJIHIG/vHkgtpaERUAy66Sd+jUkzhQBjIwEwXwwkGC+147ScTrpT7L7YMGSuVkzrQCgz0K/1jJZMV5fZJ+cIp+pJX08GTNHJGidVKI6xYVB/CitrjutjbIFUxXd3MfojpHrgyGULk7fiVogQ75fPx3jldVuz9dGEAZWmDRAQhDg5OkHoMAmTR9+MDV0uGRuX2iTHE/jKmqPZXCitUvGUTZu3Y1HazUurbZfXAhxVLG9XXV81Vn+qapS6PX5t06esKMSyDdOviqTP3F30XdWc23dVcctAZ3FsXN6hTp/MEvXFyXNdLmyuWNk25lwGa21iny/7j5Lhu87e9Xfrzv96fUA/e3azmNBbPcD0BCmWQm89eecPIioz4FtT/7LYOYzuV9OnylWt6TJGNsowxk2bjXYF56PfqRvoWfQlPO1ACh2rDq26T3EI4Ui2EI9VChPZ++VXMr+wwbyM5JA9+S4L/0BwGqaxUvDs5RUDmpZzyDtMjEqnETiN9i/Tf5CJ5cY2MDi9CA77nHTf+PwcW6ncIwi3XQXth75JtKNmKoh7vtpS3PPVRj6mcfC8yeeWQ+qXMiX35/zxF/Mw1b11ck3a8k4kJKPd55ZU6TH3gusgr45E0IpFK5oZMkmRl5JQBn9kDlOwJ72RbyPg8sKZZB96S2JaYrLO1Xr/4TOclgaEKWSEpTz38zff+cvI9L2TwykFCQjJLeVkmJuXu9LUp9bFp7U33yfYd950qbFRLHUF96NQ7L/n7aPMOQyI/bkTKKHlTa3JikKzS5OC9OaazIGxFMePpZD5td20yjeYdaEmBSfJCvjOVHzaUU5JIKMgl12mfTI2kD6mLOqWMvy5JbfrrlkxPXp5GfZ+3HVMfhj11aLlU8v/iJHTyoRocJTm9EHQspJpRhqNkV/KBlWAjoeUitPrlUf6ZMPIO0eGSDxbCkWohHKkWwpFqIRypFsKRaiEcqRaCOLWf7FqtD4Q1UCr3fyLSqHBUXHslAAAAAElFTkSuQmCC",MZ="/assets/Noxus-BZOWKlQx.png",LZ="/assets/She%20build-CJeU6eig.png",zZ="/assets/Spark%20Skills-uiRtgvQZ.png",UZ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJEAAABrCAYAAAB30WBcAAAACXBIWXMAAAsSAAALEgHS3X78AAAKqUlEQVR4nO1dzY3rNhAWg9yftoI4FTwXECA6+RqngjgdOHcDcYC9x68DpwO9617iVBBvB94KrFcBA2aHfp/GJCWLtiVT8wECdmWJPzMfZ4ZDSlJa62zsOK5mkyzL8LgHyqfnl30Kov92AG3oBUScZZZl8yzLvrtzG74YEg1EFNEYHYmIPOssy37pqQmGQEUqVsjgmwG04W44rmbG8ux7JNCrcZkpESgbiyU6rmZ5lmXbLMt+6rkpy6fnl6rnNlwdyQfW5L5M/PGx56Z8eXp+yXtuw02QtCUiAhnX8WEAzUnKhSGSjYnIhZUDIVDSSDmw3g7AhY0CSZLouJrNBxBEjwapWqLNANowGiRHouNqtughAz1qpGiJlgNow6iQ1BSfpvTXCKZNZjmUFJzKrO8rUssTzSPufaU1tV1TVvm4mhkS/RtRV1JIjUTTjvd9fnp+aU1As/Z1XM06VpUeUouJuuwFMqvqixu0ZTRIjUQ/drinTHFR9J4Y1VYQDw6DbNUDQUgkiIaQSBANIZEgGkIiQTSERIJoCIkE0RASCaIhJBJEQ0gkiIaQSBANIZEgGkIiQTSERIJoCIkE0RASCaIhJBJEQ0gkiIaQSBANIZEgGkIiQTSERIJoCIkE0RASCaIhJBJEQ0gkiIaQSBANIZEgGkIiQTSERIJoCIkE0RASCaKRGom+dLjn4lf0HVezokM9ySI1EnX5CEtBL/K8BF1e6ycfiHkQdFHUB/oOSCvQh2fWHepJ9pV+QqJ3fDyuZiW9B9sL+n3X8Y39u45tGzyS+mgeWYljRBH2A787eJfjhOKmaccXi/6Pp+cXFdGuQSO5Ly8aizLALwxd9J7sR0OKU/whfmGodcz1iEjyG7DH1WwX43qujLen55cus7mHQarJxiF9aSj5t/UnSSL67vynATTFxELJzsoskl32eHp+WdKXg/rC21i+GZL62lnRE5FMqmA+lm+GJE0iUuK9iWQIVJBLHQWSX8UHIn2+Q3VvYyNQluoU34fjarakda9bfHrTkHQxxs9ejYpE2delkQ196vMaZHoj8iQ/C/NhdCSyIDLNaQZ1aWLSrrFtx0wei4tJpJTKYUEyh59KrfXDxgK00Sxv2KRm+nd4lJhHKTUh9z2hBeWl1vr67taQqM1BAjZrQBqOPR32nGnotG2ZctzuIAtrdbKm/Uy7W9TZlkALaoSmbRLm/xx+nzIyCZGuqaR3ElhL0lZf5o8tnNu824weSGQrJxJ5O0GWyhLtMHbFX1VJ7wPX/DFvce2cri3Z+XUvJAJGV22sC1xvjsXYlX81JX2VadFwnR3IFXoK+q28O4nIRdXcEyXt/g/UGjpxNhLk6Eyg3OqhxbU2Zl2y8xMbitxCD6GMtd1I9YdxT0op49b+zrLsdzKZriC9gr3EFz+KI3DCyjH4OBTNxH4x12mt+cY8uxBc3kLE33oaZCr9SIm0koJmuzn9c8NOvT1tT+2ymV1wDkuiprSCfQKlphsi19L127Xgs0S20hKebjAj4Wet9fwmuQaBD40kAiuUObYHbygz/1cXvSmllkqpUim1V0q5H5Vy+NUJxEI2vtnzQC3gl9dtfbgcreS5b5qowAx6z87jRMcZxzbEYjwH6NSpyxJhvPOB3Fch1qc3fKSKQ+7M6uzkrpRSU7BKf2itD+5bvdhB3b/S/2/Oix0MLFlGupUFct0vlibuoNlwUJaQF8JZ9BS9yKXtQG8Cyya15GXteocJQ/N1EYF0PTF2k+nkyEi0bpIlJoMdBDrLF7WoE8OZPavDmafiBaAPDSa2Ao3QqZGIBNuYLb5BvXZAbgLXHGxejiZE6EUuXn5i66NTIJV3FcLX6E7LFixBuU6EQAfuLu5Yt7UoTgJ7JkGWUF28CJa3ZaTyB/ZQQAEFdIpnmH+++8i9gRKtTHYx1rlj3TggfSsEGLvYEKTzchO4LU2EOvU/dB8mG2uPt5jcQ4eIHl/+lMI+44JmJDllgu+5Ac3K8s3qgfJBBR18Z+Zvjkz1pbCzvH9MnSY/RP+HHwbV5wF1Z0sCpt8GZEsys9sL8kw5CKrVyL+VhQDLWjW4lOLarg5yNBW8pQT1gzmc6PiTWb4FWKUNWbywO2MBtfWtzulcoBHoTzdMAa1iJNg8VRNWiDxMuOU1CUWC/SHQX+vmrqJMKnPjIIwljZVrruuTmIt0BbKbwP8YlC+hzkay2gJKRwHVhY1C/zyhMg9QnteyebKj2KYzK8a2qSzY9Wejhtq3a2thQ5MMNo0+UP22/V1mRK5doyeP4Ok/xrDOAQp95nuLNlzHUH8Fh5VxcNZuCzgxjbm2VkEa2wKyAyUgk0tYzOV7XXZICCYEnxJrbWRC5UJDIczhvF2cXKPyWfm8rBzdNliFTsE3kaRiOji46nbc51ds/fc96/OJpA4dnMoEA7B21UXnN1xga8bKVlN9VyXMPPIDFebdyAYCnrPztsNn2z9dIxOs1AHO5cxtIHm3PgVBXysg0ASVBWUH91Sxvh9AdpVLHk0yZ787UxOsb6U+lykOzCm0zf62Jd3acxs+ghcglFaxjMsKOTpywCwqu2aPCmAj5jRCPVZi7hHChJVjz2+0Wwma7Rn3Lhmg8Fgdp816TRleh6XYAiExlvRORkIL3bxsnxVi8jvrl4PoeFRgdGokQlOFliQ0IpyjFjq59+WPmOvk1gNJgRZk7xKeyzr52sdzYkh+Jmi+QzDoQljZwWAXlMbbW7a8P0Qin/tZemR6Fh6w8vC+s8mLl0SsQ77CfYy3itsTUZzraYHOcvZzN+si0Vl2lwlHU1twH7KLRNjnCSsL73EFu7bs4MI1e5wnZ/ef1d00eNsSzBN28JjsbIkFSORegGUk4iMvZxahBJPNZyg5CacWdPoCdYdS8Desc89mb5VHELVyHMKpWH+WbEa49JHUY9K5rAqYSARzYiAjHuudPeoTKGPH2+lpLw6ENeirYPHdFn7jxLaDzpc5rynZGQiyoNUqtmL/Y/C11nXhcgUvHOVUpHi+iFiAsrcOv46zPxt7nSwfE1TNhTj6pR1B5A7qmTKCm/sXoIBdCwJ5FzSh7sYNZK7JgkPxKMMF0xkOrqnjnjU876aDIY1mcYYvz0EVlY5GYGO2LgEwi4UKzgOd2zElL6G8BSPfEoRnp+wLfW5ND6ycnPpUAeHsM/o7ONYQ+OZMuFbobdMhzvUoGFjeFXt2fXAHqcPSV3RPyfQVegjVDs5g7svePGcC8ZmtOVPehpTW9DwUz4jzIBqXOngnOm1pGOoBJOLphsZYKiDTUPzVevmIk7D1tS5mA2sLMIW12VLHzGyY0Wxan8p2EseAsX3cQLx30S5S5tZ73THBG+Zau+Lxwk2ebGUu6nDpxvIHIxLPUW067v85Lf302R/nq2WUUnP28KF9o8TVt3fAhnJ8R9CvWuu030L/vq1jQgnNzg9BkK4mV9gG0hm9vuSKnmP6nf79DN/k+L7DXiZBT3A+AXtr0IuySrI+X+yraohEr0Kgx8LdSUQEss80vdpn2pRSdtdg0m4sRfTxCuK1g0AFxEQ3eemA4Ha4e0yklKpob/D3tI8XLdMnrfWQPu4iaIFeYiJCQYTa0AsjXjt+W1XQM/qwRMbS/MlO/0MJM3ne/wHRyxSfpvZ2icPknyQOelRkWfYfICiWOh0IMikAAAAASUVORK5CYII=";function d3({heading:t="Trusted by Partners",logos:e=[{name:"KB Creatives",src:DZ},{name:"Noxu Technologies",src:MZ},{name:"She Build",src:LZ},{name:"Spark Skills",src:zZ},{name:"Organic Hub",src:UZ}]}){return s.jsx("section",{className:"w-screen bg-[#F6F7F9] my-8 sm:my-12 lg:my-20",children:s.jsxs("div",{className:"mx-auto max-w-[1440px] px-4 py-12 sm:py-14 lg:py-16",children:[s.jsx("p",{className:"mx-auto max-w-3xl text-center text-[18px] sm:text-[25px] font-semibold text-slate-600",children:t}),s.jsx("div",{className:`
            mt-8 sm:mt-10
            flex items-center justify-center
            grid-cols-2 gap-x-8 gap-y-8
            sm:grid-cols-4 sm:gap-y-10
            lg:grid-cols-8 lg:gap-y-12
          `,children:e.map(n=>{const r=s.jsx("img",{loading:"lazy",src:n.src,alt:n.name,className:`
                  mx-auto h-7 w-auto
                  sm:h-8
                  lg:h-14
                  opacity-80 grayscale
                  transition
                  hover:opacity-100 hover:grayscale-0
                `});return s.jsx("div",{className:"flex items-center justify-center",children:n.href?s.jsx("a",{href:n.href,"aria-label":n.name,className:"inline-flex items-center cursor-pointer",target:"_blank",rel:"noreferrer",children:r}):r},n.name)})})]})})}const Hk=[{name:"Yasir Azad",position:"SMM Expert",review:"Spark Trainings ne mujhe ek expert digital marketer banaya. Inke course ki badolat aaj main apni agency manage kar raha hoon. Best place to learn marketing skills!"},{name:"Ayesha Khan",position:"BSCS Student",review:"Spark Trainings ne meri life literally change kar di. Web development ka course itna practical tha ke main ab freelance projects le rahi hoon."},{name:"Ali Raza",position:"Shopify Store Owner",review:"Shopify Masterclass ke baad main ne apna pehla online store launch kiya. Jo cheezen YouTube se samajh nahi aati thin, yahan clear ho gain."},{name:"Mudassir Saleem",position:"Web Developer",review:"Spark Trainings ke Web Development course ne meri skills ko next level par le jaaya. Ab main ek reputed IT company mein kaam kar raha hoon."}];function f3({t}){return s.jsxs("div",{className:"border border-slate-300/70 rounded-md bg-white p-5 sm:p-6 min-h-[230px] lg:min-h-60 flex flex-col shadow-[0_2px_0_rgba(0,0,0,0.02)]",children:[s.jsx(K4,{className:"h-5 w-5 rotate-180 fill-slate-900 text-slate-900"}),s.jsx("p",{className:"mt-3 text-[15px] leading-6 text-slate-900",children:t.review}),s.jsxs("div",{className:"mt-5",children:[s.jsx("h3",{className:"text-[15px] font-semibold text-slate-900",children:t.name}),s.jsx("p",{className:"text-[13px] text-slate-500",children:t.position})]})]})}function VZ({items:t}){const e=j.useRef(null),[n,r]=j.useState(0),i=u=>{const f=e.current;if(!f)return;const h=f.children[u];h&&h.scrollIntoView({behavior:"smooth",inline:"center"})};j.useEffect(()=>{const u=e.current;if(!u)return;let f=0;const h=()=>{cancelAnimationFrame(f),f=requestAnimationFrame(()=>{const p=Array.from(u.children);let g=0,x=1/0;const b=u.scrollLeft+u.clientWidth/2;p.forEach((_,S)=>{const N=_.offsetLeft+_.clientWidth/2,T=Math.abs(b-N);T<x&&(x=T,g=S)}),r(g)})};return u.addEventListener("scroll",h,{passive:!0}),()=>{cancelAnimationFrame(f),u.removeEventListener("scroll",h)}},[]);const o=()=>i(Math.max(0,n-1)),c=()=>i(Math.min(t.length-1,n+1));return s.jsxs("div",{className:"relative",children:[s.jsx("div",{ref:e,className:"flex gap-4 overflow-x-auto snap-x snap-mandatory scroll-smooth [-ms-overflow-style:none] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden",children:t.map((u,f)=>s.jsx("div",{className:`
              flex-none snap-center
              w-[86vw] xs:w-[88vw]
            `,children:s.jsx(f3,{t:u})},f))}),s.jsxs("div",{className:"mt-4 flex items-center justify-center gap-3",children:[s.jsx("button",{"aria-label":"Previous",onClick:o,className:"grid h-8 w-8 place-items-center rounded-full bg-white shadow ring-1 ring-slate-900/10 cursor-pointer",children:s.jsx(U4,{className:"h-4 w-4"})}),s.jsx("div",{className:"flex items-center gap-2",children:t.map((u,f)=>s.jsx("button",{onClick:()=>i(f),"aria-label":`Go to slide ${f+1}`,className:f===n?"h-2 w-6 rounded-full bg-[#0d9c06]":"h-2 w-2.5 rounded-full bg-slate-300"},f))}),s.jsx("button",{"aria-label":"Next",onClick:c,className:"grid h-8 w-8 place-items-center rounded-full bg-white shadow ring-1 ring-slate-900/10 cursor-pointer",children:s.jsx(V4,{className:"h-4 w-4"})})]})]})}function h3(){return s.jsx("section",{className:"w-full",children:s.jsxs("div",{className:"mx-auto max-w-[1440px] px-4 sm:px-6 lg:px-8 mb-20",children:[s.jsx("h2",{className:"text-slate-900 text-xl sm:text-2xl lg:text-[25px] font-semibold text-left sm:text-left",children:"Join others transforming their lives through learning"}),s.jsx("div",{className:"mt-6 sm:hidden",children:s.jsx(VZ,{items:Hk})}),s.jsx("ul",{className:"mt-6 hidden sm:grid gap-4 sm:gap-6 grid-cols-2 lg:grid-cols-4",children:Hk.map((t,e)=>s.jsx("li",{children:s.jsx(f3,{t})},e))}),s.jsx("div",{className:"mt-6 flex flex-row justify-start items-center gap-2 text-sm font-medium sm:flex",children:s.jsxs(Pe,{to:"/reviews",className:"text-[#0d9c06] hover:underline underline-offset-4 text-[15px] font-semibold flex flex-row items-center gap-1 cursor-pointer",children:["View all stories ",s.jsx(qh,{size:16})]})})]})})}const m3=j.createContext(null);function BZ({children:t}){const[e,n]=j.useState([]),[r,i]=j.useState(null),p={items:e,addToCart:g=>{n(x=>x.find(_=>_.id===g.id)?x:[...x,{...g,quantity:1}])},removeFromCart:g=>{n(x=>x.filter(b=>b.id!==g))},clearCart:()=>n([]),appliedCoupon:r,applyCoupon:async g=>{if(!g)return{ok:!1,message:"Enter coupon code"};try{const x=String(g).trim().toUpperCase(),b=await ze(`/api/coupons/validate/${x}`),_=await b.json();return!b.ok||!_.ok?(i(null),{ok:!1,message:_.message||"Invalid coupon"}):(i(_.coupon),{ok:!0,message:`Applied: ${_.coupon.label}`,coupon:_.coupon})}catch(x){return console.error("Coupon validation error:",x),{ok:!1,message:"Error validating coupon"}}},clearCoupon:()=>i(null)};return s.jsx(m3.Provider,{value:p,children:t})}function p2(){const t=j.useContext(m3);if(!t)throw new Error("useCart must be used inside CartProvider");return t}function FZ({c:t}){const{addToCart:e}=p2(),n=zr(),r=typeof t.price=="number"?t.price:parseInt(String(t.price).replace(/[^\d]/g,""),10)||0,i=()=>{e({id:t.id,title:t.title,image:t.image,price:r}),n("/cart",{state:{addedCourseId:t.id}})};return s.jsxs(Pe,{to:`/online-course/${t.id}`,className:"block rounded-[15px] ring-1 ring-slate-200 bg-white hover:shadow-[0_10px_30px_rgba(2,6,23,0.08)] transition-shadow overflow-hidden group h-full cursor-pointer",children:[s.jsx("div",{className:"p-3 pb-0",children:s.jsx("div",{className:"overflow-hidden rounded-[15px]",children:s.jsx("img",{src:t.image?.startsWith("http")?t.image:t.image?.startsWith("/uploads")?`https://spark-lms-backend.vercel.app${t.image}`:t.image,alt:t.title,className:"h-full w-full object-cover",onError:o=>{o.target.src="https://via.placeholder.com/300x200?text=No+Image"}})})}),s.jsxs("div",{className:"px-4 pt-3 pb-4",children:[t.badge&&s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-[11px] font-bold mb-2 ${t.badge.color}`,children:[t.badge.label.includes("Premium")&&s.jsx(z4,{size:15,className:"stroke-[3px]"}),t.badge.label.includes("Hot")&&s.jsx(F4,{size:15,className:"fill-current"}),t.badge.label.includes("Best")&&s.jsx(pN,{size:14,className:"fill-current"}),t.badge.label.includes("Beginner")&&s.jsx(W4,{size:14,className:"stroke-[3px]"}),t.badge.label]}),s.jsx("h3",{className:"text-[18px] font-semibold text-slate-900 leading-snug line-clamp-2 group-hover:underline",children:t.title}),s.jsx("p",{className:"mt-1 text-sm text-slate-500 line-clamp-2",children:t.excerpt}),s.jsxs("div",{className:"mb-3",children:[t.price&&s.jsx("p",{className:"mt-1 text-[20px] text-slate-700 font-semibold",children:t.price}),s.jsx("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-xs",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Kh,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"inline-flex items-center gap-1 text-[13px] text-slate-700",children:t.rating?t.rating.toFixed(1):4.5}),s.jsx("span",{className:"text-[12px] text-slate-500 ring-1 ring-slate-200 px-2 py-0.5 rounded-md",children:t.ratingCount||"0 ratings"})]})})]}),s.jsx("button",{type:"button",onClick:o=>{o.preventDefault(),i()},className:"w-full bg-[#0d9c06] hover:bg-[#11c50a] text-white font-semibold text-sm py-3 rounded-md flex items-center justify-center gap-2 transition cursor-pointer",children:"Enroll now"})]})]})}function g2(){const[t,e]=j.useState(()=>{const o=localStorage.getItem("online_courses_cache");if(o){const{data:c,timestamp:u}=JSON.parse(o);if(Date.now()-u<3e5)return c}return Sh}),[n,r]=j.useState(!1);async function i(){try{t.length===0&&r(!0);const o=new Date().getTime(),u=await(await ze(`/api/courses/online?t=${o}`)).json();u.ok&&u.courses&&(e(u.courses),localStorage.setItem("online_courses_cache",JSON.stringify({data:u.courses,timestamp:Date.now()})))}catch(o){console.error("Error fetching dynamic online courses:",o)}finally{r(!1)}}return j.useEffect(()=>{const o=localStorage.getItem("online_courses_cache");if(!o||t.length===0)i();else{const{timestamp:c}=JSON.parse(o);Date.now()-c>=300*1e3&&i()}},[]),s.jsx("section",{className:"bg-white",children:s.jsxs("div",{className:"mx-auto max-w-[1440px] px-4 sm:px-6 lg:px-8 py-2",children:[s.jsxs("div",{className:"max-w-3xl mb-6",children:[s.jsx("h2",{className:"font-semibold text-2xl sm:text-3xl lg:text-[32px] leading-tight lg:leading-10",children:"Build Your Future Career Online"}),s.jsx("p",{className:"mt-2 text-[15px] sm:text-base text-slate-600",children:"Flexible online courses with live classes, recordings and practical projects  join from anywhere in Pakistan."})]}),s.jsx("div",{className:"grid items-stretch gap-4 sm:grid-cols-2 lg:grid-cols-3",children:n?Array.from({length:3}).map((o,c)=>s.jsx(l3,{},c)):t.map(o=>s.jsx(FZ,{c:o},o.id))})]})})}function $Z(){return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"w-full max-w-[1440px] mx-auto font-display",children:[s.jsx(SZ,{}),s.jsx("div",{className:"block sm:hidden px-4 py-8 border-b border-gray-200 w-full",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h2",{className:"font-semibold text-2xl sm:text-3xl lg:text-[36px] leading-tight lg:leading-10",children:"Master tomorrow's skills today"}),s.jsx("p",{className:"text-[#595C73] text-base sm:text-lg lg:text-xl",children:"Join thousands of learners and start your journey towards a brighter future."}),s.jsx(Pe,{to:"/contact",className:"w-full bg-linear-to-r from-[#0d9c06] to-[#0b7e05] hover:shadow-xl text-white font-bold py-3 px-4 rounded-md transition-all hover:scale-105 mt-1.5 flex text-center justify-center cursor-pointer",children:"Get started"}),s.jsx(ej,{})]})}),s.jsx("div",{className:"flex flex-row gap-5",children:s.jsx(kZ,{})}),s.jsx(OZ,{})]}),s.jsx("div",{children:s.jsx(g2,{})}),s.jsx(m2,{}),s.jsx(d3,{}),s.jsx("div",{className:"flex mx-auto max-w-[1440px] w-full",children:s.jsx(h3,{})})]})}const Gk="/assets/About%20us-Sk01CBI7.webp",qZ="/assets/about%20us%20mobile-CW3DPWoK.webp",im=()=>s.jsx("div",{children:s.jsx("div",{className:"bg-black h-16 w-full flex justify-center items-center",children:s.jsx(Pe,{to:"/contact",className:"text-white text-[20px] font-semibold hover:underline cursor-pointer",children:"Start Your Journey Now!"})})}),HZ=[{value:"81M",label:"Learners"},{value:"85K",label:"Instructors"},{value:"1.1B",label:"Course enrollments"},{value:"17K+",label:"Enterprise customers"}],GZ=()=>s.jsx("section",{className:"w-full bg-green-950 text-white",children:s.jsxs("div",{className:"mx-auto max-w-[1440px] px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:[s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[s.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-[40px] font-semibold font-sans leading-tight",children:"Creating impact around the world"}),s.jsx("p",{className:"mt-4 text-sm sm:text-base lg:text-[15px] leading-relaxed text-violet-100",children:"With our global catalog spanning the latest skills and topics, people and organizations everywhere are able to adapt to change and thrive."})]}),s.jsx("div",{className:`
            mt-10 sm:mt-12 lg:mt-14
            grid gap-x-16 gap-y-8
            grid-cols-2 md:grid-cols-4
            text-center justify-items-center
          `,children:HZ.map(t=>s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"text-3xl sm:text-4xl lg:text-[32px] font-extrabold tracking-tight",children:t.value}),s.jsx("div",{className:"mt-1 text-xs sm:text-sm lg:text-[13px] text-violet-100",children:t.label})]},t.label))})]})}),KZ=({image:t})=>{const[e,n]=j.useState(Gk);return j.useEffect(()=>{const r=()=>{window.innerWidth<640?n(qZ):n(t||Gk)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[t]),s.jsxs("div",{className:"w-full mx-auto pb-12 sm:pb-16",children:[s.jsx("div",{className:"h-[250px] sm:h-80 lg:h-[420px] w-full mx-auto max-w-[1440px] bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${e})`}}),s.jsx("div",{className:"block sm:hidden w-full pt-10 pb-10 px-4",children:s.jsx("h1",{className:"text-3xl leading-8 font-bold font-sora text-[#1c1d1f] text-center",children:"Welcome To Where Possibilities Begin"})}),s.jsx("div",{className:"bg-black h-16 w-full flex justify-center items-center",children:s.jsx(im,{})}),s.jsxs("div",{className:"w-full py-10 sm:py-14 lg:py-14 flex flex-col items-center text-center px-4",children:[s.jsx("h1",{className:`
              font-bold font-sans text-[#1c1d1f]
              text-[26px] leading-8
              sm:text-[32px] sm:leading-[38px]
              lg:text-[40px] lg:leading-12
              max-w-[800px]
          `,children:"Skills are the key to unlocking potential"}),s.jsx("p",{className:`
              mt-4
            text-[#1c1d1f]/80
              text-[14px] leading-[22px]
              sm:text-[15px] sm:leading-6
              lg:text-[17px] lg:leading-[26px]
              max-w-[750px]
          `,children:"Whether you want to learn a new skill, train your teams, or share what you know with the world, youre in the right place. As a leader in online learning, were here to help you achieve your goals and transform your life."})]}),s.jsx("div",{children:s.jsx(GZ,{})}),s.jsxs("div",{className:"w-full sm:pt-14 pt-10 pb-5 lg:pt-14 flex flex-col items-center text-center px-4",children:[s.jsx("p",{className:`text-[#1c1d1f]/80
              text-[14px] leading-[22px]
              sm:text-[15px] sm:leading-6
              lg:text-[17px] lg:leading-[26px]
              max-w-[750px] pb-5`,children:"We help organizations of all types and sizes prepare for the path ahead  wherever it leads. Our curated collection of business and technical courses help companies, governments, and nonprofits go further by placing learning at the center of their strategies."}),s.jsx(J4,{})]}),s.jsx("div",{children:s.jsx(d3,{})}),s.jsx("div",{children:s.jsx(h3,{})})]})},Kk="/assets/CoursesImage-BE1eh5He.jpg",WZ="/assets/CoursesImageMobile-zbI4BJu7.jpg",YZ=({image:t})=>{const[e,n]=j.useState(Kk);return j.useEffect(()=>{const r=()=>{window.innerWidth<640?n(WZ):n(t||Kk)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[t]),s.jsxs("div",{className:"w-full mx-auto pb-12 sm:pb-16",children:[s.jsx("div",{className:"h-[250px] sm:h-80 lg:h-[420px] w-full mx-auto max-w-[1440px] bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${e})`}}),s.jsx("div",{className:"block sm:hidden w-full pt-10 pb-10 px-4",children:s.jsx("h1",{className:"text-3xl leading-8 font-bold font-sora text-[#1c1d1f] text-center",children:"Learn Skills That Power Success"})}),s.jsx("div",{className:"bg-black h-16 w-full flex justify-center items-center",children:s.jsx(im,{})}),s.jsx("div",{className:"mt-12",children:s.jsx(g2,{})}),s.jsx("div",{className:"mt-4",children:s.jsx(m2,{})})]})},Wk="/assets/Contact%20Image-CVZS7xxC.png",QZ="/assets/Contact%20Image%20Mobile-BZGUfNhE.png";var Ob={exports:{}},Rb,Yk;function XZ(){if(Yk)return Rb;Yk=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Rb=t,Rb}var Pb,Qk;function JZ(){if(Qk)return Pb;Qk=1;var t=XZ();function e(){}function n(){}return n.resetWarningCache=e,Pb=function(){function r(c,u,f,h,p,g){if(g!==t){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},Pb}var Xk;function ZZ(){return Xk||(Xk=1,Ob.exports=JZ()()),Ob.exports}var eee=ZZ();const Yt=bs(eee);function Jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(n),!0).forEach(function(r){p3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cg(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cg=function(e){return typeof e}:Cg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(t)}function p3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tee(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function nee(t,e){if(t==null)return{};var n=tee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ree(t,e){return iee(t)||aee(t,e)||see(t,e)||oee()}function iee(t){if(Array.isArray(t))return t}function aee(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,o=!1,c,u;try{for(n=n.call(t);!(i=(c=n.next()).done)&&(r.push(c.value),!(e&&r.length===e));i=!0);}catch(f){o=!0,u=f}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw u}}return r}}function see(t,e){if(t){if(typeof t=="string")return eI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eI(t,e)}}function eI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Wr=function(e,n,r){var i=!!r,o=qt.useRef(r);qt.useEffect(function(){o.current=r},[r]),qt.useEffect(function(){if(!i||!e)return function(){};var c=function(){o.current&&o.current.apply(o,arguments)};return e.on(n,c),function(){e.off(n,c)}},[i,n,e,o])},lee=function(e){var n=qt.useRef(e);return qt.useEffect(function(){n.current=e},[e]),n.current},cy=function(e){return e!==null&&Cg(e)==="object"},tI="[object Object]",cee=function t(e,n){if(!cy(e)||!cy(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var o=Object.prototype.toString.call(e)===tI,c=Object.prototype.toString.call(n)===tI;if(o!==c)return!1;if(!o&&!r)return e===n;var u=Object.keys(e),f=Object.keys(n);if(u.length!==f.length)return!1;for(var h={},p=0;p<u.length;p+=1)h[u[p]]=!0;for(var g=0;g<f.length;g+=1)h[f[g]]=!0;var x=Object.keys(h);if(x.length!==u.length)return!1;var b=e,_=n,S=function(T){return t(b[T],_[T])};return x.every(S)},uee=function(e,n,r){return cy(e)?Object.keys(e).reduce(function(i,o){var c=!cy(n)||!cee(e[o],n[o]);return r.includes(o)?(c&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):c?Zk(Zk({},i||{}),{},p3({},o,e[o])):i},null):null},g3=qt.createContext(null);g3.displayName="ElementsContext";var dee=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e};Yt.any,Yt.object;Yt.func.isRequired;var y3=qt.createContext(null);y3.displayName="CheckoutSdkContext";var fee=function(e,n){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return e},hee=qt.createContext(null);hee.displayName="CheckoutContext";Yt.any,Yt.shape({fetchClientSecret:Yt.func.isRequired,elementsOptions:Yt.object}).isRequired;var nI=function(e){var n=qt.useContext(y3),r=qt.useContext(g3);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?fee(n,e):dee(r,e)},mee=["mode"],pee=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Rn=function(e,n){var r="".concat(pee(e),"Element"),i=function(f){var h=f.id,p=f.className,g=f.options,x=g===void 0?{}:g,b=f.onBlur,_=f.onFocus,S=f.onReady,N=f.onChange,T=f.onEscape,O=f.onClick,C=f.onLoadError,M=f.onLoaderStart,R=f.onNetworksChange,F=f.onConfirm,E=f.onCancel,I=f.onShippingAddressChange,D=f.onShippingRateChange,V=f.onSavedPaymentMethodRemove,z=f.onSavedPaymentMethodUpdate,$=nI("mounts <".concat(r,">")),L="elements"in $?$.elements:null,se="checkoutSdk"in $?$.checkoutSdk:null,Ne=qt.useState(null),G=ree(Ne,2),H=G[0],ee=G[1],W=qt.useRef(null),K=qt.useRef(null);Wr(H,"blur",b),Wr(H,"focus",_),Wr(H,"escape",T),Wr(H,"click",O),Wr(H,"loaderror",C),Wr(H,"loaderstart",M),Wr(H,"networkschange",R),Wr(H,"confirm",F),Wr(H,"cancel",E),Wr(H,"shippingaddresschange",I),Wr(H,"shippingratechange",D),Wr(H,"savedpaymentmethodremove",V),Wr(H,"savedpaymentmethodupdate",z),Wr(H,"change",N);var B;S&&(e==="expressCheckout"?B=S:B=function(){S(H)}),Wr(H,"ready",B),qt.useLayoutEffect(function(){if(W.current===null&&K.current!==null&&(L||se)){var ie=null;if(se)switch(e){case"payment":ie=se.createPaymentElement(x);break;case"address":if("mode"in x){var ye=x.mode,ke=nee(x,mee);if(ye==="shipping")ie=se.createShippingAddressElement(ke);else if(ye==="billing")ie=se.createBillingAddressElement(ke);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":ie=se.createExpressCheckoutElement(x);break;case"currencySelector":ie=se.createCurrencySelectorElement();break;case"taxId":ie=se.createTaxIdElement(x);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else L&&(ie=L.create(e,x));W.current=ie,ee(ie),ie&&ie.mount(K.current)}},[L,se,x]);var J=lee(x);return qt.useEffect(function(){if(W.current){var ie=uee(x,J,["paymentRequest"]);ie&&"update"in W.current&&W.current.update(ie)}},[x,J]),qt.useLayoutEffect(function(){return function(){if(W.current&&typeof W.current.destroy=="function")try{W.current.destroy(),W.current=null}catch{}}},[]),qt.createElement("div",{id:h,className:p,ref:K})},o=function(f){nI("mounts <".concat(r,">"));var h=f.id,p=f.className;return qt.createElement("div",{id:h,className:p})},c=n?o:i;return c.propTypes={id:Yt.string,className:Yt.string,onChange:Yt.func,onBlur:Yt.func,onFocus:Yt.func,onReady:Yt.func,onEscape:Yt.func,onClick:Yt.func,onLoadError:Yt.func,onLoaderStart:Yt.func,onNetworksChange:Yt.func,onConfirm:Yt.func,onCancel:Yt.func,onShippingAddressChange:Yt.func,onShippingRateChange:Yt.func,onSavedPaymentMethodRemove:Yt.func,onSavedPaymentMethodUpdate:Yt.func,options:Yt.object},c.displayName=r,c.__elementType=e,c},Pn=typeof window>"u",gee=qt.createContext(null);gee.displayName="EmbeddedCheckoutProviderContext";Rn("auBankAccount",Pn);var yee=Rn("card",Pn);Rn("cardNumber",Pn);Rn("cardExpiry",Pn);Rn("cardCvc",Pn);Rn("fpxBank",Pn);Rn("iban",Pn);Rn("idealBank",Pn);Rn("p24Bank",Pn);Rn("epsBank",Pn);Rn("payment",Pn);Rn("expressCheckout",Pn);Rn("currencySelector",Pn);Rn("paymentRequestButton",Pn);Rn("linkAuthentication",Pn);Rn("address",Pn);Rn("shippingAddress",Pn);Rn("paymentMethodMessaging",Pn);Rn("affirmMessage",Pn);Rn("afterpayClearpayMessage",Pn);Rn("taxId",Pn);var Db,rI;function xee(){if(rI)return Db;rI=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,i=(K,B)=>{for(var J in B)t(K,J,{get:B[J],enumerable:!0})},o=(K,B,J,ie)=>{if(B&&typeof B=="object"||typeof B=="function")for(let ye of n(B))!r.call(K,ye)&&ye!==J&&t(K,ye,{get:()=>B[ye],enumerable:!(ie=e(B,ye))||ie.enumerable});return K},c=K=>o(t({},"__esModule",{value:!0}),K),u=(K,B,J)=>new Promise((ie,ye)=>{var ke=we=>{try{de(J.next(we))}catch(Z){ye(Z)}},Le=we=>{try{de(J.throw(we))}catch(Z){ye(Z)}},de=we=>we.done?ie(we.value):Promise.resolve(we.value).then(ke,Le);de((J=J.apply(K,B)).next())}),f={};i(f,{SubmissionError:()=>M,appendExtraData:()=>L,createClient:()=>H,getDefaultClient:()=>ee,isSubmissionError:()=>C}),Db=c(f);var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;function g(K){K=String(K);for(var B,J,ie,ye,ke="",Le=0,de=K.length%3;Le<K.length;){if((J=K.charCodeAt(Le++))>255||(ie=K.charCodeAt(Le++))>255||(ye=K.charCodeAt(Le++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");B=J<<16|ie<<8|ye,ke+=h.charAt(B>>18&63)+h.charAt(B>>12&63)+h.charAt(B>>6&63)+h.charAt(B&63)}return de?ke.slice(0,de-3)+"===".substring(de):ke}function x(K){if(K=String(K).replace(/[\t\n\f\r ]+/g,""),!p.test(K))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");K+="==".slice(2-(K.length&3));for(var B,J="",ie,ye,ke=0;ke<K.length;)B=h.indexOf(K.charAt(ke++))<<18|h.indexOf(K.charAt(ke++))<<12|(ie=h.indexOf(K.charAt(ke++)))<<6|(ye=h.indexOf(K.charAt(ke++))),J+=ie===64?String.fromCharCode(B>>16&255):ye===64?String.fromCharCode(B>>16&255,B>>8&255):String.fromCharCode(B>>16&255,B>>8&255,B&255);return J}var b=()=>navigator.webdriver||!!document.documentElement.getAttribute(x("d2ViZHJpdmVy"))||!!window.callPhantom||!!window._phantom,_=class{constructor(){this.loadedAt=Date.now(),this.webdriver=b()}data(){return{loadedAt:this.loadedAt,webdriver:this.webdriver}}},S=class{constructor(K){this.kind="success",this.next=K.next}};function N(K){return"next"in K&&typeof K.next=="string"}var T=class{constructor(K,B){this.paymentIntentClientSecret=K,this.resubmitKey=B,this.kind="stripePluginPending"}};function O(K){if("stripe"in K&&"resubmitKey"in K&&typeof K.resubmitKey=="string"){let{stripe:B}=K;return typeof B=="object"&&B!=null&&"paymentIntentClientSecret"in B&&typeof B.paymentIntentClientSecret=="string"}return!1}function C(K){return K.kind==="error"}var M=class{constructor(...K){this.kind="error",this.formErrors=[],this.fieldErrors=new Map;var B;for(let J of K){if(!J.field){this.formErrors.push({code:J.code&&R(J.code)?J.code:"UNSPECIFIED",message:J.message});continue}let ie=(B=this.fieldErrors.get(J.field))!=null?B:[];ie.push({code:J.code&&E(J.code)?J.code:"UNSPECIFIED",message:J.message}),this.fieldErrors.set(J.field,ie)}}getFormErrors(){return[...this.formErrors]}getFieldErrors(K){var B;return(B=this.fieldErrors.get(K))!=null?B:[]}getAllFieldErrors(){return Array.from(this.fieldErrors)}};function R(K){return K in F}var F={BLOCKED:"BLOCKED",EMPTY:"EMPTY",FILES_TOO_BIG:"FILES_TOO_BIG",FORM_NOT_FOUND:"FORM_NOT_FOUND",INACTIVE:"INACTIVE",NO_FILE_UPLOADS:"NO_FILE_UPLOADS",PROJECT_NOT_FOUND:"PROJECT_NOT_FOUND",TOO_MANY_FILES:"TOO_MANY_FILES"};function E(K){return K in I}var I={REQUIRED_FIELD_EMPTY:"REQUIRED_FIELD_EMPTY",REQUIRED_FIELD_MISSING:"REQUIRED_FIELD_MISSING",STRIPE_CLIENT_ERROR:"STRIPE_CLIENT_ERROR",STRIPE_SCA_ERROR:"STRIPE_SCA_ERROR",TYPE_EMAIL:"TYPE_EMAIL",TYPE_NUMERIC:"TYPE_NUMERIC",TYPE_TEXT:"TYPE_TEXT"};function D(K){return"errors"in K&&Array.isArray(K.errors)&&K.errors.every(B=>typeof B.message=="string")||"error"in K&&typeof K.error=="string"}var V="4.0.0",z=K=>g(JSON.stringify(K)),$=K=>{let B=`@formspree/core@${V}`;return K?`${K} ${B}`:B};function L(K,B,J){K instanceof FormData?K.append(B,J):K[B]=J}function se(K){return K!==null&&typeof K=="object"}var Ne=class{constructor(K={}){this.project=K.project,this.stripe=K.stripe,typeof window<"u"&&(this.session=new _)}submitForm(K,B){return u(this,arguments,function*(J,ie,ye={}){let ke=ye.endpoint||"https://formspree.io",Le=this.project?`${ke}/p/${this.project}/f/${J}`:`${ke}/f/${J}`,de={Accept:"application/json","Formspree-Client":$(ye.clientName)};this.session&&(de["Formspree-Session-Data"]=z(this.session.data())),ie instanceof FormData||(de["Content-Type"]="application/json");function we(De){return u(this,null,function*(){try{let Ee=yield(yield fetch(Le,{method:"POST",mode:"cors",body:De instanceof FormData?De:JSON.stringify(De),headers:de})).json();if(se(Ee)){if(D(Ee))return Array.isArray(Ee.errors)?new M(...Ee.errors):new M({message:Ee.error});if(O(Ee))return new T(Ee.stripe.paymentIntentClientSecret,Ee.resubmitKey);if(N(Ee))return new S({next:Ee.next})}return new M({message:"Unexpected response format"})}catch(Ee){let xe=Ee instanceof Error?Ee.message:`Unknown error while posting to Formspree: ${JSON.stringify(Ee)}`;return new M({message:xe})}})}if(this.stripe&&ye.createPaymentMethod){let De=yield ye.createPaymentMethod();if(De.error)return new M({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Error creating payment method"});L(ie,"paymentMethod",De.paymentMethod.id);let Ee=yield we(ie);if(Ee.kind==="error")return Ee;if(Ee.kind==="stripePluginPending"){let xe=yield this.stripe.handleCardAction(Ee.paymentIntentClientSecret);if(xe.error)return new M({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Stripe SCA error"});ie instanceof FormData?ie.delete("paymentMethod"):delete ie.paymentMethod,L(ie,"paymentIntent",xe.paymentIntent.id),L(ie,"resubmitKey",Ee.resubmitKey);let jt=yield we(ie);return G(jt),jt}return Ee}let Z=yield we(ie);return G(Z),Z})}};function G(K){let{kind:B}=K;if(B!=="success"&&B!=="error")throw new Error(`Unexpected submission result (kind: ${B})`)}var H=K=>new Ne(K),ee=()=>(W||(W=H()),W),W;return Db}var y2=xee();function iI(t){let{prefix:e,field:n,errors:r,...i}=t;if(r==null)return null;let o=n?r.getFieldErrors(n):r.getFormErrors();return o.length===0?null:qt.createElement("div",{...i},e?`${e} `:null,o.map(c=>c.message).join(", "))}var vee=j.createContext({elements:null});function bee(){return j.useContext(vee)}var wee=qt.createContext(null);function jee(){return j.useContext(wee)??{client:y2.getDefaultClient()}}var Nee="3.0.0",_ee=`@formspree/react@${Nee}`;function See(t,e={}){let n=jee(),{client:r=n.client,extraData:i,origin:o}=e,{elements:c}=bee(),{stripe:u}=r;return async function(f){let h=Eee(f)?Aee(f):f;if(typeof i=="object")for(let[x,b]of Object.entries(i)){let _;typeof b=="function"?_=await b():_=b,_!==void 0&&y2.appendExtraData(h,x,_)}let p=c?.getElement(yee),g=u&&p?()=>u.createPaymentMethod({type:"card",card:p,billing_details:Tee(h)}):void 0;return r.submitForm(t,h,{endpoint:o,clientName:_ee,createPaymentMethod:g})}}function Eee(t){return"preventDefault"in t&&typeof t.preventDefault=="function"}function Aee(t){t.preventDefault();let e=t.currentTarget;if(e.tagName!="FORM")throw new Error("submit was triggered for a non-form element");return new FormData(e)}function Tee(t){let e={address:Cee(t)};for(let n of["name","email","phone"]){let r=t instanceof FormData?t.get(n):t[n];r&&typeof r=="string"&&(e[n]=r)}return e}function Cee(t){let e={};for(let[n,r]of[["address_line1","line1"],["address_line2","line2"],["address_city","city"],["address_country","country"],["address_state","state"],["address_postal_code","postal_code"]]){let i=t instanceof FormData?t.get(n):t[n];i&&typeof i=="string"&&(e[r]=i)}return e}function kee(t,e={}){let[n,r]=j.useState(null),[i,o]=j.useState(null),[c,u]=j.useState(!1),[f,h]=j.useState(!1),p=See(t,{client:e.client,extraData:e.data,origin:e.endpoint});return[{errors:n,result:i,submitting:c,succeeded:f},async function(g){u(!0);let x=await p(g);u(!1),y2.isSubmissionError(x)?(r(x),h(!1)):(r(null),o(x),h(!0))},function(){r(null),o(null),u(!1),h(!1)}]}const Iee="xldzjbzo",Oee=()=>{const[t,e]=kee(Iee),[n,r]=j.useState({name:"",phone:"",course:"",message:""}),i=async c=>{c.preventDefault(),await e(c);try{await ze("/api/contacts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}catch(u){console.error("Error saving contact to backend:",u)}},o=c=>{const{name:u,value:f}=c.target;r(h=>({...h,[u]:f}))};return t.succeeded?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f7f9fa] px-4",children:s.jsxs("div",{className:"bg-white p-10 rounded-md shadow-lg max-w-md w-full text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-3",children:" Message Sent!"}),s.jsx("p",{className:"text-gray-700",children:"Thank you for contacting us! We'll reply soon."})]})}):s.jsx("div",{className:`
      min-h-[540px] 
      bg-[#f7f9fa] 
      flex 
      justify-center 
      px-4 
      pt-14 pb-14 
      sm:pt-16 sm:pb-16 
      md:items-center
    `,children:s.jsxs("form",{onSubmit:i,className:"bg-white w-full max-w-3xl p-6 sm:p-12 rounded-md shadow-xl border border-[#e4e5e7]",children:[s.jsx("h2",{className:"text-3xl font-bold text-[#1c1d1f] mb-2",children:"Contact Us"}),s.jsx("p",{className:"text-[#6a6f73] text-sm mb-6",children:"We're here to help. Send us a message and our team will get in touch soon."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5",children:[s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{type:"text",name:"name",required:!0,placeholder:" ",value:n.name,onChange:o,className:"input-field"}),s.jsx(hs,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"Your Name"})]}),s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{type:"tel",name:"phone",required:!0,placeholder:" ",value:n.phone,onChange:o,className:"input-field",pattern:"^(03[0-9]{9}|0[0-9]{2,3}[0-9]{7,8})$",title:"Enter a valid Pakistani phone number (e.g., 03001234567 for mobile or 02112345678 for landline)"}),s.jsx(ld,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"Phone Number (Pakistan)"}),s.jsx(iI,{prefix:"Phone Number",field:"phone",errors:t.errors,className:"text-xs text-red-500 mt-1"})]}),s.jsxs("div",{className:"spark-input-group md:col-span-2",children:[s.jsxs("select",{name:"course",required:!0,value:n.course,onChange:o,className:"input-field",children:[s.jsx("option",{value:"",disabled:!0,children:"Select course category"}),s.jsx("option",{value:"Web Development",children:"Web Development"}),s.jsx("option",{value:"Shopify + Meta Ads",children:"Shopify + Meta Ads"}),s.jsx("option",{value:"Shopify Masterclass",children:"Shopify Masterclass"}),s.jsx("option",{value:"Social Media Marketing",children:"Social Media Marketing"}),s.jsx("option",{value:"YouTube Automation",children:"YouTube Automation"}),s.jsx("option",{value:"TikTok Shop",children:"TikTok Shop"}),s.jsx("option",{value:"Graphic Design",children:"Graphic Design"}),s.jsx("option",{value:"Spoken English",children:"Spoken English"})]}),s.jsx(bn,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"Select Course Category"}),s.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-[#6a6f73]",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),s.jsxs("div",{className:"spark-input-group mt-4 sm:mt-5",children:[s.jsx("textarea",{name:"message",rows:"5",required:!0,placeholder:" ",value:n.message,onChange:o,className:"input-field"}),s.jsx(t0,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"Your Message"}),s.jsx(iI,{prefix:"Message",field:"message",errors:t.errors,className:"text-xs text-red-500 mt-1"})]}),s.jsx("button",{type:"submit",disabled:t.submitting,className:"spark-submit-btn mt-6 sm:mt-8 cursor-pointer",children:t.submitting?"Sending...":"Send Message"})]})})},Ree=({image:t})=>{const[e,n]=j.useState(Wk);return j.useEffect(()=>{const r=()=>{window.innerWidth<640?n(QZ):n(t||Wk)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[t]),s.jsxs("div",{className:"w-full mx-auto sm:pb-16",children:[s.jsx("div",{className:"h-[250px] sm:h-80 lg:h-[420px] w-full mx-auto max-w-[1440px] bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${e})`}}),s.jsx("div",{className:"block sm:hidden w-full pt-10 pb-10 px-4",children:s.jsx("h1",{className:"text-3xl leading-8 font-bold font-sora text-[#1c1d1f] text-center",children:"Connecting People With Knowledge"})}),s.jsx("div",{children:s.jsx(im,{})}),s.jsxs("div",{className:"w-full py-10 sm:py-14 lg:py-14 flex flex-col items-center text-center px-4",children:[s.jsx("h1",{className:`
              font-bold font-sans text-[#1c1d1f]
              text-[26px] leading-8
              sm:text-[32px] sm:leading-[38px]
              lg:text-[40px] lg:leading-12
              max-w-[800px]
          `,children:"Message"}),s.jsx("p",{className:`
              mt-4
            text-[#1c1d1f]/80
              text-[14px] leading-[22px]
              sm:text-[15px] sm:leading-6
              lg:text-[17px] lg:leading-[26px]
              max-w-[750px]
          `,children:"We created Spark Trainings to give every learner access to world-class knowledge, no matter where they come from. Your success drives everything we do."}),s.jsx("span",{className:"font-semibold pt-4",children:" - CEO, Spark Trainings"})]}),s.jsx("div",{children:s.jsx(Oee,{})})]})},Pee=["Comprehensive understanding of the subject","Real-world project experience","Industry-standard tools and techniques","Certificate of completion"],Dee=["Basic computer skills","Internet connection","Willingness to learn"],Mee=["On-site training","Project files","Certificate","Lifetime access to resources"],Lee=()=>{const{id:t}=sN(),[e,n]=j.useState(null),[r,i]=j.useState(!0),[o,c]=j.useState({open:!1,lecture:null});if(j.useEffect(()=>{async function g(){const x=es.find(b=>b.id===t||b.slug===t);x?n(x):i(!0);try{let b=null;try{const S=await(await ze(`/api/course/${t}`)).json();S.ok&&S.course&&(b=S.course)}catch(_){console.warn("API fetch failed, falling back to Firestore/local",_)}if(!b)try{const _=fQ($k,"courses",t),S=await kQ(_);if(S.exists())b={id:S.id,...S.data()};else{const N=EQ(dQ($k,"courses"),AQ("slug","==",t)),T=await IQ(N);if(!T.empty){const O=T.docs[0];b={id:O.id,...O.data()}}}}catch(_){console.warn("Firestore fetch error:",_)}b||(b=x),b&&n(b)}catch(b){console.error("Error loading course:",b)}finally{i(!1)}}g()},[t]),r&&!e)return s.jsx(c3,{});if(!e)return s.jsxs("div",{className:"max-w-3xl mx-auto py-40 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Course not found "}),s.jsx("p",{className:"text-slate-600 mb-8",children:"The course you are looking for might have been moved or deleted."}),s.jsx(Pe,{to:"/courses",className:"bg-[#0b7e05] text-white px-6 py-3 rounded-md font-semibold hover:scale-105 transition-transform inline-block cursor-pointer",children:"Browse All Courses"})]});const u=e.whatYouWillLearn||Pee,f=e.requirements||Dee,h=e.includes||Mee,p=e.language||"Urdu / English";return s.jsxs("div",{className:"bg-[#f7f9fa] pb-16",children:[s.jsx("section",{className:"bg-[#1c1d1f] text-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-10",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-3",children:e.title}),e.excerpt&&s.jsx("p",{className:"text-sm sm:text-[15px] text-[#d1d7dc] mb-3 max-w-3xl",children:e.excerpt}),s.jsx("p",{className:"text-sm sm:text-base text-[#d1d7dc] mb-4",children:e.instructor||"Spark Trainings"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1 text-[#f4c150]",children:[s.jsx("span",{className:"font-semibold",children:e.rating||4.5}),s.jsx(Kh,{size:16,fill:"#f4c150",stroke:"none"}),s.jsx("span",{className:"text-[#d1d7dc]",children:e.ratingCount||"0 ratings"})]}),s.jsx("span",{className:"text-[#d1d7dc]",children:""}),s.jsxs("div",{className:"flex items-center gap-1 text-[#d1d7dc]",children:[s.jsx(q4,{size:16}),s.jsx("span",{children:p})]}),s.jsx("span",{className:"text-[#d1d7dc]",children:""}),s.jsxs("div",{className:"flex items-center gap-1 text-[#d1d7dc]",children:[s.jsx(MB,{size:16}),s.jsx("span",{children:e.duration||"Self-paced"})]})]})]})}),s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 mt-8 flex flex-col lg:flex-row gap-8",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("section",{className:"bg-white rounded-md shadow-sm p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"What you'll learn"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:u.map((g,x)=>s.jsxs("p",{className:"flex items-start gap-2 text-sm text-[#1c1d1f]",children:[s.jsx(Nr,{className:"text-[#0d9c06]",size:25}),g]},x))})]}),s.jsxs("section",{className:"bg-white rounded-md shadow-sm p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-3",children:"Curriculum"}),Array.isArray(e.lectures)&&e.lectures.length>0?s.jsx("div",{className:"space-y-2",children:e.lectures.map(g=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:g.title}),s.jsx("div",{className:"text-xs text-gray-600",children:g.preview?"Preview":"Locked"})]}),s.jsx("div",{children:s.jsx("button",{onClick:()=>c({open:!0,lecture:g}),className:"px-3 py-1 rounded bg-[#0d9c06] text-white",children:"Play"})})]},g.id))}):s.jsx("div",{className:"text-sm text-gray-600",children:"No lectures yet."})]}),s.jsxs("section",{className:"bg-white rounded-md shadow-sm p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-3",children:"Course description"}),Array.isArray(e.fullDescription)?e.fullDescription.map((g,x)=>s.jsx("p",{className:"text-sm sm:text-[15px] leading-7 text-[#1c1d1f] mb-3 last:mb-0",children:g},x)):s.jsx("p",{className:"text-sm sm:text-[15px] leading-7 text-[#1c1d1f]",children:e.fullDescription||"No description provided."})]}),s.jsxs("section",{className:"bg-white rounded-md shadow-sm p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-3",children:"Requirements"}),s.jsx("ul",{className:"text-sm text-[#1c1d1f] list-disc ml-5 space-y-1",children:f.map((g,x)=>s.jsxs("li",{children:[" ",g]},x))})]})]}),s.jsx("aside",{className:"w-full lg:w-80 cursor-pointer",children:s.jsxs("div",{className:"bg-white rounded-md shadow-sm overflow-hidden",children:[s.jsx("div",{className:"w-full aspect-video overflow-hidden",children:s.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover",onError:g=>{g.target.src="https://via.placeholder.com/300x200?text=No+Image"}})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"text-[25px] font-bold text-[#1c1d1f]",children:e.price})}),s.jsx("div",{className:"mb-6",children:s.jsxs(Pe,{to:"/contact",className:"w-full bg-linear-to-r from-[#0d9c06] to-[#0b7e05] hover:shadow-xl cursor-pointer transition-all hover:scale-105 text-white text-sm rounded-md px-7 py-2.5 flex flex-row gap-1 items-center justify-center font-bold",children:["Get Started",s.jsx(qh,{size:14})]})}),s.jsx("hr",{className:"mb-4 border-gray-300"}),s.jsx("p",{className:"text-xs text-[#6a6f73] mb-2",children:"This course includes:"}),s.jsx("ul",{className:"text-xs text-[#1c1d1f] space-y-1",children:h.map((g,x)=>s.jsxs("li",{children:[" ",g]},x))})]})]})})]}),o.open&&o.lecture&&s.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white w-full max-w-4xl p-4 rounded",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h3",{className:"font-semibold",children:o.lecture.title}),s.jsx("button",{onClick:()=>c({open:!1,lecture:null}),className:"px-2 py-1 bg-gray-200 rounded",children:"Close"})]}),s.jsx("div",{className:"aspect-video",children:s.jsx("iframe",{title:o.lecture.title,src:`https://drive.google.com/file/d/${o.lecture.driveFileId}/preview`,className:"w-full h-full",allow:"autoplay; encrypted-media"})})]})})]})},zee=()=>s.jsx("main",{className:"bg-[#f7f9fa] min-h-screen py-10 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-5xl mx-auto bg-white shadow-sm rounded-md px-4 sm:px-8 py-8 sm:py-10",children:[s.jsx("header",{className:"mb-8 sm:mb-10 border-b border-gray-200 pb-4",children:s.jsx("h1",{className:"text-3xl sm:text-4xl font-sora font-bold text-[#1c1d1f]",children:"Spark Trainings Accessibility Statement"})}),s.jsxs("section",{className:"mb-8 sm:mb-10",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-[#1c1d1f] mb-3",children:"Accessibility Commitment"}),s.jsx("p",{className:"text-sm sm:text-[15px] leading-7 text-[#1c1d1f] mb-3",children:"Our goal is to provide accessible, practical, and effective skill development for learners across Pakistan. We believe that high-quality educational content should be available to everyone, which is why accessibility is an important area of focus for Spark Trainings."}),s.jsx("p",{className:"text-sm sm:text-[15px] leading-7 text-[#1c1d1f]",children:"Our team is continuously working to improve the accessibility of our website, training materials, and on-site learning experience. Below are some examples of how we are building a more accessible Spark Trainings platform:"})]}),s.jsx("section",{className:"mb-8 sm:mb-10",children:s.jsxs("ul",{className:"list-disc pl-5 space-y-3 text-sm sm:text-[15px] leading-7 text-[#1c1d1f]",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Accessibility guidelines."})," ","We strive to align with the Web Content Accessibility Guidelines (WCAG) 2.1 issued by the World Wide Web Consortium (W3C), as well as recommended accessibility best practices. We review our website and materials using principles from the Accessible Rich Internet Applications (WAI-ARIA) specification."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Compatibility testing."})," ","We review key parts of our website for compatibility with common assistive technologies, including screen readers and built-in accessibility tools available on Windows, macOS, iOS and Android devices. We aim to ensure that navigation, buttons, forms and links are usable through keyboard and assistive software."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Subtitles and closed captions."})," ","While our classes are delivered on-site, many of our digital learning resources include captioned or transcribed content when applicable. We are working to expand caption support in future online materials and video content."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Readable design."})," ","We ensure that our typography, color choices, spacing and layout follow accessibility-conscious design principles. Our aim is to support better visibility and readability for learners with visual or cognitive disabilities."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Keyboard accessibility."})," ","Core pages of our website can be navigated using keyboard-only controls. We test and update key interactions to support users who rely on non-mouse input methods."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Clear communication."})," ","Our website content, course details, schedules and instructions are written in clear, simple language. We offer guidance in both"," ",s.jsx("span",{className:"font-semibold",children:"Urdu and English"})," during on-site classes to support broader accessibility."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Instructor support."})," ","Our instructors provide additional explanations, visual demonstrations and time flexibility where needed, helping us maintain an inclusive learning environment for students with different needs."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Ongoing improvements."})," ","We regularly review our design, content and classroom experience with accessibility in mind and make updates as needed. We are committed to learning and improving over time."]})]})}),s.jsxs("section",{className:"mb-8 sm:mb-10",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-[#1c1d1f] mb-3",children:"Accessibility Assistance"}),s.jsx("p",{className:"text-sm sm:text-[15px] leading-7 text-[#1c1d1f] mb-3",children:"If you experience difficulty accessing any part of the Spark Trainings website, or if you need accommodations for an on-site class, we are here to help. We value your feedback and use it to improve our services."}),s.jsx("p",{className:"text-sm sm:text-[15px] leading-7 text-[#1c1d1f]",children:"Please contact us at:"}),s.jsxs("ul",{className:"mt-2 space-y-1 text-sm sm:text-[15px] leading-7 text-[#1c1d1f]",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Email:"})," ",s.jsx("a",{href:"mailto:support@sparktrainings.pk",className:"text-[#0d9c06] hover:underline cursor-pointer",children:"support@sparktrainings.pk"})]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Phone:"})," +92 303 6811 487"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Address:"})," 51/G1 College Road, Spark Trainings, Chishtian"]})]}),s.jsx("p",{className:"text-xs sm:text-[13px] text-gray-600 mt-3",children:"When contacting us, please include the page URL where you experienced the issue, a brief description of the problem, and the device, browser or assistive technology you were using (if applicable). This helps us identify and resolve the problem more quickly."})]}),s.jsx("section",{className:"border-t border-gray-200 pt-4 mt-4",children:s.jsx("p",{className:"text-xs sm:text-[13px] text-gray-600",children:"Last updated: February 2026"})})]})}),Uee=["All","Classroom","Students","Setups","Certificates","Events"],Vee=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(!0),[i,o]=j.useState(null),[c,u]=j.useState("All"),[f,h]=j.useState(8);j.useEffect(()=>{async function N(){try{const O=await(await ze("/api/gallery")).json();O.ok&&O.items&&O.items.length>0?e(O.items):e([{url:"https://images.unsplash.com/photo-1763333868819-9ae30223a897?q=80&w=687&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",category:"Classroom",type:"image",title:"Classroom Session"},{url:"https://images.unsplash.com/photo-1763333868819-9ae30223a897?q=80&w=687&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",category:"Students",type:"image",title:"Students Learning"},{url:"https://images.unsplash.com/photo-1763333868819-9ae30223a897?q=80&w=687&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",category:"Setups",type:"image",title:"Lab Setup"},{url:"https://images.unsplash.com/photo-1763333868819-9ae30223a897?q=80&w=687&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",category:"Certificates",type:"image",title:"Certificate Distribution"}])}catch(T){console.error("Error fetching gallery:",T)}finally{r(!1)}}N()},[]);const p=c==="All"?t:t.filter(N=>N.category===c),g=p.slice(0,f),x=f<p.length,b=N=>{u(N),h(8)},_=()=>{h(N=>N+4)},S=N=>N?N.startsWith("http")?N:`${ad.apiUrl}${N}`:"";return s.jsx("div",{className:"min-h-screen bg-[#f7f9fa] py-10 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold font-sora text-[#1c1d1f] mb-3",children:"Spark Trainings Gallery"}),s.jsx("p",{className:"text-[15px] text-slate-600 max-w-2xl mb-6",children:"Explore our classroom sessions, student success stories, lab setups, and events at Spark Trainings."}),s.jsx("div",{className:"mb-8 border-b border-gray-200 pb-3 overflow-x-auto",children:s.jsx("div",{className:"flex gap-2 sm:gap-3 text-sm",children:Uee.map(N=>s.jsx("button",{type:"button",onClick:()=>b(N),className:`whitespace-nowrap rounded-full border px-4 py-1.5 transition text-[13px] sm:text-sm font-semibold cursor-pointer ${c===N?"bg-[#1c1d1f] text-white border-[#1c1d1f]":"bg-white text-[#1c1d1f] border-gray-300 hover:bg-gray-100"}`,children:N},N))})}),n?s.jsx("div",{className:"flex justify-center py-20",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0d9c06]"})}):g.length===0?s.jsx("div",{className:"text-center py-20 bg-white rounded-md border border-dashed border-gray-200",children:s.jsx("p",{className:"text-slate-500 font-medium",children:"No items found for this category."})}):s.jsx("div",{className:"columns-1 sm:columns-2 lg:columns-3 xl:columns-4 gap-4 space-y-4",children:g.map((N,T)=>s.jsxs("div",{className:"rounded-md overflow-hidden break-inside-avoid cursor-pointer group ring-1 ring-slate-200 bg-white relative",onClick:()=>o(N),children:[N.type==="video"?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:S(N.thumbnail||"https://images.unsplash.com/photo-1485846234645-a62644f84728?q=80&w=400"),alt:N.title,loading:"lazy",className:"w-full rounded-md transition-transform duration-300 group-hover:scale-[1.03]"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 group-hover:bg-black/30 transition-colors",children:s.jsx("div",{className:"bg-white/90 p-3 rounded-full text-[#0d9c06] shadow-xl",children:s.jsx(Zs,{size:24})})})]}):s.jsx("img",{src:S(N.url),alt:N.title||N.category,loading:"lazy",className:"w-full rounded-md transition-transform duration-300 group-hover:scale-[1.03]"}),s.jsx("div",{className:"absolute bottom-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("span",{className:"px-2 py-1 bg-black/60 backdrop-blur-md text-white text-[10px] uppercase font-bold rounded-md",children:N.category})})]},N._id||T))}),x&&s.jsx("div",{className:"mt-8 flex justify-center",children:s.jsx("button",{type:"button",onClick:_,className:"px-6 py-2.5 rounded-md bg-[#0d9c06] text-sm font-semibold text-white hover:bg-[#11c50a] cursor-pointer transition shadow-sm",children:"Load more"})}),i&&s.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-100 px-4",onClick:()=>o(null),children:s.jsxs("div",{className:"max-w-5xl w-full relative",onClick:N=>N.stopPropagation(),children:[s.jsx("button",{onClick:()=>o(null),className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors",children:s.jsx(ot,{size:32})}),i.type==="video"?s.jsx("div",{className:"aspect-video w-full bg-black rounded-md overflow-hidden shadow-2xl",children:i.url.includes("youtube.com")||i.url.includes("youtu.be")?s.jsx("iframe",{src:i.url.replace("watch?v=","embed/").replace("youtu.be/","youtube.com/embed/"),className:"w-full h-full",allowFullScreen:!0,title:i.title}):s.jsx("video",{src:S(i.url),controls:!0,autoPlay:!0,className:"w-full h-full"})}):s.jsx("img",{src:S(i.url),alt:i.title,className:"w-full rounded-md shadow-2xl max-h-[80vh] object-contain"}),s.jsxs("div",{className:"mt-4 text-white",children:[s.jsx("h3",{className:"text-xl font-bold",children:i.title}),s.jsx("p",{className:"text-gray-400 text-sm uppercase font-semibold tracking-wider mt-1",children:i.category})]})]})})]})})},Bee=[{name:"Ayesha Khan",role:"BSCS Student",text:"Spark Trainings ne meri life literally change kar di. Web development ka course itna practical tha ke main ab freelance projects le rahi hoon."},{name:"Mudassir Saleem",role:"Web Developer",text:"Spark Trainings ke Web Development course ne meri skills ko next level par le jaaya. Ab main ek reputed IT company mein kaam kar raha hoon."},{name:"Yasir Azad",role:"SMM Expert",text:"Spark Trainings ke Social Media Marketing course ne mujhe digital marketing ki duniya se introduce karwaya. Ab main apni agency chala raha hoon aur clients ko results de raha hoon."},{name:"Ali Raza",role:"Shopify Store Owner",text:"Shopify Masterclass ke baad main ne apna pehla online store launch kiya. Jo cheezen YouTube se samajh nahi aati thin, yahan clear ho gain."},{name:"Sara Ahmed",role:"Graphic Designer",text:"Graphic Design Masterclass ne mujhe proper direction di. Ab meray paas ek strong portfolio hai aur main clients ke sath confidently kaam karti hoon."},{name:"Muhammad Bilal",role:"YouTube Creator",text:"YouTube Automation course ke through mujhe AI tools aur content system samajh aaya. Ab main multiple faceless channels manage kar raha hoon."},{name:"Hamza Iqbal",role:"Social Media Manager",text:"Social Media Marketing Mastery ne mujhe content strategy, reels, aur campaign planning sikha di. Ab main local brands ke pages professionally handle karta hoon."},{name:"Fatima Noor",role:"English Learner",text:"English Speaking Mastery ka sabse best part daily speaking practice tha. Ab main interviews aur meetings mein English mein comfortably baat kar sakti hoon."}];function Fee(){return s.jsx("main",{className:"bg-[#f7f9fb] min-h-screen",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-16",children:[s.jsxs("header",{className:"max-w-3xl mb-10",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-[32px] font-semibold text-[#1c1d1f] leading-tight",children:"What our students say about Spark Trainings"}),s.jsx("p",{className:"mt-3 text-[15px] sm:text-base text-[#6a6f73]",children:"Real feedback from learners across Pakistan who joined our on-site classes for web development, design, marketing and more."})]}),s.jsx("section",{"aria-label":"Student reviews",className:`
            grid 
            gap-4 sm:gap-5 
            grid-cols-1
            md:grid-cols-3
            xl:grid-cols-4
          `,children:Bee.map((t,e)=>s.jsxs("article",{className:`
                flex h-full flex-col 
                rounded-md border border-[#e4e5e7] 
                bg-white px-6 py-7 
                shadow-sm
               cursor-pointer`,children:[s.jsx(K4,{className:"h-5 w-5 rotate-180 fill-slate-900 text-slate-900 mb-4"}),s.jsx("p",{className:"text-[15px] leading-relaxed text-[#1c1d1f] mb-6",children:t.text}),s.jsxs("div",{className:"mt-auto",children:[s.jsx("p",{className:"font-semibold text-[#111827] text-[15px]",children:t.name}),s.jsx("p",{className:"text-sm text-[#6a6f73]",children:t.role})]})]},e))})]})})}const $ee=()=>s.jsx("main",{className:"bg-[#f7f9fa] min-h-screen",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-16",children:[s.jsxs("header",{className:"mb-10",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-semibold text-[#1c1d1f] mb-4",children:"Spark Trainings Privacy Policy"}),s.jsx("p",{className:"text-sm sm:text-[15px] text-[#4a4e52] leading-relaxed",children:'This Privacy Policy explains how Spark Trainings ("we", "our", or "us") collects, uses and protects your personal information when you visit our website, contact us, or attend our on-site classes in Pakistan.'}),s.jsx("p",{className:"mt-2 text-xs text-[#6a6f73]",children:"Last updated: 24 November 2025"})]}),s.jsxs("section",{className:"bg-white rounded-md shadow-sm border border-[#e4e5e7] px-6 sm:px-8 py-8 sm:py-10 text-sm sm:text-[15px] text-[#1c1d1f] leading-7",children:[s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"1. Information we collect"}),s.jsx("p",{className:"mb-3",children:"We collect different types of information depending on how you use Spark Trainings."}),s.jsx("h3",{className:"font-semibold mb-1",children:"1.1 Information you provide to us"}),s.jsxs("ul",{className:"list-disc ml-5 space-y-1 mb-3",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-medium",children:"Contact details"}),"  such as your name, email address, phone number and city when you fill out our contact form, WhatsApp form, or register for a course."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-medium",children:"Registration information"}),"  selected course, preferred batch, education background and any other details you choose to share during sign-up."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-medium",children:"Payment information"}),"  if you pay online, limited billing details may be processed by our payment partners. We do not store full card details on our servers."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-medium",children:"Communication data"}),"  emails or messages you send us, feedback forms, and queries submitted through our website or social media."]})]}),s.jsx("h3",{className:"font-semibold mb-1",children:"1.2 Information collected automatically"}),s.jsx("p",{className:"mb-2",children:"When you visit our website, some information is collected automatically to help us improve our services:"}),s.jsxs("ul",{className:"list-disc ml-5 space-y-1",children:[s.jsx("li",{children:"IP address and approximate location (city / country)"}),s.jsx("li",{children:"Device type, browser type and operating system"}),s.jsx("li",{children:"Pages visited, time spent, and referring URLs"}),s.jsx("li",{children:"Basic analytics data collected through tools like Google Analytics or similar services"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"2. How we use your information"}),s.jsx("p",{className:"mb-2",children:"We use the information we collect for the following purposes:"}),s.jsxs("ul",{className:"list-disc ml-5 space-y-1",children:[s.jsx("li",{children:"To process your course registration and manage your booking"}),s.jsx("li",{children:"To contact you about class schedules, updates and reminders"}),s.jsx("li",{children:"To respond to your questions, support requests and feedback"}),s.jsx("li",{children:"To improve our website, courses and student experience based on usage patterns and feedback"}),s.jsx("li",{children:"To send you information about new courses, offers or events (only where permitted and you can opt out at any time)"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"3. Cookies and tracking technologies"}),s.jsx("p",{className:"mb-2",children:"Our website may use cookies and similar technologies to:"}),s.jsxs("ul",{className:"list-disc ml-5 space-y-1 mb-2",children:[s.jsx("li",{children:"Remember your preferences (such as selected course or city)"}),s.jsx("li",{children:"Understand how visitors use our site"}),s.jsx("li",{children:"Improve loading speed and overall performance of the website"})]}),s.jsx("p",{children:"You can control cookies through your browser settings. Disabling cookies may affect some features of the site."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"4. How we share your information"}),s.jsxs("p",{className:"mb-2",children:["We do ",s.jsx("span",{className:"font-semibold",children:"not"})," sell your personal data. We may share limited information only in the following cases:"]}),s.jsxs("ul",{className:"list-disc ml-5 space-y-1",children:[s.jsx("li",{children:"With trusted service providers (e.g., payment gateways, email providers, analytics tools) who help us operate our website and services."}),s.jsx("li",{children:"When required by law, regulation, court order, or government request."}),s.jsx("li",{children:"To protect the rights, property, or safety of Spark Trainings, our students, or the public."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"5. Data retention and security"}),s.jsx("p",{className:"mb-2",children:"We keep your personal information only for as long as needed to provide our services, comply with legal requirements, or resolve disputes."}),s.jsx("p",{children:"We use reasonable technical and organizational measures to protect your data. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"6. Your rights and choices"}),s.jsx("p",{className:"mb-2",children:"Depending on applicable law, you may have the right to:"}),s.jsxs("ul",{className:"list-disc ml-5 space-y-1 mb-2",children:[s.jsx("li",{children:"Request access to the personal data we hold about you"}),s.jsx("li",{children:"Ask us to correct inaccurate or incomplete information"}),s.jsx("li",{children:"Request deletion of your data, where allowed by law and course record requirements"}),s.jsx("li",{children:"Opt out of receiving marketing messages by using the unsubscribe link or contacting us directly"})]}),s.jsxs("p",{children:["To exercise any of these rights, please contact us using the details provided in the"," ",s.jsx("span",{className:"font-semibold",children:"Contact us"})," section below."]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"7. Children's privacy"}),s.jsx("p",{children:"Our courses are generally aimed at students, young adults and professionals. If we offer programs for younger learners, they are taken with parental consent. If you believe that a child has provided us personal information without consent, please contact us so we can remove it."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"8. Third-party websites and services"}),s.jsx("p",{children:"Our website may contain links to third-party websites (such as YouTube, WhatsApp, Facebook, Instagram, or payment gateways). We are not responsible for the privacy practices of those websites. We encourage you to read their privacy policies before providing any personal information."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"9. Changes to this Privacy Policy"}),s.jsx("p",{children:'We may update this Privacy Policy from time to time to reflect changes in our services or legal requirements. When we update the policy, we will revise the "Last updated" date at the top. We encourage you to review this page regularly.'})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"10. Contact us"}),s.jsx("p",{className:"mb-2",children:"If you have any questions about this Privacy Policy or how we handle your data, you can contact us at:"}),s.jsx("p",{className:"font-medium",children:"Spark Trainings"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," 51/G1 College Road, Spark Trainings, Chishtian",s.jsx("br",{}),s.jsx("strong",{children:"Email:"})," ",s.jsx("span",{className:"underline",children:"support@sparktrainings.pk"}),s.jsx("br",{}),s.jsx("strong",{children:"Phone / WhatsApp:"})," +92 303 6811 487"]})]}),s.jsx("p",{className:"mt-6 text-xs text-[#6a6f73]",children:"This page is for general informational purposes only and does not constitute legal advice. For specific legal guidance about your privacy obligations, please consult a qualified professional."})]})]})}),qee=()=>s.jsx("main",{className:"bg-[#f7f9fa] min-h-screen",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-16",children:[s.jsxs("header",{className:"mb-10",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-semibold font-sora text-[#1c1d1f] mb-4",children:"Terms & Conditions"}),s.jsx("p",{className:"text-sm sm:text-[15px] text-[#4a4e52] leading-relaxed",children:"These Terms & Conditions govern your use of Spark Trainings website, services, and on-site classes in Pakistan. By enrolling in a course, submitting a form, or browsing our website, you agree to the policies outlined below."}),s.jsx("p",{className:"mt-2 text-xs text-[#6a6f73]",children:"Last updated: 24 November 2025"})]}),s.jsxs("section",{className:"bg-white rounded-md shadow-sm border border-[#e4e5e7] px-6 sm:px-8 py-8 sm:py-10 text-sm sm:text-[15px] text-[#1c1d1f] leading-7",children:[s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"1. Acceptance of Terms"}),s.jsx("p",{children:"By accessing our website, contacting us, or joining any Spark Trainings course, you agree to comply with these Terms & Conditions. If you do not agree with any part of this document, please discontinue using our services."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"2. On-Site Classes & Training Policy"}),s.jsx("p",{className:"mb-2",children:"Spark Trainings provides on-site, instructor-led classes. By enrolling, you agree to the following:"}),s.jsxs("ul",{className:"ml-5 list-disc space-y-1",children:[s.jsx("li",{children:"Your seat is confirmed only after registration & payment."}),s.jsx("li",{children:"You must attend classes on the assigned days and timings for your selected batch."}),s.jsx("li",{children:"Spark Trainings has the right to reschedule classes, change instructors, or adjust class duration when necessary."}),s.jsx("li",{children:"Missed classes may not be rescheduled individually unless clearly stated by the instructor."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"3. Fees, Payments & Refund Policy"}),s.jsx("p",{className:"mb-2",children:"All course fees must be paid as per the instructions given during registration. By paying, you agree to the following:"}),s.jsxs("ul",{className:"ml-5 list-disc space-y-1 mb-2",children:[s.jsx("li",{children:"Course fees are **non-refundable**, except in rare cases where Spark Trainings cancels a batch entirely."}),s.jsx("li",{children:"If you miss classes due to personal reasons, fees will not be refunded or adjusted."}),s.jsx("li",{children:"If your payment is made online, the payment gateway may charge a processing fee, which is non-refundable."})]}),s.jsx("p",{children:"Spark Trainings may offer installment or partial-payment plans for some courses. These must be completed before certification is issued."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"4. Course Material & Intellectual Property"}),s.jsx("p",{className:"mb-2",children:"All training content, including slides, video demos, assignments, files, and branding materials, are the intellectual property of Spark Trainings."}),s.jsxs("ul",{className:"ml-5 list-disc space-y-1",children:[s.jsx("li",{children:"You may not copy, resell, distribute, or upload our content without written permission."}),s.jsx("li",{children:"Class recordings (if provided) are for personal learning only."}),s.jsx("li",{children:"Sharing internal training materials publicly (WhatsApp groups, YouTube, TikTok, etc.) is strictly prohibited."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"5. Student Conduct & Responsibilities"}),s.jsx("p",{className:"mb-2",children:"To maintain a professional learning environment, students must:"}),s.jsxs("ul",{className:"ml-5 list-disc space-y-1",children:[s.jsx("li",{children:"Treat instructors and classmates with respect."}),s.jsx("li",{children:"Not disrupt or disturb live classes."}),s.jsx("li",{children:"Not share offensive content, behave rudely, or violate classroom rules."}),s.jsx("li",{children:"Follow the instructors instructions regarding projects, assignments and software usage."})]}),s.jsx("p",{className:"mt-3",children:"Spark Trainings reserves the right to remove any student violating these rules without refund."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"6. Attendance Policy"}),s.jsx("p",{className:"mb-2",children:"Regular attendance is required for successful course completion."}),s.jsxs("ul",{className:"ml-5 list-disc space-y-1",children:[s.jsx("li",{children:"If you miss more than the allowed number of classes, you may not qualify for certification."}),s.jsx("li",{children:"Make-up classes depend on instructor availability and are not guaranteed."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"7. Certification Rules"}),s.jsxs("ul",{className:"ml-5 list-disc space-y-1",children:[s.jsx("li",{children:"Certificates are issued only after course completion."}),s.jsx("li",{children:"Completion requires attending required classes and completing assigned projects or assessments."}),s.jsx("li",{children:"Spark Trainings may refuse certification for incomplete attendance or misconduct."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"8. Use of Website & Online Platforms"}),s.jsx("p",{className:"mb-2",children:"By using our website, you agree not to:"}),s.jsxs("ul",{className:"ml-5 list-disc space-y-1",children:[s.jsx("li",{children:"Upload harmful code, scripts or malware"}),s.jsx("li",{children:"Attempt to hack, modify or copy website content"}),s.jsx("li",{children:"Use automated tools to scrape data without permission"}),s.jsx("li",{children:"Impersonate Spark Trainings staff or instructors"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"9. Limitation of Liability"}),s.jsx("p",{children:"Spark Trainings is not responsible for:"}),s.jsxs("ul",{className:"ml-5 list-disc space-y-1 mt-2",children:[s.jsx("li",{children:"Losses due to system outages, internet issues or delays"}),s.jsx("li",{children:"Personal devices malfunctioning during class"}),s.jsx("li",{children:"Job placement or guaranteed income after course completion"})]}),s.jsx("p",{className:"mt-3",children:"We provide skill training and guidance  results depend on your own efforts, practice and consistency."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"10. Updates to These Terms"}),s.jsx("p",{children:"Spark Trainings may update these Terms & Conditions at any time. The updated version will always be posted on this page. Continued use of our services means you accept the revised terms."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"11. Contact Us"}),s.jsx("p",{className:"mb-3",children:"For questions regarding these Terms & Conditions, contact us at:"}),s.jsx("p",{className:"font-medium",children:"Spark Trainings"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," 51/G1 College Road, Chishtian, Pakistan ",s.jsx("br",{}),s.jsx("strong",{children:"Email:"})," support@sparktrainings.pk",s.jsx("br",{}),s.jsx("strong",{children:"WhatsApp:"})," +92 303 6811 487"]})]}),s.jsx("p",{className:"mt-6 text-xs text-[#6a6f73]",children:"These Terms & Conditions are for general information and do not constitute legal advice."})]})]})});function Hee(){const[t,e]=j.useState(""),[n,r]=j.useState(""),[i,o]=j.useState(!1),[c,u]=j.useState(""),f=zr(),h=async p=>{p.preventDefault(),u("");try{const x=(await B6($n,t,n)).user,b=Date.now().toString()+Math.random().toString(36).substring(2);await ze("/api/auth/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:x.uid,sessionId:b})}),localStorage.setItem(`session_${x.uid}`,b),f("/student/dashboard")}catch(g){console.error(g),u("Invalid email or password")}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsxs("div",{className:"w-full max-w-md bg-white shadow-xl rounded-md p-10 border border-gray-200",children:[s.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900",children:"Welcome Back"}),s.jsx("p",{className:"text-center text-gray-500 mt-2",children:"Sign in to continue to your Spark dashboard."}),c&&s.jsx("div",{className:"text-red-500 text-center mt-4",children:c}),s.jsxs("form",{onSubmit:h,className:"mt-8 space-y-6",children:[s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{type:"email",placeholder:" ",className:"input-field",value:t,onChange:p=>e(p.target.value),required:!0}),s.jsx(hi,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"Email Address"})]}),s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{type:i?"text":"password",placeholder:" ",className:"input-field",value:n,onChange:p=>r(p.target.value),required:!0}),s.jsx(Qr,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"Password"}),s.jsx("button",{type:"button",className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 z-20 cursor-pointer",onClick:()=>o(!i),children:i?s.jsx(eo,{size:18}):s.jsx(as,{size:18})})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4"}),"Remember me"]}),s.jsx("button",{type:"button",className:"text-green-600 hover:underline cursor-pointer",children:"Forgot password?"})]}),s.jsx("button",{type:"submit",className:"spark-submit-btn cursor-pointer",children:"Log In"}),s.jsxs("p",{className:"text-center text-gray-600",children:["Dont have an account?"," ",s.jsx(Pe,{to:"/register",className:"text-green-600 font-semibold hover:underline cursor-pointer",children:"Register here"})]})]})]})})}function Gee(){return s.jsx("div",{children:s.jsx(Hee,{})})}function Kee(){const[t,e]=j.useState(""),[n,r]=j.useState(""),[i,o]=j.useState(""),[c,u]=j.useState(""),[f,h]=j.useState(""),[p,g]=j.useState(!1),[x,b]=j.useState(!1),[_,S]=j.useState(""),[N,T]=j.useState(!1),O=zr(),C=async M=>{if(M.preventDefault(),S(""),c!==f){S("Passwords do not match.");return}try{T(!0);const{user:R}=await V6($n,i,c);await Yg(R,{displayName:t});try{const F=await fetch("https://spark-lms-backend.vercel.app/api/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:R.uid,email:R.email,displayName:t})});if(F.ok){const E=await F.json();console.log("Reference number assigned:",E.referenceNumber)}}catch(F){console.error("Failed to store reference number:",F)}O("/")}catch(R){let F="Registration failed. Please try again.";R.code==="auth/email-already-in-use"?F="This email is already registered.":R.code==="auth/weak-password"&&(F="Password should be at least 6 characters."),S(F)}finally{T(!1)}};return s.jsx("main",{className:"min-h-screen bg-[#f7f9fa] flex items-center justify-center px-4 py-10",children:s.jsxs("div",{className:"w-full max-w-xl bg-white shadow-lg rounded-md border border-[#e4e5e7] p-8 sm:p-10",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-[#1c1d1f]",children:"Create your account"}),s.jsxs("p",{className:"text-sm text-[#6a6f73] mt-1 flex items-center justify-center gap-1",children:["Feel the spark in you!",s.jsx(N1,{size:16,className:"fill-amber-400 text-amber-400"})]})]}),_&&s.jsx("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",role:"alert",children:s.jsx("span",{className:"block text-sm",children:_})}),s.jsxs("form",{onSubmit:C,className:"space-y-5",children:[s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{type:"text",placeholder:" ",className:"input-field",value:t,onChange:M=>e(M.target.value),required:!0}),s.jsx(hs,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"Full Name"})]}),s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{type:"tel",placeholder:" ",className:"input-field",value:n,onChange:M=>r(M.target.value),required:!0}),s.jsx(ld,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"Phone Number"})]}),s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{type:"email",placeholder:" ",className:"input-field",value:i,onChange:M=>o(M.target.value),required:!0}),s.jsx(hi,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"Email Address"})]}),s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{type:p?"text":"password",placeholder:" ",className:"input-field",value:c,onChange:M=>u(M.target.value),required:!0}),s.jsx(Qr,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"Password"}),s.jsx("button",{type:"button",onClick:()=>g(M=>!M),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 z-20",children:p?s.jsx(eo,{size:18}):s.jsx(as,{size:18})})]}),s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{type:x?"text":"password",placeholder:" ",className:"input-field",value:f,onChange:M=>h(M.target.value),required:!0}),s.jsx(Qr,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"Confirm Password"}),s.jsx("button",{type:"button",onClick:()=>b(M=>!M),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 z-20",children:x?s.jsx(eo,{size:18}):s.jsx(as,{size:18})})]}),s.jsx("button",{type:"submit",disabled:N,className:"spark-submit-btn cursor-pointer",children:N?"Creating account...":"Create Account"})]}),s.jsxs("p",{className:"mt-6 text-center text-sm text-[#6a6f73]",children:["By clicking Sign Up, you agree to our ",s.jsx(Pe,{to:"/termsandconditions",className:"font-semibold text-[#0d9c06] hover:underline cursor-pointer",children:"Terms"}),", ",s.jsx(Pe,{to:"/privacypolicy",className:"font-semibold text-[#0d9c06] hover:underline cursor-pointer",children:"Privacy Policy"})," and ",s.jsx(Pe,{to:"/cookiespolicy",className:"font-semibold text-[#0d9c06] hover:underline cursor-pointer",children:"Cookies Policy"}),"."]})]})})}const Wee=()=>s.jsx("div",{children:s.jsx(Kee,{})});function Yee({videoUrl:t,previewUrl:e,title:n,isPreview:r=!1}){const[i,o]=j.useState(!1),[c,u]=j.useState(!1),[f,h]=j.useState(0),[p,g]=j.useState(0),[x,b]=j.useState(!0),[_,S]=j.useState(1),N=j.useRef(null),T=j.useRef(null),O=r?e:t,C=()=>{N.current&&(i?N.current.pause():N.current.play(),o(!i))},M=()=>{N.current&&(N.current.muted=!c,u(!c))},R=()=>{N.current&&h(N.current.currentTime)},F=()=>{N.current&&g(N.current.duration)},E=L=>{const se=L.target.value/100*p;N.current&&(N.current.currentTime=se,h(se))},I=L=>{const se=L.target.value/100;N.current&&(N.current.volume=se,S(se),u(se===0))},D=()=>{N.current&&(document.fullscreenElement?document.exitFullscreen():N.current.requestFullscreen())},V=L=>{N.current&&(N.current.currentTime+=L)},z=L=>{if(isNaN(L))return"0:00";const se=Math.floor(L/60),Ne=Math.floor(L%60);return`${se}:${Ne.toString().padStart(2,"0")}`},$=()=>{b(!0),T.current&&clearTimeout(T.current),T.current=setTimeout(()=>{i&&b(!1)},3e3)};return s.jsxs("div",{className:"relative w-full bg-black rounded-md overflow-hidden group",onMouseMove:$,onMouseLeave:()=>i&&b(!1),children:[s.jsx("video",{ref:N,className:"w-full aspect-video object-contain",onTimeUpdate:R,onLoadedMetadata:F,onEnded:()=>o(!1),onClick:C,src:O,children:"Your browser does not support the video tag."}),r&&s.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/80 via-transparent to-black/40 flex items-center justify-center pointer-events-none",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx("div",{className:"bg-[#0d9c06]/90 backdrop-blur-sm px-4 py-2 rounded-full text-sm font-semibold mb-2",children:"Preview Mode"}),s.jsx("p",{className:"text-xs opacity-80",children:"Enroll to watch full lecture"})]})}),!i&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20",children:s.jsx("button",{onClick:C,className:"w-20 h-20 bg-[#0d9c06] hover:bg-[#0b7e05] rounded-full flex items-center justify-center transition-all transform hover:scale-110 shadow-2xl cursor-pointer",children:s.jsx(XT,{size:36,className:"text-white ml-1",fill:"white"})})}),s.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-linear-to-t from-black/90 via-black/70 to-transparent p-4 transition-opacity duration-300 ${x||!i?"opacity-100":"opacity-0"}`,children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("input",{type:"range",min:"0",max:"100",value:f/p*100||0,onChange:E,className:"w-full h-1 bg-gray-600 rounded-md appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #0d9c06 0%, #0d9c06 ${f/p*100}%, #4b5563 ${f/p*100}%, #4b5563 100%)`}}),s.jsxs("div",{className:"flex justify-between text-xs text-white mt-1",children:[s.jsx("span",{children:z(f)}),s.jsx("span",{children:z(p)})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:C,className:"text-white hover:text-[#0d9c06] transition-colors cursor-pointer",children:i?s.jsx(KF,{size:24}):s.jsx(XT,{size:24})}),s.jsx("button",{onClick:()=>V(-10),className:"text-white hover:text-[#0d9c06] transition-colors",children:s.jsx(l$,{size:20})}),s.jsx("button",{onClick:()=>V(10),className:"text-white hover:text-[#0d9c06] transition-colors",children:s.jsx(u$,{size:20})}),s.jsxs("div",{className:"flex items-center gap-2 group/volume",children:[s.jsx("button",{onClick:M,className:"text-white hover:text-[#0d9c06] transition-colors cursor-pointer",children:c||_===0?s.jsx(Q4,{size:20}):s.jsx(Y4,{size:20})}),s.jsx("input",{type:"range",min:"0",max:"100",value:_*100,onChange:I,className:"w-0 group-hover/volume:w-20 transition-all duration-300 h-1 bg-gray-600 rounded-md appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #0d9c06 0%, #0d9c06 ${_*100}%, #4b5563 ${_*100}%, #4b5563 100%)`}})]}),s.jsxs("span",{className:"text-white text-sm ml-2",children:[z(f)," / ",z(p)]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{className:"text-white hover:text-[#0d9c06] transition-colors cursor-pointer",children:s.jsx(r$,{size:20})}),s.jsx("button",{onClick:D,className:"text-white hover:text-[#0d9c06] transition-colors cursor-pointer",children:s.jsx($F,{size:20})})]})]})]}),n&&x&&s.jsx("div",{className:"absolute top-0 left-0 right-0 bg-linear-to-b from-black/70 to-transparent p-4",children:s.jsx("h3",{className:"text-white font-semibold text-sm",children:n})})]})}function Qee(){const{id:t}=sN(),[e,n]=j.useState(null),[r,i]=j.useState(!0),[o,c]=j.useState([]),[u,f]=j.useState(null);if(j.useEffect(()=>{async function g(){const x=Sh.find(b=>b.id===t||b.slug===t);if(x){if(n(x),x.lectures){let b=[];x.lectures.forEach(_=>_.lectures?b=[...b,..._.lectures]:b.push(_)),c(b),b.length>0&&f({...b[0],isPreview:!0})}}else i(!0);try{const _=await(await ze(`/api/course/${t}`)).json();if(_.ok&&_.course){const S=_.course;n(S);let N=[];if(S.lectures&&S.lectures.forEach(T=>{T.lectures?N=[...N,...T.lectures]:N.push(T)}),c(N),N.length>0){const T={...N[0],isPreview:!0};f(T)}}}catch(b){console.error("Error fetching course:",b)}finally{i(!1)}}g()},[t]),r&&!e)return s.jsx(c3,{});if(!e)return s.jsx("div",{className:"max-w-3xl mx-auto py-20 text-center text-2xl font-semibold",children:"Online course not found "});const h=(g,x)=>{(x===0||g.isPreview)&&f({...g,isPreview:!0})},p=g=>{if(!g)return"";if(g.includes("drive.google.com")){const x=g.match(/\/d\/([a-zA-Z0-9_-]+)/);if(x&&x[1])return`https://drive.google.com/file/d/${x[1]}/preview`;const b=g.match(/id=([a-zA-Z0-9_-]+)/);if(b&&b[1])return`https://drive.google.com/file/d/${b[1]}/preview`}return g};return s.jsxs("div",{className:"bg-[#f7f9fa] pb-16",children:[s.jsx("section",{className:"bg-[#1c1d1f] text-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-10",children:[s.jsx("p",{className:"text-xs uppercase text-[#cec0fc] font-semibold mb-2",children:"Online course  Spark Trainings"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-3",children:e.title}),s.jsx("p",{className:"text-sm sm:text-base text-[#d1d7dc] mb-4",children:e.excerpt}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1 text-[#f4c150]",children:[s.jsx("span",{className:"font-semibold",children:e.rating?Number(e.rating).toFixed(1):4.5}),s.jsx(Kh,{size:16,fill:"#f4c150",stroke:"none"}),s.jsx("span",{className:"text-[#d1d7dc]",children:e.ratingCount||"0 ratings"})]}),s.jsx("span",{className:"text-[#d1d7dc]",children:""}),s.jsxs("div",{className:"flex items-center gap-1 text-[#d1d7dc]",children:[s.jsx(q4,{size:16}),s.jsx("span",{children:e.language||"Urdu / English (Online)"})]})]})]})}),s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 mt-8 flex flex-col lg:flex-row gap-8",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("section",{className:"bg-white rounded-md shadow-sm p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Course Preview"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Yf,{size:16}),s.jsxs("span",{children:[o.length," lectures"]})]})]}),u?s.jsx("div",{className:"w-full aspect-video bg-black rounded-md overflow-hidden shadow-lg",children:u.videoUrl&&(u.videoUrl.includes("drive.google.com")||u.videoUrl.includes("youtube")||u.videoUrl.includes("vimeo"))?s.jsx("iframe",{src:p(u.videoUrl),title:u.title,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):s.jsx(Yee,{videoUrl:u.videoUrl,previewUrl:u.videoUrl,title:u.title,isPreview:!0})}):s.jsx("div",{className:"w-full aspect-video bg-linear-to-br from-[#1c1d1f] to-[#2d2e30] rounded-md flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(Zs,{size:64,className:"mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-semibold mb-2",children:"No lectures available"})]})})]}),s.jsxs("section",{className:"bg-white rounded-md shadow-sm p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Course Curriculum"}),s.jsxs("div",{className:"space-y-2",children:[o.map((g,x)=>{const b=x===0;return s.jsxs("div",{onClick:()=>h(g,x),className:`flex items-center justify-between p-4 rounded-md border transition-all ${b?"border-[#0d9c06]/30 bg-[#0d9c06]/5 hover:bg-[#0d9c06]/10 cursor-pointer hover:border-[#0d9c06]":"border-gray-200 bg-gray-50 cursor-not-allowed"} ${u?.id===g.id?"ring-2 ring-[#0d9c06]":""}`,children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${b?"bg-[#0d9c06] text-white":"bg-gray-300 text-gray-600"}`,children:b?s.jsx(Zs,{size:16,fill:"white"}):s.jsx(Qr,{size:16})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-medium text-gray-900 text-sm",children:[x+1,". ",g.title]}),b&&s.jsx("span",{className:"text-xs text-[#0d9c06] font-semibold",children:"Preview Available"})]})]}),s.jsx("span",{className:"text-sm text-gray-600",children:g.duration||"10:00"})]},g.id)}),o.length===0&&s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No lectures added yet."})]}),s.jsx("div",{className:"mt-4 p-4 bg-[#5022C3]/10 border border-[#5022C3]/30 rounded-md",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{className:"text-[#5022C3]",children:"Note:"})," Enroll in the course to unlock all ",o.length," lectures and get lifetime access to the content."]})})]}),e.whatYouWillLearn&&s.jsxs("section",{className:"bg-white rounded-md shadow-sm p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"What you'll learn"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:e.whatYouWillLearn.map((g,x)=>s.jsxs("p",{className:"flex items-start gap-2 text-sm text-[#1c1d1f]",children:[s.jsx(Nr,{className:"text-[#0d9c06] shrink-0 mt-0.5",size:20}),s.jsx("span",{children:g})]},x))})]}),e.fullDescription&&e.fullDescription.length>0&&s.jsxs("section",{className:"bg-white rounded-md shadow-sm p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-3",children:"Course description"}),s.jsx("div",{className:"space-y-3 text-sm sm:text-[15px] leading-7 text-[#1c1d1f]",children:e.fullDescription.map((g,x)=>s.jsx("div",{dangerouslySetInnerHTML:{__html:g},className:"course-description-content"},x))}),s.jsx("style",{children:`
                .course-description-content ul {
                  list-style-type: disc;
                  margin-left: 1.5rem;
                  margin-top: 0.5rem;
                  margin-bottom: 0.5rem;
                }
                
                .course-description-content ol {
                  list-style-type: decimal;
                  margin-left: 1.5rem;
                  margin-top: 0.5rem;
                  margin-bottom: 0.5rem;
                }
                
                .course-description-content li {
                  margin-bottom: 0.25rem;
                  padding-left: 0.25rem;
                }
                
                .course-description-content ul li {
                  display: list-item;
                }
                
                .course-description-content ol li {
                  display: list-item;
                }
              `})]})]}),s.jsx("aside",{className:"w-full lg:w-80 cursor-pointer",children:s.jsxs("div",{className:"bg-white rounded-md shadow-xl overflow-hidden sticky top-4",children:[s.jsx("div",{className:"w-full aspect-video overflow-hidden",children:s.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover",onError:g=>{g.target.src="https://via.placeholder.com/300x200?text=No+Image"}})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-3",children:[e.price&&s.jsx("span",{className:"text-2xl font-bold text-[#1c1d1f]",children:e.price}),s.jsx("p",{className:"text-xs text-[#6a6f73] mt-1",children:"Online course  HD Recordings"})]}),s.jsxs(Pe,{to:"/cart",state:{addedCourseId:e.id},className:`
                  w-full bg-[#0d9c06] hover:bg-[#0b7e05]
                  text-white font-semibold text-sm py-3 rounded-md
                  flex items-center justify-center gap-2 transition
                 cursor-pointer`,children:[s.jsx(Zs,{size:18}),"Enroll now"]}),s.jsx("p",{className:"mt-2 text-[11px] text-[#6a6f73]",children:"Enroll to get full access to live classes, recordings, assignments and Q&A."}),s.jsx("hr",{className:"mt-5 mb-4 border-gray-200"}),s.jsx("p",{className:"text-xs text-[#6a6f73] mb-1",children:"This online course includes:"}),s.jsx("ul",{className:"mt-1 text-xs text-[#1c1d1f] space-y-1",children:e.includes&&e.includes.length>0?e.includes.map((g,x)=>s.jsxs("li",{children:[" ",g]},x)):s.jsxs(s.Fragment,{children:[s.jsx("li",{children:" Live online sessions"}),s.jsx("li",{children:" Access to class recordings"}),s.jsx("li",{children:" Practical projects & assignments"}),s.jsx("li",{children:" Certificate of completion from Spark Trainings"})]})}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(Pe,{to:"/contact",className:"text-[12px] text-[#0d9c06] font-semibold hover:underline cursor-pointer",children:"Have questions? Contact support"})})]})]})})]})]})}function aI(t){if(typeof t=="number")return t;const e=parseInt(String(t).replace(/[^\d]/g,""),10);return Number.isNaN(e)?0:e}function Vf(t){return`Rs. ${t.toLocaleString("en-PK")}`}function Xee(){const t=zr(),{items:e,removeFromCart:n,appliedCoupon:r,applyCoupon:i}=p2(),c=ca().state?.addedCourseId,[u,f]=j.useState(""),[h,p]=j.useState(""),g=j.useMemo(()=>{const x=e.reduce((S,N)=>S+aI(N.price)*N.quantity,0);let b=0;r&&(r.type==="percent"?b=Math.round(x*(r.value/100)):b=r.value);const _=Math.max(0,x-b);return{subtotal:x,discount:b,total:_}},[e,r]);return s.jsx("div",{className:"bg-[#f7f9fa] min-h-screen py-10",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6",children:[c&&s.jsxs("div",{className:"flex items-center justify-between rounded-md border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-[#0d9c06]",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"h-4 w-4"}),s.jsx("span",{children:"Course has been added to your cart."})]}),s.jsx(Pe,{to:"/online-courses",className:"text-xs font-semibold text-[#0d9c06] hover:underline cursor-pointer",children:"Continue browsing"})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,2fr)_minmax(0,1fr)]",children:[s.jsx("div",{className:"space-y-4",children:e.length===0?s.jsxs("div",{className:"rounded-md bg-white border border-[#e4e5e7] p-8 text-center text-sm text-[#6a6f73]",children:["Your cart is empty."," ",s.jsx(Pe,{to:"/online-courses",className:"font-semibold text-[#0d9c06] hover:underline cursor-pointer",children:"Browse online courses"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"rounded-md bg-white border border-[#e4e5e7] overflow-hidden",children:[s.jsxs("div",{className:"hidden sm:grid grid-cols-[1fr_auto_auto_auto] gap-4 px-6 py-4 text-xs font-semibold uppercase text-[#6a6f73] border-b border-[#e4e5e7]",children:[s.jsx("span",{children:"Course"}),s.jsx("span",{className:"text-right",children:"Price"}),s.jsx("span",{className:"text-right",children:"Quantity"}),s.jsx("span",{className:"text-right",children:"Subtotal"})]}),s.jsx("div",{className:"divide-y divide-[#f0f0f0]",children:e.map(x=>{const b=aI(x.price),_=b*x.quantity;return s.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-[1fr_auto_auto_auto] gap-4 px-4 sm:px-6 py-4",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{type:"button",onClick:()=>n(x.id),className:"mt-1 text-[#6a6f73] hover:text-red-600","aria-label":"Remove course",children:s.jsx(ot,{className:"h-4 w-4"})}),s.jsx("div",{className:"h-16 w-24 shrink-0 overflow-hidden rounded",children:s.jsx("img",{src:x.image,alt:x.title,className:"h-full w-full object-cover"})}),s.jsxs("div",{className:"flex flex-col justify-center",children:[s.jsx("p",{className:"text-sm font-semibold text-[#1c1d1f]",children:x.title}),x.duration&&s.jsxs("p",{className:"text-xs text-[#6a6f73]",children:[x.duration,"  Online course"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between sm:block",children:[s.jsx("span",{className:"sm:hidden text-xs text-[#6a6f73]",children:"Price"}),s.jsx("p",{className:"text-sm font-semibold text-[#1c1d1f]",children:Vf(b)})]}),s.jsxs("div",{className:"flex items-center justify-between sm:block",children:[s.jsx("span",{className:"sm:hidden text-xs text-[#6a6f73]",children:"Quantity"}),s.jsx("div",{className:"inline-flex items-center gap-2 text-sm",children:s.jsx("span",{className:"px-3 py-1 rounded border border-[#e4e5e7] bg-[#f7f9fa]",children:x.quantity})})]}),s.jsxs("div",{className:"flex items-center justify-between sm:block",children:[s.jsx("span",{className:"sm:hidden text-xs text-[#6a6f73]",children:"Subtotal"}),s.jsx("p",{className:"text-sm font-semibold text-[#1c1d1f]",children:Vf(_)})]})]},x.id)})})]}),s.jsxs("div",{className:"rounded-md bg-white border border-[#e4e5e7] p-5 flex flex-col sm:flex-row gap-3 items-stretch shadow-sm",children:[s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"text",placeholder:"Coupon code",value:u,onChange:x=>f(x.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-md focus:border-[#0d9c06] focus:ring-2 focus:ring-green-200 transition-all outline-none"})}),s.jsx("button",{type:"button",onClick:async()=>{const x=await i(u);p(x.message),x.ok&&f("")},className:"px-8 py-3 bg-[#0d9c06] text-white rounded-md font-semibold hover:bg-[#0b7e05] transition-all cursor-pointer shadow-sm hover:shadow-md sm:w-auto whitespace-nowrap",children:"Apply coupon"})]}),h&&s.jsx("div",{className:"mt-2 text-sm text-[#7a4b00]",children:h})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-md bg-white border border-[#e4e5e7] p-5 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold text-[#1c1d1f] mb-4",children:"Cart totals"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between border-b border-[#f0f0f0] pb-3",children:[s.jsx("span",{className:"text-[#6a6f73]",children:"Subtotal"}),s.jsx("span",{className:"font-semibold text-[#1c1d1f]",children:Vf(g.subtotal)})]}),g.discount>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#0d9c06]",children:[s.jsx("span",{children:"Discount"}),s.jsxs("span",{className:"font-semibold",children:["-",Vf(g.discount)]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[#6a6f73]",children:"Total"}),s.jsx("span",{className:"text-xl font-bold text-[#1c1d1f]",children:Vf(g.total)})]})]}),s.jsx("div",{className:"flex mt-5",children:s.jsx("button",{onClick:()=>t("/checkout",{state:{items:e}}),className:"spark-submit-btn",children:"Proceed to Checkout"})})]}),s.jsx(Pe,{to:"/online-courses",className:"block text-center text-sm font-semibold text-[#0d9c06] hover:underline cursor-pointer",children:" Continue browsing online courses"})]})]})]})})}const x3=j.createContext();function js(){return j.useContext(x3)}function Jee({children:t}){const[e,n]=j.useState(()=>{const h=localStorage.getItem("admin_notifications");return h?JSON.parse(h):[]}),r=j.useRef(null);j.useEffect(()=>{localStorage.setItem("admin_notifications",JSON.stringify(e))},[e]),j.useEffect(()=>{let h;const p=async()=>{try{if(!localStorage.getItem("admin_token"))return;const x=await(await ze("/api/orders",{headers:{"x-admin-token":localStorage.getItem("admin_token")}})).json();if(x.ok&&x.orders){const b=x.orders.length;if(r.current===null){r.current=b;return}if(b>r.current){const _=b-r.current;i({type:"order",title:"New Order Received",message:`${_} new order(s) have been placed!`}),r.current=b}}}catch(g){console.error("Notification polling error:",g)}};return p(),h=setInterval(p,3e4),()=>clearInterval(h)},[]);const i=async({type:h="info",title:p,message:g})=>{const x={id:Date.now(),type:h,title:p,message:g,time:new Date().toISOString(),read:!1};n(N=>[x,...N]);const b=window.location.pathname.startsWith("/admin"),_=localStorage.getItem("notification_sound_enabled");if(b&&(_===null||_==="true"))try{let N;h==="error"?N="/sounds/error-sound.mp3":N="/sounds/notification-sound.mp3";const T=new Audio(N);T.volume=.5,T.play().catch(O=>{console.log("Sound playback failed:",O)})}catch(N){console.log("Sound initialization failed:",N)}try{const N=localStorage.getItem("admin_token");N&&await ze("/api/admin/activity-logs",{method:"POST",headers:{"Content-Type":"application/json","x-admin-token":N},body:JSON.stringify({type:h,title:p,message:g,user:"Admin"})})}catch(N){console.error("Failed to persist activity log:",N)}},o=h=>{n(p=>p.map(g=>g.id===h?{...g,read:!0}:g))},c=()=>{n(h=>h.map(p=>({...p,read:!0})))},u=()=>{n([])},f=e.filter(h=>!h.read).length;return s.jsx(x3.Provider,{value:{notifications:e,addNotification:i,markAsRead:o,markAllAsRead:c,clearAll:u,unreadCount:f},children:t})}function Zee({selectedCourse:t}){const{appliedCoupon:e}=p2(),[n,r]=j.useState({firstName:"",lastName:"",city:"",phone:"",email:"",notes:"",password:"",confirmPassword:""}),[i,o]=j.useState("signup"),[c,u]=j.useState(null),[f,h]=j.useState(null),[p,g]=j.useState(""),[x,b]=j.useState(!1),[_,S]=j.useState({text:"",isError:!1});j.useEffect(()=>{const L=$n.onAuthStateChanged(se=>{if(se){u(se);const Ne=(se.displayName||"").split(" ");r(G=>({...G,firstName:Ne[0]||"",lastName:Ne.slice(1).join(" ")||"",email:se.email||""}))}else u(null)});return()=>L()},[]);const N=L=>{const{name:se,value:Ne}=L.target;r(G=>({...G,[se]:Ne}))},T=L=>{const se=L.target.files?.[0]||null;h(se)};j.useEffect(()=>{if(!f){g("");return}const L=URL.createObjectURL(f);return g(L),()=>URL.revokeObjectURL(L)},[f]);const C=ca().state?.items||[],M=L=>{if(!L)return 0;if(typeof L=="number")return L;const se=parseInt(String(L).replace(/[^\d]/g,""),10);return Number.isNaN(se)?0:se},R=L=>`Rs. ${Intl.NumberFormat("en-IN").format(L)}`,F=C&&C.length>0?C:t?[{...t,quantity:1}]:[],E=F.reduce((L,se)=>L+M(se.price)*(se.quantity||1),0),D=Math.round(E*0);let V=0;e&&(e.type==="percent"?V=Math.round(E*(e.value/100)):V=e.value);const z=Math.max(0,E+D-V),$=async L=>{if(L.preventDefault(),S({text:"",isError:!1}),!f){S({text:"Please upload payment screenshot.",isError:!0});return}const se=5*1024*1024;if(f.size>se){S({text:"Screenshot is too large. Max size is 5 MB.",isError:!0});return}try{b(!0);let Ne=c;if(!Ne)if(i==="signup"){if(n.password!==n.confirmPassword){S({text:"Passwords do not match.",isError:!0}),b(!1);return}if(n.password.length<6){S({text:"Password should be at least 6 characters.",isError:!0}),b(!1);return}try{const{user:W}=await V6($n,n.email,n.password);await Yg(W,{displayName:`${n.firstName} ${n.lastName}`.trim()}),await ze("/api/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:W.uid,email:W.email,displayName:`${n.firstName} ${n.lastName}`.trim()})}),Ne=W}catch(W){console.error("Signup error:",W);let K="Account creation failed. ";W.code==="auth/email-already-in-use"?K+="This email is already registered. Please try logging in.":K+=W.message,S({text:K,isError:!0}),b(!1);return}}else try{Ne=(await B6($n,n.email,n.password)).user;const K=Date.now().toString()+Math.random().toString(36).substring(2);await ze("/api/auth/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:Ne.uid,sessionId:K})}),localStorage.setItem(`session_${Ne.uid}`,K)}catch(W){console.error("Login error:",W),S({text:"Invalid email or password.",isError:!0}),b(!1);return}const G=new FormData;G.append("uid",Ne?.uid||""),G.append("firstName",n.firstName),G.append("lastName",n.lastName),G.append("city",n.city),G.append("phone",n.phone),G.append("email",n.email),G.append("notes",n.notes),G.append("screenshot",f),F.length>0&&(G.append("courseId",F[0].id),G.append("courseTitle",F[0].title)),G.append("amount",String(z));const H=await ze("/api/orders",{method:"POST",body:G});if(!H.ok){const W=await H.text();try{const K=JSON.parse(W);throw new Error(K.message||`Server error: ${H.status}`)}catch(K){throw new Error(K.message==="Unexpected token"?`Server error: ${H.status}`:json?.message||`Server error: ${H.status}`)}}const ee=await H.json();ee.success?(S({text:"Order placed successfully! Please check your email/WhatsApp for confirmation.",isError:!1}),r({firstName:"",lastName:"",city:"",phone:"",email:"",notes:"",password:"",confirmPassword:""}),h(null),g("")):S({text:ee.message||"Order failed to place. Please try again.",isError:!0})}catch(Ne){console.error("Submission error:",Ne),S({text:Ne.message||"An unexpected error occurred. Please check your connection or try again.",isError:!0})}finally{b(!1)}};return s.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-10",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Checkout"}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("form",{onSubmit:$,className:"lg:col-span-2",children:[_.text&&s.jsx("div",{className:`text-sm rounded-md px-3 py-2 border mb-4 ${_.isError?"bg-red-50 border-red-200 text-red-800":"bg-green-50 border-green-200 text-green-800"}`,children:_.text}),c&&s.jsxs("div",{className:"text-sm rounded-md px-3 py-2 bg-blue-50 border border-blue-100 text-blue-700 mb-6 flex items-center justify-between",children:[s.jsxs("span",{children:["Logged in as ",s.jsx("strong",{children:c.email})]}),s.jsx("button",{type:"button",onClick:()=>$n.signOut(),className:"text-xs font-semibold underline hover:text-blue-800",children:"Sign out"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{name:"firstName",value:n.firstName,onChange:N,required:!0,placeholder:" ",className:"input-field"}),s.jsx(hs,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"First name"})]}),s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{name:"lastName",value:n.lastName,onChange:N,required:!0,placeholder:" ",className:"input-field"}),s.jsx(hs,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"Last name"})]})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{name:"city",value:n.city,onChange:N,required:!0,placeholder:" ",className:"input-field"}),s.jsx(BF,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"Town / City"})]}),s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{name:"phone",value:n.phone,onChange:N,required:!0,placeholder:" ",className:"input-field"}),s.jsx(ld,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"WhatsApp number"})]})]}),s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{type:"email",name:"email",value:n.email,onChange:N,required:!0,placeholder:" ",className:"input-field"}),s.jsx(hi,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"Email address"})]}),!c&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border border-gray-100 mt-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-sm font-bold text-gray-800",children:i==="signup"?"Create an account":"Log in to your account"}),s.jsx("button",{type:"button",onClick:()=>o(i==="signup"?"login":"signup"),className:"text-xs text-[#0d9c06] font-semibold hover:underline",children:i==="signup"?"Already have an account?":"Need to create an account?"})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{type:"password",name:"password",value:n.password,onChange:N,required:!0,placeholder:" ",className:"input-field"}),s.jsx(Qr,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"Password"})]}),i==="signup"&&s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:N,required:!0,placeholder:" ",className:"input-field"}),s.jsx(Qr,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"Confirm password"})]})]}),i==="signup"&&s.jsx("p",{className:"text-[10px] text-gray-500 mt-2",children:"Password must be at least 6 characters."})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold mb-2",children:"Upload payment screenshot"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer rounded-md border border-dashed border-[#dfe3e6] px-4 py-2 bg-white text-sm hover:bg-slate-50",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:T,className:"hidden"}),s.jsxs("svg",{className:"w-4 h-4 text-[#0d9c06]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[s.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("polyline",{points:"7 10 12 5 17 10",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),s.jsx("span",{className:"text-sm text-[#0d9c06] font-semibold",children:"Choose file"})]}),s.jsx("div",{className:"text-sm text-slate-500",children:"Max 5 MB  JPG/PNG"})]}),p&&s.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[s.jsx("img",{src:p,alt:"preview",className:"w-20 h-14 object-cover rounded-md border"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium",children:f?.name}),s.jsxs("div",{className:"text-xs text-slate-500",children:[(f?.size/1024/1024).toFixed(2)," MB"]})]}),s.jsx("button",{type:"button",onClick:()=>h(null),className:"text-sm text-red-600",children:"Remove"})]}),s.jsx("p",{className:"mt-2 text-xs text-[#6a6f73]",children:"Upload JazzCash / Easypaisa / Bank transfer receipt."})]}),s.jsxs("div",{className:"spark-input-group",children:[s.jsx("textarea",{name:"notes",value:n.notes,onChange:N,rows:3,placeholder:" ",className:"input-field"}),s.jsx(Ug,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"Order notes (optional)"})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:x,className:"spark-submit-btn cursor-pointer",children:x?"Processing...":"Place order"})})]})]}),s.jsxs("aside",{className:"bg-white rounded-md shadow-sm border border-[#e4e5e7] p-6 sm:p-8 h-fit sticky top-20 cursor-pointer",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Your order"}),s.jsxs("div",{className:"p-4 rounded-md bg-[#f7fcf7] border border-[#eaf7ea] mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm text-[#6a6f73]",children:"Subtotal"}),s.jsx("span",{className:"font-semibold",children:R(E)})]}),s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm text-[#6a6f73]",children:"Tax"}),s.jsx("span",{className:"text-sm text-[#6a6f73]",children:R(D)})]}),s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm text-[#6a6f73]",children:"Discount"}),s.jsx("span",{className:"text-sm text-[#6a6f73]",children:R(V)})]}),s.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-[#e6efe6]",children:[s.jsx("span",{className:"text-base font-semibold",children:"Total"}),s.jsx("span",{className:"text-lg font-bold text-[#1c1d1f]",children:R(z)})]})]}),F.length>0?s.jsxs("div",{className:"flex gap-3 items-start mb-3",children:[s.jsx("img",{src:F[0].image,alt:F[0].title,className:"w-20 h-14 object-cover rounded-md"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-[#1c1d1f] line-clamp-2",children:F[0].title}),s.jsx("p",{className:"text-xs text-[#6a6f73] mt-1",children:"Online Training  Spark Trainings"})]})]}):s.jsx("div",{className:"mb-3 text-sm text-slate-500",children:"No course selected  totals show the essential amount."}),s.jsxs("div",{className:"mt-4 bg-white p-4 rounded-md border border-[#e4e5e7] text-sm text-[#6a6f73]",children:[s.jsx("p",{className:"font-semibold mb-2",children:"JazzCash / Bank Transfer Details"}),s.jsxs("p",{className:"mb-0.5",children:[s.jsx("strong",{children:"Account Name:"})," Hafiza Adila Fazal"]}),s.jsxs("p",{className:"mb-0.5",children:[s.jsx("strong",{children:"Account No:"})," 03204045091"]}),s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:"Bank:"})," JazzCash"]}),s.jsx("p",{className:"mt-1",children:"Please send payment and upload the screenshot in the form. Your enrollment will be confirmed after verification."})]})]})]})]})}function ete(){const[t]=P4(),[e,n]=j.useState("super"),[r,i]=j.useState(""),[o,c]=j.useState(""),[u,f]=j.useState(!1),[h,p]=j.useState(""),g=zr(),{addNotification:x}=js();j.useEffect(()=>{if(t.get("activated")==="true"){const _=t.get("email");_&&(i(decodeURIComponent(_)),n("role")),x({type:"success",title:"Account Activated",message:"Your account has been activated. Please login."})}},[t]);async function b(_){_.preventDefault(),p("");try{if(e==="super"){const S=await ze("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:o})});let N=null;try{N=await S.json()}catch{const O=await S.text().catch(()=>"")||`Server returned status ${S.status}`;return p(O)}if(!S.ok)return p(N?.error||N?.message||`Login failed (${S.status})`);if(!N||!N.token)return p("Login succeeded but server did not return a token");localStorage.setItem("admin_token",N.token),localStorage.setItem("admin_role",N.role||"super_admin"),localStorage.setItem("admin_email",N.email||"admin"),localStorage.setItem("admin_name",N.name||"Sajid Ali"),localStorage.setItem("admin_profile_picture",N.profilePicture||""),x({type:"success",title:"Login Successful",message:"Welcome back, Super Admin!"}),g("/admin")}else{if(!r)return p("Email is required");const S=await ze("/api/admin/role-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:o})}),N=await S.json();if(!S.ok)return p(N?.error||N?.message||"Login failed");if(!N||!N.token)return p("Login succeeded but server did not return a token");localStorage.setItem("admin_token",N.token),localStorage.setItem("admin_role",N.role),localStorage.setItem("admin_email",N.email),localStorage.setItem("admin_name",N.name||"Sajid Ali"),localStorage.setItem("admin_profile_picture",N.profilePicture||""),localStorage.setItem("admin_permissions",JSON.stringify(N.permissions||[])),x({type:"success",title:"Login Successful",message:"Welcome back!"}),g("/admin")}}catch(S){console.error("Admin login fetch error:",S),p("Could not connect to server. Make sure the backend is running.")}}return s.jsx("div",{className:"min-h-screen bg-linear-to-br from-[#0d9c06] to-[#0b7e05] flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-md shadow-2xl w-full max-w-md overflow-hidden",children:[s.jsxs("div",{className:"bg-linear-to-r from-[#0d9c06] to-[#0b7e05] p-8 text-white text-center",children:[s.jsx(Gh,{className:"w-16 h-16 mx-auto mb-4"}),s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Admin Login"}),s.jsx("p",{className:"text-green-100",children:"Spark Trainings LMS"})]}),s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex gap-2 bg-gray-100 p-1 rounded-md",children:[s.jsx("button",{type:"button",onClick:()=>n("super"),className:`flex-1 py-2 px-4 rounded-md font-medium transition-colors cursor-pointer ${e==="super"?"bg-white text-[#0d9c06] shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Super Admin"}),s.jsx("button",{type:"button",onClick:()=>n("role"),className:`flex-1 py-2 px-4 rounded-md font-medium transition-colors cursor-pointer ${e==="role"?"bg-white text-[#0d9c06] shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Team Member"})]})}),s.jsxs("div",{className:"p-6",children:[h&&s.jsx("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:s.jsx("span",{className:"block text-sm",children:h})}),s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e==="role"&&s.jsxs("div",{children:[s.jsx("div",{className:"mb-2"}),s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{type:"email",value:r,onChange:_=>i(_.target.value),required:e==="role",className:"input-field",placeholder:" "}),s.jsx(hi,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"Email Address"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"mb-2"}),s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{type:u?"text":"password",value:o,onChange:_=>c(_.target.value),required:!0,className:"input-field",placeholder:" "}),s.jsx(Qr,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"Password"}),s.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 z-20",children:u?s.jsx(eo,{size:18}):s.jsx(as,{size:18})})]})]}),s.jsx("button",{type:"submit",className:"spark-submit-btn cursor-pointer",children:"Sign In"})]}),e==="super"&&s.jsxs("p",{className:"text-center text-sm text-gray-500 mt-6",children:["Team member?"," ",s.jsx("button",{type:"button",onClick:()=>n("role"),className:"text-[#0d9c06] hover:underline font-medium",children:"Click here"})]})]})]})})}const tte=({autoFocus:t=!1})=>{const[e,n]=j.useState(""),[r,i]=j.useState([]),[o,c]=j.useState(!1),[u,f]=j.useState(!1),h=zr(),p=j.useRef(null);j.useEffect(()=>{const _=setTimeout(async()=>{if(e.trim().length>1){f(!0);const S=e.toLowerCase(),N=[];try{const T=localStorage.getItem("admin_token");try{const C=await(await ze("/api/admin/courses",{headers:{"x-admin-token":T}})).json();C.ok&&C.courses&&C.courses.forEach(M=>{(M.title.toLowerCase().includes(S)||M.excerpt?.toLowerCase().includes(S))&&N.push({id:M._id,title:M.title,subtitle:M.excerpt,type:"course",category:"Courses",icon:s.jsx(bn,{size:12})})})}catch(O){console.error("Error fetching courses:",O)}try{const C=await(await ze("/api/admin/users",{headers:{"x-admin-token":T}})).json();C.ok&&C.users&&C.users.forEach(M=>{(M.name?.toLowerCase().includes(S)||M.email?.toLowerCase().includes(S))&&N.push({id:M._id,title:M.name,subtitle:M.email,type:"user",category:"Users",icon:s.jsx(vl,{size:12})})})}catch(O){console.error("Error fetching users:",O)}try{const C=await(await ze("/api/admin/orders",{headers:{"x-admin-token":T}})).json();C.ok&&C.orders&&C.orders.forEach(M=>{const R=M.student?.name||M.studentName||"",F=M.course?.title||M.courseName||"";(R.toLowerCase().includes(S)||F.toLowerCase().includes(S))&&N.push({id:M._id,title:`${R} - ${F}`,subtitle:`Rs. ${M.amount||M.totalAmount||0}`,type:"order",category:"Orders",icon:s.jsx(cd,{size:12})})})}catch(O){console.error("Error fetching orders:",O)}try{const C=await(await ze("/api/admin/contacts",{headers:{"x-admin-token":T}})).json();C.ok&&C.contacts&&C.contacts.forEach(M=>{(M.name?.toLowerCase().includes(S)||M.message?.toLowerCase().includes(S))&&N.push({id:M._id,title:M.name,subtitle:M.message?.substring(0,50)+"...",type:"contact",category:"Contacts",icon:s.jsx(t0,{size:12})})})}catch(O){console.error("Error fetching contacts:",O)}i(N.slice(0,8)),c(!0)}catch(T){console.error("Search error:",T)}finally{f(!1)}}else i([]),c(!1)},300);return()=>clearTimeout(_)},[e]),j.useEffect(()=>{const b=_=>{p.current&&!p.current.contains(_.target)&&c(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const g=b=>{b.preventDefault(),e.trim()},x=b=>{b.type==="course"?h("/admin/courses"):b.type==="user"?h("/admin/users"):b.type==="order"?h("/admin/orders"):b.type==="contact"&&h("/admin/contacts"),c(!1),n("")};return s.jsxs("div",{className:"relative w-full md:w-[520px]",ref:p,children:[s.jsxs("form",{onSubmit:g,className:`
          group bg-white flex px-1 py-1 
          rounded-md border border-slate-300
          transition-all duration-300 overflow-hidden w-full 
          focus-within:border-[#0d9c06] focus-within:ring-2 focus-within:ring-[#0d9c06]/10
        `,children:[s.jsx("div",{className:"flex items-center pl-3 text-slate-400",children:s.jsx(Di,{className:"w-5 h-5"})}),s.jsx("input",{autoFocus:t,type:"text",placeholder:"Search courses, users, orders...",className:"no-default-styles w-full outline-none bg-white px-3 py-2 text-sm text-slate-700 placeholder:text-slate-400 border-0! hover:border-0! focus:border-0! active:border-0!",value:e,onChange:b=>n(b.target.value),onFocus:()=>e.length>1&&c(!0)}),e&&s.jsx("button",{type:"button",onClick:()=>n(""),className:"p-2 text-slate-400 hover:text-slate-600 transition-colors cursor-pointer",children:s.jsx(ot,{size:16})}),s.jsx("button",{type:"submit",className:`
            bg-[#0d9c06] hover:bg-[#0b7e05]
            cursor-pointer transition-all 
            text-white text-sm font-semibold rounded-md
            px-5 flex items-center justify-center
          `,children:"Search"})]}),o&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-md shadow-2xl border border-slate-100 overflow-hidden z-100 animate-in fade-in slide-in-from-top-2 duration-200",children:[s.jsxs("div",{className:"p-3 bg-slate-50 border-b border-slate-100 flex items-center justify-between",children:[s.jsx("span",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-wider",children:u?"Searching...":"Search Results"}),!u&&r.length>0&&s.jsxs("span",{className:"text-[11px] text-[#0d9c06] font-medium",children:[r.length," found"]})]}),u?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-[#0d9c06] border-r-transparent"}),s.jsx("p",{className:"text-sm text-slate-500 mt-3",children:"Searching..."})]}):r.length>0?s.jsx("div",{className:"max-h-[380px] overflow-y-auto",children:r.map((b,_)=>s.jsxs("button",{onClick:()=>x(b),className:"w-full flex items-start gap-4 p-4 hover:bg-slate-50 transition-colors border-b border-slate-50 last:border-0 text-left group cursor-pointer",children:[s.jsx("div",{className:"mt-1 h-8 w-8 rounded-md bg-slate-100 flex items-center justify-center shrink-0 border border-slate-200 text-slate-600",children:b.icon}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:b.category})}),s.jsx("h4",{className:"text-sm font-bold text-slate-800 line-clamp-1 group-hover:text-[#0d9c06] transition-colors mt-1",children:b.title}),b.subtitle&&s.jsx("p",{className:"text-xs text-slate-500 mt-1 line-clamp-1",children:b.subtitle})]})]},`${b.type}-${b.id||_}`))}):e.trim().length>1?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Di,{className:"text-slate-300"})}),s.jsxs("h4",{className:"text-sm font-bold text-slate-800",children:['No results found for "',e,'"']}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Try checking your spelling or use more general terms"})]}):null]})]})},nte=[{to:"/admin",icon:s.jsx(H4,{size:20}),label:"Dashboard",permission:"view_dashboard"},{to:"/admin/courses",icon:s.jsx(bn,{size:20}),label:"Courses",permission:"view_courses"},{to:"/admin/certificates",icon:s.jsx(Xu,{size:20}),label:"Certificates",permission:"view_certificates"},{to:"/admin/badges",icon:s.jsx(ts,{size:20}),label:"Badges",permission:"view_badges"},{to:"/admin/orders",icon:s.jsx(cd,{size:20}),label:"Orders",permission:"view_orders"},{to:"/admin/coupons",icon:s.jsx(b1,{size:20}),label:"Coupons",permission:"view_coupons"},{to:"/admin/users",icon:s.jsx(vl,{size:20}),label:"Users",permission:"view_users"},{to:"/admin/drive",icon:s.jsx(ah,{size:20}),label:"Resources",permission:"view_drive"},{to:"/admin/gallery",icon:s.jsx(Ws,{size:20}),label:"Gallery",permission:"view_gallery"},{to:"/admin/contacts",icon:s.jsx(t0,{size:20}),label:"Contacts",permission:"view_contacts"},{to:"/admin/activity",icon:s.jsx(M4,{size:20}),label:"Activity Log",permission:"view_activity"},{to:"/admin/roles",icon:s.jsx(Gh,{size:20}),label:"Roles",permission:"view_roles"}];function Lr({children:t}){const e=ca(),n=zr(),{notifications:r,unreadCount:i,markAllAsRead:o,clearAll:c,addNotification:u}=js(),[f,h]=j.useState(!1),[p,g]=j.useState(()=>{const G=localStorage.getItem("admin_sound_enabled");return G===null?!0:G==="true"}),x=j.useRef(null),[b,_]=j.useState("super_admin"),[S,N]=j.useState("admin"),[T,O]=j.useState("Sajid Ali"),[C,M]=j.useState(null),[R,F]=j.useState([]);j.useEffect(()=>{const G=()=>{const W=localStorage.getItem("admin_role")||"super_admin",K=localStorage.getItem("admin_email")||"admin",B=localStorage.getItem("admin_name")||"Sajid Ali";let J=localStorage.getItem("admin_profile_picture")||null;J&&J.includes("localhost:")&&(J=J.substring(J.indexOf("/uploads/")));const ie=JSON.parse(localStorage.getItem("admin_permissions")||"[]");_(W),N(K),O(B),M(J),F(ie)};G();const H=W=>{(W.key==="admin_profile_picture"||W.key==="admin_name")&&G()},ee=()=>{G()};return window.addEventListener("storage",H),window.addEventListener("profileUpdated",ee),()=>{window.removeEventListener("storage",H),window.removeEventListener("profileUpdated",ee)}},[]);const E=G=>b==="super_admin"?!0:R.includes(G),I=nte.filter(G=>E(G.permission)),[D,V]=j.useState(Date.now());j.useEffect(()=>{function G(H){x.current&&!x.current.contains(H.target)&&h(!1)}return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]),j.useEffect(()=>{if(!E("view_activity"))return;const G=async()=>{try{const K=await(await ze("/api/admin/activity-logs",{headers:{"x-admin-token":localStorage.getItem("admin_token")}})).json();if(K.ok&&K.logs&&K.logs.length>0){const B=K.logs.filter(J=>new Date(J.time).getTime()>D);if(B.length>0){const J=Math.max(...B.map(ie=>new Date(ie.time).getTime()));V(J);try{const ie=window.AudioContext||window.webkitAudioContext;if(ie){const ye=new ie,ke=ye.createOscillator(),Le=ye.createGain();ke.connect(Le),Le.connect(ye.destination),ke.frequency.value=880,Le.gain.value=.1,ke.start(),setTimeout(()=>ke.stop(),200)}}catch(ie){console.error("Audio play failed",ie)}B.forEach(ie=>{let ye="/admin/activity";ie.type==="order"&&(ye="/admin/orders"),ie.type==="login"&&(ye="/admin/users"),u({type:"info",title:ie.title,message:ie.message,link:ye})})}}}catch(W){console.error("Polling error:",W)}};(async()=>{try{const K=await(await ze("/api/admin/activity-logs",{headers:{"x-admin-token":localStorage.getItem("admin_token")}})).json();if(K.ok&&K.logs.length>0){const B=Math.max(...K.logs.map(J=>new Date(J.time).getTime()));V(B)}}catch{}})();const ee=setInterval(G,1e4);return()=>clearInterval(ee)},[D,u,R]);const z=G=>e.pathname===G;function $(G){return G==="/admin"?"Dashboard":G==="/admin/courses"?"Course Management":G==="/admin/certificates"?"Certificate Management":G==="/admin/orders"?"Order Management":G==="/admin/users"?"User Management":G==="/admin/drive"?"Resources Library":G==="/admin/contacts"?"Contact Submissions":G==="/admin/activity"?"Activity Log":G==="/admin/badges"?"Badge Management":G==="/admin/roles"?"Roles & Permissions":G==="/admin/gallery"?"Gallery Management":G==="/admin/coupons"?"Coupon Management":"Admin Panel"}function L(G){return{super_admin:"Super Admin",content_manager:"Content Manager",instructor:"Instructor",support_staff:"Support Staff",finance_manager:"Finance Manager"}[G]||"Admin"}function se(){localStorage.removeItem("admin_token"),localStorage.removeItem("admin_role"),localStorage.removeItem("admin_email"),localStorage.removeItem("admin_permissions"),n("/admin/login")}function Ne(){h(!f),!f&&i>0&&o()}return s.jsxs("div",{className:"flex h-screen bg-gray-50 font-sans text-gray-900",children:[s.jsxs("aside",{className:"w-16 md:w-64 bg-[#1c1d1f] text-white flex flex-col shrink-0 transition-all duration-300 cursor-pointer",children:[s.jsxs("div",{className:"h-16 flex items-center justify-center md:justify-start md:px-6 border-b border-gray-700 py-2",children:[s.jsx("img",{src:tj,alt:"Spark Trainings",className:"h-12 w-auto hidden md:block"}),s.jsx("img",{src:tj,alt:"S",className:"h-12 w-auto md:hidden"})]}),s.jsx("nav",{className:"flex-1 py-4 space-y-1 overflow-y-auto",children:I.map(G=>s.jsx(rte,{to:G.to,icon:G.icon,label:G.label,active:z(G.to)},G.to))}),s.jsx("div",{className:"p-4 border-t border-gray-700",children:s.jsxs("button",{onClick:se,className:"flex items-center gap-3 w-full px-3 py-2 text-gray-300 hover:text-white hover:bg-gray-700 rounded transition-colors cursor-pointer",children:[s.jsx(Vg,{size:20}),s.jsx("span",{className:"hidden md:block",children:"Logout"})]})})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-6 shadow-sm z-10",children:[s.jsx("div",{className:"flex items-center gap-4 flex-1",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:$(e.pathname)})}),s.jsxs("div",{className:"flex items-center gap-4 md:gap-4",children:[s.jsx("div",{className:"hidden md:flex items-center",children:s.jsx(tte,{})}),s.jsxs(Pe,{to:"/",target:"_blank",className:"hidden md:flex items-center gap-2 text-sm font-medium text-[#0d9c06] hover:py-2 hover:px-2 px-2 hover:bg-[#daffd8] hover:text-[#0d9c06] rounded-md transition-all ease-in-out duration-300 cursor-pointer",children:[s.jsx("span",{children:"Visit Website"}),s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),s.jsx("div",{className:"h-6 w-px bg-gray-200 hidden md:block"}),s.jsxs("div",{className:"relative",ref:x,children:[s.jsxs("button",{onClick:Ne,className:"text-gray-600 hover:text-[#0d9c06] hover:bg-[#daffd8] py-2 px-2 rounded-md transition-all ease-in-out duration-300 hover:py-2 hover:px-2 cursor-pointer relative",children:[s.jsx(IB,{size:20}),i>0&&s.jsx("span",{className:"absolute top-2 right-2 block h-2 w-2 rounded-full bg-red-500 ring-2 ring-white transform translate-x-1/2 -translate-y-1/2"})]}),f&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg border border-gray-200 overflow-hidden z-50",children:[s.jsxs("div",{className:"p-3 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[s.jsx("h3",{className:"font-semibold text-gray-700",children:"Notifications"}),r.length>0&&s.jsx("button",{onClick:c,className:"text-xs text-red-500 hover:text-red-700 font-medium cursor-pointer",children:"Clear All"})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.length===0?s.jsx("div",{className:"p-8 text-center text-gray-500 text-sm",children:"No notifications"}):r.map(G=>s.jsx("div",{onClick:()=>{G.link&&(n(G.link),h(!1))},className:`p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer ${G.read?"":"bg-blue-50/50"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`mt-1 h-2 w-2 rounded-full shrink-0 ${G.type==="order"?"bg-green-500":G.type==="error"?"bg-red-500":"bg-blue-500"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-800",children:G.title}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:G.message}),s.jsxs("p",{className:"text-[10px] text-gray-400 mt-2",children:[new Date(G.time).toLocaleTimeString(),"  ",new Date(G.time).toLocaleDateString()]})]})]})},G.id))})]})]}),s.jsx("button",{onClick:()=>{const G=!p;g(G),localStorage.setItem("admin_sound_enabled",G.toString()),localStorage.setItem("notification_sound_enabled",G.toString())},className:"text-gray-600 hover:text-[#0d9c06] hover:bg-[#daffd8] py-2 px-2 rounded-md transition-all ease-in-out duration-300 cursor-pointer",title:p?"Mute notifications":"Unmute notifications",children:p?s.jsx(Y4,{size:20}):s.jsx(Q4,{size:20})}),s.jsxs("button",{onClick:()=>n("/admin/profile"),className:"flex items-center gap-3 hover:bg-gray-50 px-3 py-2 rounded-md transition-colors cursor-pointer",children:[s.jsxs("div",{className:"text-right hidden md:block",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-800",children:T}),s.jsx("p",{className:"text-xs text-gray-500",children:L(b)})]}),s.jsx("div",{className:"h-9 w-9 rounded-full overflow-hidden flex items-center justify-center shadow-md ring-2 ring-white",children:C?s.jsx("img",{src:C.startsWith("http")?C:`${config.apiUrl}${C}`,alt:T,className:"h-full w-full object-cover",onError:G=>{G.target.onerror=null,G.target.style.display="none",G.target.parentNode.innerHTML=`<div class="h-full w-full bg-linear-to-br from-[#0d9c06] to-[#0b7e05] flex items-center justify-center text-white font-bold">${T.charAt(0).toUpperCase()}</div>`}}):s.jsx("div",{className:"h-full w-full bg-linear-to-br from-[#0d9c06] to-[#0b7e05] flex items-center justify-center text-white font-bold",children:T.charAt(0).toUpperCase()})})]})]})]}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-6 md:p-8",children:[t,s.jsx("footer",{className:"mt-12 pt-6 border-t border-gray-200 text-center text-sm text-gray-500",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," Spark Trainings. All rights reserved."]})})]})]})]})}function rte({to:t,icon:e,label:n,active:r}){return s.jsxs(Pe,{to:t,className:`flex items-center gap-3 px-4 py-3 mx-2 rounded transition-colors ${r?"bg-gray-700 text-white border-l-4 border-[#0d9c06]":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[s.jsx("div",{className:`${r?"-ml-1":""}`,children:e}),s.jsx("span",{className:"hidden md:block font-medium",children:n})]})}function v3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=v3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Xt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=v3(t))&&(r&&(r+=" "),r+=e);return r}var ite=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function x2(t){if(typeof t!="string")return!1;var e=ite;return e.includes(t)}var ate=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ste=new Set(ate);function b3(t){return typeof t!="string"?!1:ste.has(t)}function w3(t){return typeof t=="string"&&t.startsWith("data-")}function Ma(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(b3(n)||w3(n))&&(e[n]=t[n]);return e}function S0(t){if(t==null)return null;if(j.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Ma(e)}return typeof t=="object"&&!Array.isArray(t)?Ma(t):null}function sa(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(b3(n)||w3(n)||x2(n))&&(e[n]=t[n]);return e}function ote(t){return t==null?null:j.isValidElement(t)?sa(t.props):typeof t=="object"&&!Array.isArray(t)?sa(t):null}var lte=["children","width","height","viewBox","className","style","title","desc"];function nj(){return nj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nj.apply(null,arguments)}function cte(t,e){if(t==null)return{};var n,r,i=ute(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ute(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var j3=j.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:c,style:u,title:f,desc:h}=t,p=cte(t,lte),g=o||{width:r,height:i,x:0,y:0},x=Xt("recharts-surface",c);return j.createElement("svg",nj({},sa(p),{className:x,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),j.createElement("title",null,f),j.createElement("desc",null,h),n)}),dte=["children","className"];function rj(){return rj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rj.apply(null,arguments)}function fte(t,e){if(t==null)return{};var n,r,i=hte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ps=j.forwardRef((t,e)=>{var{children:n,className:r}=t,i=fte(t,dte),o=Xt("recharts-layer",r);return j.createElement("g",rj({className:o},sa(i),{ref:e}),n)}),mte=j.createContext(null);function vn(t){return function(){return t}}const ij=Math.PI,aj=2*ij,hc=1e-6,pte=aj-hc;function N3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function gte(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return N3;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class yte{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?N3:gte(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,c){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+c}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let c=this._x1,u=this._y1,f=r-e,h=i-n,p=c-e,g=u-n,x=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(x>hc)if(!(Math.abs(g*f-h*p)>hc)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-c,_=i-u,S=f*f+h*h,N=b*b+_*_,T=Math.sqrt(S),O=Math.sqrt(x),C=o*Math.tan((ij-Math.acos((S+x-N)/(2*T*O)))/2),M=C/O,R=C/T;Math.abs(M-1)>hc&&this._append`L${e+M*p},${n+M*g}`,this._append`A${o},${o},0,0,${+(g*b>p*_)},${this._x1=e+R*f},${this._y1=n+R*h}`}}arc(e,n,r,i,o,c){if(e=+e,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),h=e+u,p=n+f,g=1^c,x=c?i-o:o-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>hc||Math.abs(this._y1-p)>hc)&&this._append`L${h},${p}`,r&&(x<0&&(x=x%aj+aj),x>pte?this._append`A${r},${r},0,1,${g},${e-u},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:x>hc&&this._append`A${r},${r},0,${+(x>=ij)},${g},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function _3(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new yte(e)}function v2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function S3(t){this._context=t}S3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function E0(t){return new S3(t)}function E3(t){return t[0]}function A3(t){return t[1]}function T3(t,e){var n=vn(!0),r=null,i=E0,o=null,c=_3(u);t=typeof t=="function"?t:t===void 0?E3:vn(t),e=typeof e=="function"?e:e===void 0?A3:vn(e);function u(f){var h,p=(f=v2(f)).length,g,x=!1,b;for(r==null&&(o=i(b=c())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===x&&((x=!x)?o.lineStart():o.lineEnd()),x&&o.point(+t(g,h,f),+e(g,h,f));if(b)return o=null,b+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:vn(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:vn(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:vn(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),u):r},u}function Zp(t,e,n){var r=null,i=vn(!0),o=null,c=E0,u=null,f=_3(h);t=typeof t=="function"?t:t===void 0?E3:vn(+t),e=typeof e=="function"?e:vn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?A3:vn(+n);function h(g){var x,b,_,S=(g=v2(g)).length,N,T=!1,O,C=new Array(S),M=new Array(S);for(o==null&&(u=c(O=f())),x=0;x<=S;++x){if(!(x<S&&i(N=g[x],x,g))===T)if(T=!T)b=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),_=x-1;_>=b;--_)u.point(C[_],M[_]);u.lineEnd(),u.areaEnd()}T&&(C[x]=+t(N,x,g),M[x]=+e(N,x,g),u.point(r?+r(N,x,g):C[x],n?+n(N,x,g):M[x]))}if(O)return u=null,O+""||null}function p(){return T3().defined(i).curve(c).context(o)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:vn(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:vn(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:vn(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:vn(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:vn(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:vn(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:vn(!!g),h):i},h.curve=function(g){return arguments.length?(c=g,o!=null&&(u=c(o)),h):c},h.context=function(g){return arguments.length?(g==null?o=u=null:u=c(o=g),h):o},h}class C3{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function xte(t){return new C3(t,!0)}function vte(t){return new C3(t,!1)}function uy(){}function dy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function k3(t){this._context=t}k3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bte(t){return new k3(t)}function I3(t){this._context=t}I3.prototype={areaStart:uy,areaEnd:uy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:dy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wte(t){return new I3(t)}function O3(t){this._context=t}O3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:dy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jte(t){return new O3(t)}function R3(t){this._context=t}R3.prototype={areaStart:uy,areaEnd:uy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Nte(t){return new R3(t)}function sI(t){return t<0?-1:1}function oI(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),c=(n-t._y1)/(i||r<0&&-0),u=(o*i+c*r)/(r+i);return(sI(o)+sI(c))*Math.min(Math.abs(o),Math.abs(c),.5*Math.abs(u))||0}function lI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Mb(t,e,n){var r=t._x0,i=t._y0,o=t._x1,c=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,c-u*n,o,c)}function fy(t){this._context=t}fy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Mb(this,this._t0,lI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Mb(this,lI(this,n=oI(this,t,e)),n);break;default:Mb(this,this._t0,n=oI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function P3(t){this._context=new D3(t)}(P3.prototype=Object.create(fy.prototype)).point=function(t,e){fy.prototype.point.call(this,e,t)};function D3(t){this._context=t}D3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function _te(t){return new fy(t)}function Ste(t){return new P3(t)}function M3(t){this._context=t}M3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=cI(t),i=cI(e),o=0,c=1;c<n;++o,++c)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function cI(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),c=new Array(n);for(i[0]=0,o[0]=2,c[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,c[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,c[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,c[e]-=r*c[e-1];for(i[n-1]=c[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(c[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Ete(t){return new M3(t)}function A0(t,e){this._context=t,this._t=e}A0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Ate(t){return new A0(t,.5)}function Tte(t){return new A0(t,0)}function Cte(t){return new A0(t,1)}function xd(t,e){if((c=t.length)>1)for(var n=1,r,i,o=t[e[0]],c,u=o.length;n<c;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function sj(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function kte(t,e){return t[e]}function Ite(t){const e=[];return e.key=t,e}function Ote(){var t=vn([]),e=sj,n=xd,r=kte;function i(o){var c=Array.from(t.apply(this,arguments),Ite),u,f=c.length,h=-1,p;for(const g of o)for(u=0,++h;u<f;++u)(c[u][h]=[0,+r(g,c[u].key,h,o)]).data=g;for(u=0,p=v2(e(c));u<f;++u)c[p[u]].index=u;return n(c,p),c}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:vn(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:vn(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?sj:typeof o=="function"?o:vn(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??xd,i):n},i}function Rte(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,c;i<o;++i){for(c=n=0;n<r;++n)c+=t[n][i][1]||0;if(c)for(n=0;n<r;++n)t[n][i][1]/=c}xd(t,e)}}function Pte(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var c=0,u=0;c<i;++c)u+=t[c][n][1]||0;r[n][1]+=r[n][0]=-u/2}xd(t,e)}}function Dte(t,e){if(!(!((c=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,c;r<o;++r){for(var u=0,f=0,h=0;u<c;++u){for(var p=t[e[u]],g=p[r][1]||0,x=p[r-1][1]||0,b=(g-x)/2,_=0;_<u;++_){var S=t[e[_]],N=S[r][1]||0,T=S[r-1][1]||0;b+=N-T}f+=g,h+=b*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,xd(t,e)}}var Lb={},zb={},uI;function Mte(){return uI||(uI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(zb)),zb}var Ub={},dI;function L3(){return dI||(dI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Ub)),Ub}var Vb={},fI;function b2(){return fI||(fI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Vb)),Vb}var Bb={},Fb={},hI;function Lte(){return hI||(hI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Fb)),Fb}var mI;function w2(){return mI||(mI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lte(),n=b2();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const o=[],c=i.length;if(c===0)return o;let u=0,f="",h="",p=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<c;){const g=i[u];h?g==="\\"&&u+1<c?(u++,f+=i[u]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,o.push(f),f=""):f+=g:g==="["?(p=!0,f&&(o.push(f),f="")):g==="."?f&&(o.push(f),f=""):f+=g,u++}return f&&o.push(f),o}t.toPath=r})(Bb)),Bb}var pI;function j2(){return pI||(pI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mte(),n=L3(),r=b2(),i=w2();function o(u,f,h){if(u==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=u[f];return p===void 0?n.isDeepKey(f)?o(u,i.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=u[f];return p===void 0?h:p}default:{if(Array.isArray(f))return c(u,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=u[f];return p===void 0?h:p}}}function c(u,f,h){if(f.length===0)return h;let p=u;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}t.get=o})(Lb)),Lb}var $b,gI;function zte(){return gI||(gI=1,$b=j2().get),$b}var Ute=zte();const T0=bs(Ute);var na=t=>t===0?0:t>0?1:-1,La=t=>typeof t=="number"&&t!=+t,oo=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ge=t=>(typeof t=="number"||t instanceof Number)&&!La(t),gs=t=>Ge(t)||typeof t=="string",Vte=0,Eh=t=>{var e=++Vte;return"".concat(t||"").concat(e)},Rl=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ge(e)&&typeof e!="string")return r;var o;if(oo(e)){if(n==null)return r;var c=e.indexOf("%");o=n*parseFloat(e.slice(0,c))/100}else o=+e;return La(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},z3=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Xa(t,e,n){return Ge(t)&&Ge(e)?t+n*(e-t):e}function U3(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):T0(r,e))===n)}var _r=t=>t===null||typeof t>"u",N2=t=>_r(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Bte(t){return t!=null}function am(){}var V3=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,_2=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(j.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{x2(i)&&(r[i]=(o=>n[i](n,o)))}),r},Fte=(t,e,n)=>r=>(t(e,n,r),null),$te=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];x2(i)&&typeof o=="function"&&(r||(r={}),r[i]=Fte(o,e,n))}),r};function yI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(n),!0).forEach(function(r){Hte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hte(t,e,n){return(e=Gte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gte(t){var e=Kte(t,"string");return typeof e=="symbol"?e:e+""}function Kte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Li(t,e){var n=qte({},t),r=e,i=Object.keys(e),o=i.reduce((c,u)=>(c[u]===void 0&&r[u]!==void 0&&(c[u]=r[u]),c),n);return o}var qb={},Hb={},xI;function Wte(){return xI||(xI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const c=n[o],u=r(c);i.has(u)||i.set(u,c)}return Array.from(i.values())}t.uniqBy=e})(Hb)),Hb}var Gb={},vI;function B3(){return vI||(vI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Gb)),Gb}var Kb={},Wb={},Yb={},bI;function Yte(){return bI||(bI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Yb)),Yb}var wI;function S2(){return wI||(wI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yte();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Wb)),Wb}var Qb={},jI;function Qte(){return jI||(jI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Qb)),Qb}var NI;function Xte(){return NI||(NI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=S2(),n=Qte();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Kb)),Kb}var Xb={},Jb={},_I;function Jte(){return _I||(_I=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j2();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Jb)),Jb}var Zb={},ew={},tw={},nw={},SI;function F3(){return SI||(SI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(nw)),nw}var rw={},EI;function $3(){return EI||(EI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(rw)),rw}var iw={},AI;function q3(){return AI||(AI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(iw)),iw}var TI;function Zte(){return TI||(TI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F3(),n=$3(),r=q3();function i(p,g,x){return typeof x!="function"?i(p,g,()=>{}):o(p,g,function b(_,S,N,T,O,C){const M=x(_,S,N,T,O,C);return M!==void 0?!!M:o(_,S,b,C)},new Map)}function o(p,g,x,b){if(g===p)return!0;switch(typeof g){case"object":return c(p,g,x,b);case"function":return Object.keys(g).length>0?o(p,{...g},x,b):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function c(p,g,x,b){if(g==null)return!0;if(Array.isArray(g))return f(p,g,x,b);if(g instanceof Map)return u(p,g,x,b);if(g instanceof Set)return h(p,g,x,b);const _=Object.keys(g);if(p==null)return _.length===0;if(_.length===0)return!0;if(b?.has(g))return b.get(g)===p;b?.set(g,p);try{for(let S=0;S<_.length;S++){const N=_[S];if(!n.isPrimitive(p)&&!(N in p)||g[N]===void 0&&p[N]!==void 0||g[N]===null&&p[N]!==null||!x(p[N],g[N],N,p,g,b))return!1}return!0}finally{b?.delete(g)}}function u(p,g,x,b){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[_,S]of g.entries()){const N=p.get(_);if(x(N,S,_,p,g,b)===!1)return!1}return!0}function f(p,g,x,b){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const _=new Set;for(let S=0;S<g.length;S++){const N=g[S];let T=!1;for(let O=0;O<p.length;O++){if(_.has(O))continue;const C=p[O];let M=!1;if(x(C,N,S,p,g,b)&&(M=!0),M){_.add(O),T=!0;break}}if(!T)return!1}return!0}function h(p,g,x,b){return g.size===0?!0:p instanceof Set?f([...p],[...g],x,b):!1}t.isMatchWith=i,t.isSetMatch=h})(tw)),tw}var CI;function H3(){return CI||(CI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zte();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(ew)),ew}var aw={},sw={},ow={},kI;function ene(){return kI||(kI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(ow)),ow}var lw={},II;function G3(){return II||(II=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(lw)),lw}var cw={},OI;function K3(){return OI||(OI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",c="[object Symbol]",u="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",x="[object ArrayBuffer]",b="[object Object]",_="[object Error]",S="[object DataView]",N="[object Uint8Array]",T="[object Uint8ClampedArray]",O="[object Uint16Array]",C="[object Uint32Array]",M="[object BigUint64Array]",R="[object Int8Array]",F="[object Int16Array]",E="[object Int32Array]",I="[object BigInt64Array]",D="[object Float32Array]",V="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=x,t.arrayTag=p,t.bigInt64ArrayTag=I,t.bigUint64ArrayTag=M,t.booleanTag=i,t.dataViewTag=S,t.dateTag=u,t.errorTag=_,t.float32ArrayTag=D,t.float64ArrayTag=V,t.functionTag=g,t.int16ArrayTag=F,t.int32ArrayTag=E,t.int8ArrayTag=R,t.mapTag=f,t.numberTag=r,t.objectTag=b,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=c,t.uint16ArrayTag=O,t.uint32ArrayTag=C,t.uint8ArrayTag=N,t.uint8ClampedArrayTag=T})(cw)),cw}var uw={},RI;function tne(){return RI||(RI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(uw)),uw}var PI;function W3(){return PI||(PI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ene(),n=G3(),r=K3(),i=$3(),o=tne();function c(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,x,b=new Map,_=void 0){const S=_?.(p,g,x,b);if(S!==void 0)return S;if(i.isPrimitive(p))return p;if(b.has(p))return b.get(p);if(Array.isArray(p)){const N=new Array(p.length);b.set(p,N);for(let T=0;T<p.length;T++)N[T]=u(p[T],T,x,b,_);return Object.hasOwn(p,"index")&&(N.index=p.index),Object.hasOwn(p,"input")&&(N.input=p.input),N}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const N=new RegExp(p.source,p.flags);return N.lastIndex=p.lastIndex,N}if(p instanceof Map){const N=new Map;b.set(p,N);for(const[T,O]of p)N.set(T,u(O,T,x,b,_));return N}if(p instanceof Set){const N=new Set;b.set(p,N);for(const T of p)N.add(u(T,void 0,x,b,_));return N}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(o.isTypedArray(p)){const N=new(Object.getPrototypeOf(p)).constructor(p.length);b.set(p,N);for(let T=0;T<p.length;T++)N[T]=u(p[T],T,x,b,_);return N}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const N=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return b.set(p,N),f(N,p,x,b,_),N}if(typeof File<"u"&&p instanceof File){const N=new File([p],p.name,{type:p.type});return b.set(p,N),f(N,p,x,b,_),N}if(typeof Blob<"u"&&p instanceof Blob){const N=new Blob([p],{type:p.type});return b.set(p,N),f(N,p,x,b,_),N}if(p instanceof Error){const N=new p.constructor;return b.set(p,N),N.message=p.message,N.name=p.name,N.stack=p.stack,N.cause=p.cause,f(N,p,x,b,_),N}if(p instanceof Boolean){const N=new Boolean(p.valueOf());return b.set(p,N),f(N,p,x,b,_),N}if(p instanceof Number){const N=new Number(p.valueOf());return b.set(p,N),f(N,p,x,b,_),N}if(p instanceof String){const N=new String(p.valueOf());return b.set(p,N),f(N,p,x,b,_),N}if(typeof p=="object"&&h(p)){const N=Object.create(Object.getPrototypeOf(p));return b.set(p,N),f(N,p,x,b,_),N}return p}function f(p,g,x=p,b,_){const S=[...Object.keys(g),...e.getSymbols(g)];for(let N=0;N<S.length;N++){const T=S[N],O=Object.getOwnPropertyDescriptor(p,T);(O==null||O.writable)&&(p[T]=u(g[T],T,x,b,_))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=c,t.cloneDeepWithImpl=u,t.copyProperties=f})(sw)),sw}var DI;function nne(){return DI||(DI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W3();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(aw)),aw}var MI;function rne(){return MI||(MI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H3(),n=nne();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(Zb)),Zb}var dw={},fw={},hw={},LI;function ine(){return LI||(LI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W3(),n=K3();function r(i,o){return e.cloneDeepWith(i,(c,u,f,h)=>{const p=o?.(c,u,f,h);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i?.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(hw)),hw}var zI;function ane(){return zI||(zI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ine();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(fw)),fw}var mw={},pw={},UI;function Y3(){return UI||(UI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(pw)),pw}var gw={},VI;function sne(){return VI||(VI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G3();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(gw)),gw}var BI;function one(){return BI||(BI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L3(),n=Y3(),r=sne(),i=w2();function o(c,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&c?.[u]==null?f=i.toPath(u):f=[u],f.length===0)return!1;let h=c;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=o})(mw)),mw}var FI;function lne(){return FI||(FI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H3(),n=b2(),r=ane(),i=j2(),o=one();function c(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(h){const p=i.get(h,u);return p===void 0?o.has(h,u):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=c})(dw)),dw}var $I;function cne(){return $I||($I=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B3(),n=Jte(),r=rne(),i=lne();function o(c){if(c==null)return e.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}t.iteratee=o})(Xb)),Xb}var qI;function une(){return qI||(qI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wte(),n=B3(),r=Xte(),i=cne();function o(c,u=n.identity){return r.isArrayLikeObject(c)?e.uniqBy(Array.from(c),i.iteratee(u)):[]}t.uniqBy=o})(qb)),qb}var yw,HI;function dne(){return HI||(HI=1,yw=une().uniqBy),yw}var fne=dne();const GI=bs(fne);function hne(t,e,n){return e===!0?GI(t,n):typeof e=="function"?GI(t,e):t}var xw={exports:{}},vw={},bw={exports:{}},ww={};var KI;function mne(){if(KI)return ww;KI=1;var t=Sd();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,c=t.useDebugValue;function u(g,x){var b=x(),_=r({inst:{value:b,getSnapshot:x}}),S=_[0].inst,N=_[1];return o(function(){S.value=b,S.getSnapshot=x,f(S)&&N({inst:S})},[g,b,x]),i(function(){return f(S)&&N({inst:S}),g(function(){f(S)&&N({inst:S})})},[g]),c(b),b}function f(g){var x=g.getSnapshot;g=g.value;try{var b=x();return!n(g,b)}catch{return!0}}function h(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return ww.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,ww}var WI;function pne(){return WI||(WI=1,bw.exports=mne()),bw.exports}var YI;function gne(){if(YI)return vw;YI=1;var t=Sd(),e=pne();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,c=t.useEffect,u=t.useMemo,f=t.useDebugValue;return vw.useSyncExternalStoreWithSelector=function(h,p,g,x,b){var _=o(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=u(function(){function T(F){if(!O){if(O=!0,C=F,F=x(F),b!==void 0&&S.hasValue){var E=S.value;if(b(E,F))return M=E}return M=F}if(E=M,r(C,F))return E;var I=x(F);return b!==void 0&&b(E,I)?(C=F,E):(C=F,M=I)}var O=!1,C,M,R=g===void 0?null:g;return[function(){return T(p())},R===null?void 0:function(){return T(R())}]},[p,g,x,b]);var N=i(h,_[0],_[1]);return c(function(){S.hasValue=!0,S.value=N},[N]),f(N),N},vw}var QI;function yne(){return QI||(QI=1,xw.exports=gne()),xw.exports}var xne=yne(),E2=j.createContext(null),vne=t=>t,ur=()=>{var t=j.useContext(E2);return t?t.store.dispatch:vne},kg=()=>{},bne=()=>kg,wne=(t,e)=>t===e;function We(t){var e=j.useContext(E2);return xne.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:bne,e?e.store.getState:kg,e?e.store.getState:kg,e?t:kg,wne)}function jne(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Nne(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function _ne(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var XI=t=>Array.isArray(t)?t:[t];function Sne(t){const e=Array.isArray(t[0])?t[0]:t;return _ne(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Ene(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Ane=class{constructor(t){this.value=t}deref(){return this.value}},Tne=typeof WeakRef<"u"?WeakRef:Ane,Cne=0,JI=1;function eg(){return{s:Cne,v:void 0,o:null,p:null}}function Q3(t,e={}){let n=eg();const{resultEqualityCheck:r}=e;let i,o=0;function c(){let u=n;const{length:f}=arguments;for(let g=0,x=f;g<x;g++){const b=arguments[g];if(typeof b=="function"||typeof b=="object"&&b!==null){let _=u.o;_===null&&(u.o=_=new WeakMap);const S=_.get(b);S===void 0?(u=eg(),_.set(b,u)):u=S}else{let _=u.p;_===null&&(u.p=_=new Map);const S=_.get(b);S===void 0?(u=eg(),_.set(b,u)):u=S}}const h=u;let p;if(u.s===JI)p=u.v;else if(p=t.apply(null,arguments),o++,r){const g=i?.deref?.()??i;g!=null&&r(g,p)&&(p=g,o!==0&&o--),i=typeof p=="object"&&p!==null||typeof p=="function"?new Tne(p):p}return h.s=JI,h.v=p,p}return c.clearCache=()=>{n=eg(),c.resetResultsCount()},c.resultsCount=()=>o,c.resetResultsCount=()=>{o=0},c}function kne(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,c=0,u,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),jne(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:x=[],argsMemoize:b=Q3,argsMemoizeOptions:_=[]}=p,S=XI(x),N=XI(_),T=Sne(i),O=g(function(){return o++,h.apply(null,arguments)},...S),C=b(function(){c++;const R=Ene(T,arguments);return u=O.apply(null,R),u},...N);return Object.assign(C,{resultFunc:h,memoizedResultFunc:O,dependencies:T,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:g,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var ve=kne(Q3),Ine=Object.assign((t,e=ve)=>{Nne(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((c,u,f)=>(c[n[f]]=u,c),{}))},{withTypes:()=>Ine}),jw={},Nw={},_w={},ZI;function One(){return ZI||(ZI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const c=e(r),u=e(i);if(c===u&&c===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-c:c-u}return 0};t.compareValues=n})(_w)),_w}var Sw={},Ew={},eO;function X3(){return eO||(eO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Ew)),Ew}var tO;function Rne(){return tO||(tO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=X3(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,c){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||c!=null&&Object.hasOwn(c,o)}t.isKey=i})(Sw)),Sw}var nO;function Pne(){return nO||(nO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=One(),n=Rne(),r=w2();function i(o,c,u,f){if(o==null)return[];u=f?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const h=(b,_)=>{let S=b;for(let N=0;N<_.length&&S!=null;++N)S=S[_[N]];return S},p=(b,_)=>_==null||b==null?_:typeof b=="object"&&"key"in b?Object.hasOwn(_,b.key)?_[b.key]:h(_,b.path):typeof b=="function"?b(_):Array.isArray(b)?h(_,b):typeof _=="object"?_[b]:_,g=c.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return o.map(b=>({original:b,criteria:g.map(_=>p(_,b))})).slice().sort((b,_)=>{for(let S=0;S<g.length;S++){const N=e.compareValues(b.criteria[S],_.criteria[S],u[S]);if(N!==0)return N}return 0}).map(b=>b.original)}t.orderBy=i})(Nw)),Nw}var Aw={},rO;function Dne(){return rO||(rO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),c=(u,f)=>{for(let h=0;h<u.length;h++){const p=u[h];Array.isArray(p)&&f<o?c(p,f+1):i.push(p)}};return c(n,0),i}t.flatten=e})(Aw)),Aw}var Tw={},iO;function J3(){return iO||(iO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y3(),n=S2(),r=F3(),i=q3();function o(c,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],c):!1}t.isIterateeCall=o})(Tw)),Tw}var aO;function Mne(){return aO||(aO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pne(),n=Dne(),r=J3();function i(o,...c){const u=c.length;return u>1&&r.isIterateeCall(o,c[0],c[1])?c=[]:u>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),e.orderBy(o,n.flatten(c),["asc"])}t.sortBy=i})(jw)),jw}var Cw,sO;function Lne(){return sO||(sO=1,Cw=Mne().sortBy),Cw}var zne=Lne();const C0=bs(zne);var Z3=t=>t.legend.settings,Une=t=>t.legend.size,Vne=t=>t.legend.payload;ve([Vne,Z3],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?C0(r,n):r});var tg=1;function Bne(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=j.useState({height:0,left:0,top:0,width:0}),r=j.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),c={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(c.height-e.height)>tg||Math.abs(c.left-e.left)>tg||Math.abs(c.top-e.top)>tg||Math.abs(c.width-e.width)>tg)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function vr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Fne=typeof Symbol=="function"&&Symbol.observable||"@@observable",oO=Fne,kw=()=>Math.random().toString(36).substring(7).split("").join("."),$ne={INIT:`@@redux/INIT${kw()}`,REPLACE:`@@redux/REPLACE${kw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${kw()}`},hy=$ne;function A2(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function e5(t,e,n){if(typeof t!="function")throw new Error(vr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(vr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(vr(1));return n(e5)(t,e)}let r=t,i=e,o=new Map,c=o,u=0,f=!1;function h(){c===o&&(c=new Map,o.forEach((N,T)=>{c.set(T,N)}))}function p(){if(f)throw new Error(vr(3));return i}function g(N){if(typeof N!="function")throw new Error(vr(4));if(f)throw new Error(vr(5));let T=!0;h();const O=u++;return c.set(O,N),function(){if(T){if(f)throw new Error(vr(6));T=!1,h(),c.delete(O),o=null}}}function x(N){if(!A2(N))throw new Error(vr(7));if(typeof N.type>"u")throw new Error(vr(8));if(typeof N.type!="string")throw new Error(vr(17));if(f)throw new Error(vr(9));try{f=!0,i=r(i,N)}finally{f=!1}return(o=c).forEach(O=>{O()}),N}function b(N){if(typeof N!="function")throw new Error(vr(10));r=N,x({type:hy.REPLACE})}function _(){const N=g;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(vr(11));function O(){const M=T;M.next&&M.next(p())}return O(),{unsubscribe:N(O)}},[oO](){return this}}}return x({type:hy.INIT}),{dispatch:x,subscribe:g,getState:p,replaceReducer:b,[oO]:_}}function qne(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:hy.INIT})>"u")throw new Error(vr(12));if(typeof n(void 0,{type:hy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(vr(13))})}function t5(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const c=e[o];typeof t[c]=="function"&&(n[c]=t[c])}const r=Object.keys(n);let i;try{qne(n)}catch(o){i=o}return function(c={},u){if(i)throw i;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],x=n[g],b=c[g],_=x(b,u);if(typeof _>"u")throw u&&u.type,new Error(vr(14));h[g]=_,f=f||_!==b}return f=f||r.length!==Object.keys(c).length,f?h:c}}function my(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Hne(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(vr(15))};const c={getState:i.getState,dispatch:(f,...h)=>o(f,...h)},u=t.map(f=>f(c));return o=my(...u)(i.dispatch),{...i,dispatch:o}}}function n5(t){return A2(t)&&"type"in t&&typeof t.type=="string"}var r5=Symbol.for("immer-nothing"),lO=Symbol.for("immer-draftable"),ei=Symbol.for("immer-state");function Aa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Oi=Object,vd=Oi.getPrototypeOf,py="constructor",k0="prototype",oj="configurable",gy="enumerable",Ig="writable",Ah="value",lo=t=>!!t&&!!t[ei];function ys(t){return t?i5(t)||I0(t)||!!t[lO]||!!t[py]?.[lO]||O0(t)||R0(t):!1}var Gne=Oi[k0][py].toString(),cO=new WeakMap;function i5(t){if(!t||!T2(t))return!1;const e=vd(t);if(e===null||e===Oi[k0])return!0;const n=Oi.hasOwnProperty.call(e,py)&&e[py];if(n===Object)return!0;if(!Bu(n))return!1;let r=cO.get(n);return r===void 0&&(r=Function.toString.call(n),cO.set(n,r)),r===Gne}function sm(t,e,n=!0){om(t)===0?(n?Reflect.ownKeys(t):Oi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function om(t){const e=t[ei];return e?e.type_:I0(t)?1:O0(t)?2:R0(t)?3:0}var uO=(t,e,n=om(t))=>n===2?t.has(e):Oi[k0].hasOwnProperty.call(t,e),lj=(t,e,n=om(t))=>n===2?t.get(e):t[e],yy=(t,e,n,r=om(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Kne(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var I0=Array.isArray,O0=t=>t instanceof Map,R0=t=>t instanceof Set,T2=t=>typeof t=="object",Bu=t=>typeof t=="function",Iw=t=>typeof t=="boolean",qs=t=>t.copy_||t.base_,C2=t=>t.modified_?t.copy_:t.base_;function cj(t,e){if(O0(t))return new Map(t);if(R0(t))return new Set(t);if(I0(t))return Array[k0].slice.call(t);const n=i5(t);if(e===!0||e==="class_only"&&!n){const r=Oi.getOwnPropertyDescriptors(t);delete r[ei];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const c=i[o],u=r[c];u[Ig]===!1&&(u[Ig]=!0,u[oj]=!0),(u.get||u.set)&&(r[c]={[oj]:!0,[Ig]:!0,[gy]:u[gy],[Ah]:t[c]})}return Oi.create(vd(t),r)}else{const r=vd(t);if(r!==null&&n)return{...t};const i=Oi.create(r);return Oi.assign(i,t)}}function k2(t,e=!1){return P0(t)||lo(t)||(om(t)>1&&Oi.defineProperties(t,{set:ng,add:ng,clear:ng,delete:ng}),Oi.freeze(t),e&&sm(t,(n,r)=>{k2(r,!0)},!1)),t}function Wne(){Aa(2)}var ng={[Ah]:Wne};function P0(t){return t===null||!T2(t)?!0:Oi.isFrozen(t)}var xy="MapSet",uj="Patches",a5={};function bd(t){const e=a5[t];return e||Aa(0,t),e}var Yne=t=>!!a5[t],Th,s5=()=>Th,Qne=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Yne(xy)?bd(xy):void 0});function dO(t,e){e&&(t.patchPlugin_=bd(uj),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function dj(t){fj(t),t.drafts_.forEach(Xne),t.drafts_=null}function fj(t){t===Th&&(Th=t.parent_)}var fO=t=>Th=Qne(Th,t);function Xne(t){const e=t[ei];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function hO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[ei].modified_&&(dj(e),Aa(4)),ys(t)&&(t=mO(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[ei].base_,t,e)}else t=mO(e,n);return Jne(e,t,!0),dj(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==r5?t:void 0}function mO(t,e){if(P0(e))return e;const n=e[ei];if(!n)return I2(e,t.handledSet_,t);if(!D0(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);c5(n,t)}return n.copy_}function Jne(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&k2(e,n)}function o5(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var D0=(t,e)=>t.scope_===e,Zne=[];function l5(t,e,n,r){const i=qs(t),o=t.type_;if(r!==void 0&&lj(i,r,o)===e){yy(i,r,n,o);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;sm(i,(f,h)=>{if(lo(h)){const p=u.get(h)||[];p.push(f),u.set(h,p)}})}const c=t.draftLocations_.get(e)??Zne;for(const u of c)yy(i,u,n,o)}function ere(t,e,n){t.callbacks_.push(function(i){const o=e;if(!o||!D0(o,i))return;i.mapSetPlugin_?.fixSetContents(o);const c=C2(o);l5(t,o.draft_??o,c,n),c5(o,i)})}function c5(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}o5(t)}}function tre(t,e,n){const{scope_:r}=t;if(lo(n)){const i=n[ei];D0(i,r)&&i.callbacks_.push(function(){Og(t);const c=C2(i);l5(t,n,c,e)})}else ys(n)&&t.callbacks_.push(function(){const o=qs(t);lj(o,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&I2(lj(t.copy_,e,t.type_),r.handledSet_,r)})}function I2(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||lo(t)||e.has(t)||!ys(t)||P0(t)||(e.add(t),sm(t,(r,i)=>{if(lo(i)){const o=i[ei];if(D0(o,n)){const c=C2(o);yy(t,r,c,t.type_),o5(o)}}else ys(i)&&I2(i,e,n)})),t}function nre(t,e){const n=I0(t),r={type_:n?1:0,scope_:e?e.scope_:s5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=O2;n&&(i=[r],o=Ch);const{revoke:c,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=c,[u,r]}var O2={get(t,e){if(e===ei)return t;const n=qs(t);if(!uO(n,e,t.type_))return rre(t,n,e);const r=n[e];if(t.finalized_||!ys(r))return r;if(r===Ow(t.base_,e)){Og(t);const i=t.type_===1?+e:e,o=mj(t.scope_,r,t,i);return t.copy_[i]=o}return r},has(t,e){return e in qs(t)},ownKeys(t){return Reflect.ownKeys(qs(t))},set(t,e,n){const r=u5(qs(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Ow(qs(t),e),o=i?.[ei];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Kne(n,i)&&(n!==void 0||uO(t.base_,e,t.type_)))return!0;Og(t),hj(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),tre(t,e,n)),!0},deleteProperty(t,e){return Og(t),Ow(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),hj(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=qs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Ig]:!0,[oj]:t.type_!==1||e!=="length",[gy]:r[gy],[Ah]:n[e]}},defineProperty(){Aa(11)},getPrototypeOf(t){return vd(t.base_)},setPrototypeOf(){Aa(12)}},Ch={};sm(O2,(t,e)=>{Ch[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Ch.deleteProperty=function(t,e){return Ch.set.call(this,t,e,void 0)};Ch.set=function(t,e,n){return O2.set.call(this,t[0],e,n,t[0])};function Ow(t,e){const n=t[ei];return(n?qs(n):t)[e]}function rre(t,e,n){const r=u5(e,n);return r?Ah in r?r[Ah]:r.get?.call(t.draft_):void 0}function u5(t,e){if(!(e in t))return;let n=vd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=vd(n)}}function hj(t){t.modified_||(t.modified_=!0,t.parent_&&hj(t.parent_))}function Og(t){t.copy_||(t.assigned_=new Map,t.copy_=cj(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var ire=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Bu(n)&&!Bu(r)){const c=r;r=n;const u=this;return function(h=c,...p){return u.produce(h,g=>r.call(this,g,...p))}}Bu(r)||Aa(6),i!==void 0&&!Bu(i)&&Aa(7);let o;if(ys(n)){const c=fO(this),u=mj(c,n,void 0);let f=!0;try{o=r(u),f=!1}finally{f?dj(c):fj(c)}return dO(c,i),hO(o,c)}else if(!n||!T2(n)){if(o=r(n),o===void 0&&(o=n),o===r5&&(o=void 0),this.autoFreeze_&&k2(o,!0),i){const c=[],u=[];bd(uj).generateReplacementPatches_(n,o,{patches_:c,inversePatches_:u}),i(c,u)}return o}else Aa(1,n)},this.produceWithPatches=(n,r)=>{if(Bu(n))return(u,...f)=>this.produceWithPatches(u,h=>n(h,...f));let i,o;return[this.produce(n,r,(u,f)=>{i=u,o=f}),i,o]},Iw(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Iw(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Iw(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ys(e)||Aa(8),lo(e)&&(e=Oa(e));const n=fO(this),r=mj(n,e,void 0);return r[ei].isManual_=!0,fj(n),r}finishDraft(e,n){const r=e&&e[ei];(!r||!r.isManual_)&&Aa(9);const{scope_:i}=r;return dO(i,n),hO(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(n=n.slice(r+1));const i=bd(uj).applyPatches_;return lo(e)?i(e,n):this.produce(e,o=>i(o,n))}};function mj(t,e,n,r){const[i,o]=O0(e)?bd(xy).proxyMap_(e,n):R0(e)?bd(xy).proxySet_(e,n):nre(e,n);return(n?.scope_??s5()).drafts_.push(i),o.callbacks_=n?.callbacks_??[],o.key_=r,n&&r!==void 0?ere(n,o,r):o.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(o);const{patchPlugin_:h}=f;o.modified_&&h&&h.generatePatches_(o,[],f)}),i}function Oa(t){return lo(t)||Aa(10,t),d5(t)}function d5(t){if(!ys(t)||P0(t))return t;const e=t[ei];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=cj(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=cj(t,!0);return sm(n,(i,o)=>{yy(n,i,d5(o))},r),e&&(e.finalized_=!1),n}var are=new ire,f5=are.produce;function h5(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var sre=h5(),ore=h5,lre=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?my:my.apply(null,arguments)};function oa(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Pi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>n5(r)&&r.type===t,n}var m5=class nh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,nh.prototype)}static get[Symbol.species](){return nh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new nh(...e[0].concat(this)):new nh(...e.concat(this))}};function pO(t){return ys(t)?f5(t,()=>{}):t}function rg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function cre(t){return typeof t=="boolean"}var ure=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let c=new m5;return n&&(cre(n)?c.push(sre):c.push(ore(n.extraArgument))),c},p5="RTK_autoBatch",sn=()=>t=>({payload:t,meta:{[p5]:!0}}),gO=t=>e=>{setTimeout(e,t)},g5=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,c=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:gO(10):t.type==="callback"?t.queueNotification:gO(t.timeout),h=()=>{c=!1,o&&(o=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),x=r.subscribe(g);return u.add(p),()=>{x(),u.delete(p)}},dispatch(p){try{return i=!p?.meta?.[p5],o=!i,o&&(c||(c=!0,f(h))),r.dispatch(p)}finally{i=!0}}})},dre=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new m5(t);return r&&i.push(g5(typeof r=="object"?r:void 0)),i};function fre(t){const e=ure(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:c=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(A2(n))u=t5(n);else throw new Error(Pi(1));let f;typeof r=="function"?f=r(e):f=e();let h=my;i&&(h=lre({trace:!1,...typeof i=="object"&&i}));const p=Hne(...f),g=dre(p);let x=typeof c=="function"?c(g):g();const b=h(...x);return e5(u,o,b)}function y5(t){const e={},n=[];let r;const i={addCase(o,c){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Pi(28));if(u in e)throw new Error(Pi(29));return e[u]=c,i},addAsyncThunk(o,c){return c.pending&&(e[o.pending.type]=c.pending),c.rejected&&(e[o.rejected.type]=c.rejected),c.fulfilled&&(e[o.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:o.settled,reducer:c.settled}),i},addMatcher(o,c){return n.push({matcher:o,reducer:c}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function hre(t){return typeof t=="function"}function mre(t,e){let[n,r,i]=y5(e),o;if(hre(t))o=()=>pO(t());else{const u=pO(t);o=()=>u}function c(u=o(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if(lo(p)){const b=g(p,f);return b===void 0?p:b}else{if(ys(p))return f5(p,x=>g(x,f));{const x=g(p,f);if(x===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return p},u)}return c.getInitialState=o,c}var pre="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",gre=(t=21)=>{let e="",n=t;for(;n--;)e+=pre[Math.random()*64|0];return e},yre=Symbol.for("rtk-slice-createasyncthunk");function xre(t,e){return`${t}/${e}`}function vre({creators:t}={}){const e=t?.asyncThunk?.[yre];return function(r){const{name:i,reducerPath:o=i}=r;if(!i)throw new Error(Pi(11));const c=(typeof r.reducers=="function"?r.reducers(wre()):r.reducers)||{},u=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(C,M){const R=typeof C=="string"?C:C.type;if(!R)throw new Error(Pi(12));if(R in f.sliceCaseReducersByType)throw new Error(Pi(13));return f.sliceCaseReducersByType[R]=M,h},addMatcher(C,M){return f.sliceMatchers.push({matcher:C,reducer:M}),h},exposeAction(C,M){return f.actionCreators[C]=M,h},exposeCaseReducer(C,M){return f.sliceCaseReducersByName[C]=M,h}};u.forEach(C=>{const M=c[C],R={reducerName:C,type:xre(i,C),createNotation:typeof r.reducers=="function"};Nre(M)?Sre(R,M,h,e):jre(R,M,h)});function p(){const[C={},M=[],R=void 0]=typeof r.extraReducers=="function"?y5(r.extraReducers):[r.extraReducers],F={...C,...f.sliceCaseReducersByType};return mre(r.initialState,E=>{for(let I in F)E.addCase(I,F[I]);for(let I of f.sliceMatchers)E.addMatcher(I.matcher,I.reducer);for(let I of M)E.addMatcher(I.matcher,I.reducer);R&&E.addDefaultCase(R)})}const g=C=>C,x=new Map,b=new WeakMap;let _;function S(C,M){return _||(_=p()),_(C,M)}function N(){return _||(_=p()),_.getInitialState()}function T(C,M=!1){function R(E){let I=E[C];return typeof I>"u"&&M&&(I=rg(b,R,N)),I}function F(E=g){const I=rg(x,M,()=>new WeakMap);return rg(I,E,()=>{const D={};for(const[V,z]of Object.entries(r.selectors??{}))D[V]=bre(z,E,()=>rg(b,E,N),M);return D})}return{reducerPath:C,getSelectors:F,get selectors(){return F(R)},selectSlice:R}}const O={name:i,reducer:S,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:N,...T(o),injectInto(C,{reducerPath:M,...R}={}){const F=M??o;return C.inject({reducerPath:F,reducer:S},R),{...O,...T(F,!0)}}};return O}}function bre(t,e,n,r){function i(o,...c){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...c)}return i.unwrapped=t,i}var pi=vre();function wre(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function jre({type:t,reducerName:e,createNotation:n},r,i){let o,c;if("reducer"in r){if(n&&!_re(r))throw new Error(Pi(17));o=r.reducer,c=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,c?oa(t,c):oa(t))}function Nre(t){return t._reducerDefinitionType==="asyncThunk"}function _re(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Sre({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Pi(18));const{payloadCreator:o,fulfilled:c,pending:u,rejected:f,settled:h,options:p}=n,g=i(t,o,p);r.exposeAction(e,g),c&&r.addCase(g.fulfilled,c),u&&r.addCase(g.pending,u),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:c||ig,pending:u||ig,rejected:f||ig,settled:h||ig})}function ig(){}var Ere="task",x5="listener",v5="completed",R2="cancelled",Are=`task-${R2}`,Tre=`task-${v5}`,pj=`${x5}-${R2}`,Cre=`${x5}-${v5}`,M0=class{constructor(t){this.code=t,this.message=`${Ere} ${R2} (reason: ${t})`}name="TaskAbortError";message},P2=(t,e)=>{if(typeof t!="function")throw new TypeError(Pi(32))},vy=()=>{},b5=(t,e=vy)=>(t.catch(e),t),w5=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Sc=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Ec=t=>{if(t.aborted){const{reason:e}=t;throw new M0(e)}};function j5(t,e){let n=vy;return new Promise((r,i)=>{const o=()=>i(new M0(t.reason));if(t.aborted){o();return}n=w5(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=vy})}var kre=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof M0?"cancelled":"rejected",error:n}}finally{e?.()}},by=t=>e=>b5(j5(t,e).then(n=>(Ec(t),n))),N5=t=>{const e=by(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:sd}=Object,yO={},L0="listenerMiddleware",Ire=(t,e)=>{const n=r=>w5(t,()=>Sc(r,t.reason));return(r,i)=>{P2(r);const o=new AbortController;n(o);const c=kre(async()=>{Ec(t),Ec(o.signal);const u=await r({pause:by(o.signal),delay:N5(o.signal),signal:o.signal});return Ec(o.signal),u},()=>Sc(o,Tre));return i?.autoJoin&&e.push(c.catch(vy)),{result:by(t)(c),cancel(){Sc(o,Are)}}}},Ore=(t,e)=>{const n=async(r,i)=>{Ec(e);let o=()=>{};const u=[new Promise((f,h)=>{let p=t({predicate:r,effect:(g,x)=>{x.unsubscribe(),f([g,x.getState(),x.getOriginalState()])}});o=()=>{p(),h()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await j5(e,Promise.race(u));return Ec(e),f}finally{o()}};return(r,i)=>b5(n(r,i))},_5=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=oa(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Pi(21));return P2(o),{predicate:i,type:e,effect:o}},S5=sd(t=>{const{type:e,predicate:n,effect:r}=_5(t);return{id:gre(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Pi(22))}}},{withTypes:()=>S5}),xO=(t,e)=>{const{type:n,effect:r,predicate:i}=_5(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},gj=t=>{t.pending.forEach(e=>{Sc(e,pj)})},Rre=(t,e)=>()=>{for(const n of e.keys())gj(n);t.clear()},vO=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},E5=sd(oa(`${L0}/add`),{withTypes:()=>E5}),Pre=oa(`${L0}/removeAll`),A5=sd(oa(`${L0}/remove`),{withTypes:()=>A5}),Dre=(...t)=>{console.error(`${L0}/error`,...t)},lm=(t={})=>{const e=new Map,n=new Map,r=b=>{const _=n.get(b)??0;n.set(b,_+1)},i=b=>{const _=n.get(b)??1;_===1?n.delete(b):n.set(b,_-1)},{extra:o,onError:c=Dre}=t;P2(c);const u=b=>(b.unsubscribe=()=>e.delete(b.id),e.set(b.id,b),_=>{b.unsubscribe(),_?.cancelActive&&gj(b)}),f=b=>{const _=xO(e,b)??S5(b);return u(_)};sd(f,{withTypes:()=>f});const h=b=>{const _=xO(e,b);return _&&(_.unsubscribe(),b.cancelActive&&gj(_)),!!_};sd(h,{withTypes:()=>h});const p=async(b,_,S,N)=>{const T=new AbortController,O=Ore(f,T.signal),C=[];try{b.pending.add(T),r(b),await Promise.resolve(b.effect(_,sd({},S,{getOriginalState:N,condition:(M,R)=>O(M,R).then(Boolean),take:O,delay:N5(T.signal),pause:by(T.signal),extra:o,signal:T.signal,fork:Ire(T.signal,C),unsubscribe:b.unsubscribe,subscribe:()=>{e.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((M,R,F)=>{M!==T&&(Sc(M,pj),F.delete(M))})},cancel:()=>{Sc(T,pj),b.pending.delete(T)},throwIfCancelled:()=>{Ec(T.signal)}})))}catch(M){M instanceof M0||vO(c,M,{raisedBy:"effect"})}finally{await Promise.all(C),Sc(T,Cre),i(b),b.pending.delete(T)}},g=Rre(e,n);return{middleware:b=>_=>S=>{if(!n5(S))return _(S);if(E5.match(S))return f(S.payload);if(Pre.match(S)){g();return}if(A5.match(S))return h(S.payload);let N=b.getState();const T=()=>{if(N===yO)throw new Error(Pi(23));return N};let O;try{if(O=_(S),e.size>0){const C=b.getState(),M=Array.from(e.values());for(const R of M){let F=!1;try{F=R.predicate(S,C,N)}catch(E){F=!1,vO(c,E,{raisedBy:"predicate"})}F&&p(R,S,b,T)}}}finally{N=yO}return O},startListening:f,stopListening:h,clearListeners:g}};function Pi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Mre={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},T5=pi({name:"chartLayout",initialState:Mre,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Lre,setLayout:zre,setChartSize:Ure,setScale:Vre}=T5.actions,Bre=T5.reducer;function C5(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(r){Fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fre(t,e,n){return(e=$re(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $re(t){var e=qre(t,"string");return typeof e=="symbol"?e:e+""}function qre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dr(t,e,n){return _r(t)||_r(e)?n:gs(e)?T0(t,e,n):typeof e=="function"?e(t):n}var Hre=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:c,layout:u}=e;if((u==="vertical"||u==="horizontal"&&c==="middle")&&o!=="center"&&Ge(t[o]))return Hu(Hu({},t),{},{[o]:t[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&c!=="middle"&&Ge(t[c]))return Hu(Hu({},t),{},{[c]:t[c]+(i||0)})}return t},po=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",k5=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,o,c=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||c.push(e),o||c.push(n),c},I5=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:c,realScaleType:u,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:x,axisType:b}=t;if(!c)return null;var _=u==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,S=i==="category"&&c.bandwidth?c.bandwidth()/_:0;if(S=b==="angleAxis"&&o&&o.length>=2?na(o[0]-o[1])*2*S:S,g||x){var N=(g||x||[]).map((T,O)=>{var C=r?r.indexOf(T):T;return{coordinate:c(C)+S,value:T,offset:S,index:O}});return N.filter(T=>!La(T.coordinate))}return f&&h?h.map((T,O)=>({coordinate:c(T)+S,value:T,index:O,offset:S})):c.ticks&&p!=null?c.ticks(p).map((T,O)=>({coordinate:c(T)+S,value:T,offset:S,index:O})):c.domain().map((T,O)=>({coordinate:c(T)+S,value:r?r[T]:T,index:O,offset:S}))},wO=1e-4,Gre=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-wO,o=Math.max(r[0],r[1])+wO,c=t(e[0]),u=t(e[n-1]);(c<i||c>o||u<i||u>o)&&t.domain([e[0],e[n-1]])}},Kre=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,c=0;c<e;++c){var u=La(t[c][n][1])?t[c][n][0]:t[c][n][1];u>=0?(t[c][n][0]=i,t[c][n][1]=i+u,i=t[c][n][1]):(t[c][n][0]=o,t[c][n][1]=o+u,o=t[c][n][1])}},Wre=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var c=La(t[o][n][1])?t[o][n][0]:t[o][n][1];c>=0?(t[o][n][0]=i,t[o][n][1]=i+c,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Yre={sign:Kre,expand:Rte,none:xd,silhouette:Pte,wiggle:Dte,positive:Wre},Qre=(t,e,n)=>{var r=Yre[n],i=Ote().keys(e).value((o,c)=>Number(Dr(o,c,0))).order(sj).offset(r);return i(t)};function Xre(t){return t==null?void 0:String(t)}function jO(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:o,dataKey:c}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!_r(i[e.dataKey])){var u=U3(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var f=Dr(i,_r(c)?e.dataKey:c);return _r(f)?null:e.scale(f)}var Jre=t=>{var e=t.flat(2).filter(Ge);return[Math.min(...e),Math.max(...e)]},Zre=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],eie=(t,e,n)=>{if(t!=null)return Zre(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:c}=o,u=c.reduce((f,h)=>{var p=C5(h,e,n),g=Jre(p);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},NO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_O=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wy=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=C0(e,p=>p.coordinate),o=1/0,c=1,u=i.length;c<u;c++){var f=i[c],h=i[c-1];o=Math.min((f.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function SO(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Hu(Hu({},e),{},{dataKey:n,payload:r,value:i,name:o})}function O5(t,e){if(t)return String(t);if(typeof e=="string")return e}var tie=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},nie=(t,e)=>e==="centric"?t.angle:t.radius,go=t=>t.layout.width,yo=t=>t.layout.height,rie=t=>t.layout.scale,R5=t=>t.layout.margin,z0=ve(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),U0=ve(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),iie="data-recharts-item-index",aie="data-recharts-item-data-key",cm=60;function EO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ag(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(n),!0).forEach(function(r){sie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sie(t,e,n){return(e=oie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oie(t){var e=lie(t,"string");return typeof e=="symbol"?e:e+""}function lie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cie=t=>t.brush.height;function uie(t){var e=U0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:cm;return n+i}return n},0)}function die(t){var e=U0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:cm;return n+i}return n},0)}function fie(t){var e=z0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function hie(t){var e=z0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Er=ve([go,yo,R5,cie,uie,die,fie,hie,Z3,Une],(t,e,n,r,i,o,c,u,f,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+o},g={top:(n.top||0)+c,bottom:(n.bottom||0)+u},x=ag(ag({},g),p),b=x.bottom;x.bottom+=r,x=Hre(x,f,h);var _=t-x.left-x.right,S=e-x.top-x.bottom;return ag(ag({brushBottom:b},x),{},{width:Math.max(_,0),height:Math.max(S,0)})}),mie=ve(Er,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),P5=ve(go,yo,(t,e)=>({x:0,y:0,width:t,height:e})),pie=j.createContext(null),gi=()=>j.useContext(pie)!=null,V0=t=>t.brush,B0=ve([V0,Er,R5],(t,e,n)=>({height:t.height,x:Ge(t.x)?t.x:e.left,y:Ge(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ge(t.width)?t.width:e.width})),Rw={},Pw={},Dw={},AO;function gie(){return AO||(AO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let c,u=null;const f=o!=null&&o.includes("leading"),h=o==null||o.includes("trailing"),p=()=>{u!==null&&(n.apply(c,u),c=void 0,u=null)},g=()=>{h&&p(),S()};let x=null;const b=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,g()},r)},_=()=>{x!==null&&(clearTimeout(x),x=null)},S=()=>{_(),c=void 0,u=null},N=()=>{p()},T=function(...O){if(i?.aborted)return;c=this,u=O;const C=x==null;b(),f&&C&&p()};return T.schedule=b,T.cancel=S,T.flush=N,i?.addEventListener("abort",S,{once:!0}),T}t.debounce=e})(Dw)),Dw}var TO;function yie(){return TO||(TO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gie();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:c=!1,trailing:u=!0,maxWait:f}=o,h=Array(2);c&&(h[0]="leading"),u&&(h[1]="trailing");let p,g=null;const x=e.debounce(function(...S){p=r.apply(this,S),g=null},i,{edges:h}),b=function(...S){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,S),g=Date.now(),x.cancel(),x.schedule(),p):(x.apply(this,S),p)},_=()=>(x.flush(),p);return b.cancel=x.cancel,b.flush=_,b}t.debounce=n})(Pw)),Pw}var CO;function xie(){return CO||(CO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yie();function n(r,i=0,o={}){const{leading:c=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:c,maxWait:i,trailing:u})}t.throttle=n})(Rw)),Rw}var Mw,kO;function vie(){return kO||(kO=1,Mw=xie().throttle),Mw}var bie=vie();const wie=bs(bie);var jy=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>i[c++]))}},D5=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:c}=n,u=oo(r)?t:Number(r),f=oo(i)?e:Number(i);return o&&o>0&&(u?f=u/o:f&&(u=f*o),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:u,calculatedHeight:f}},jie={width:0,height:0,overflow:"visible"},Nie={width:0,overflowX:"visible"},_ie={height:0,overflowY:"visible"},Sie={},Eie=t=>{var{width:e,height:n}=t,r=oo(e),i=oo(n);return r&&i?jie:r?Nie:i?_ie:Sie};function Aie(t){var{width:e,height:n,aspect:r}=t,i=e,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function jn(t){return Number.isFinite(t)}function xs(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function yj(){return yj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yj.apply(null,arguments)}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){Tie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tie(t,e,n){return(e=Cie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cie(t){var e=kie(t,"string");return typeof e=="symbol"?e:e+""}function kie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M5=j.createContext({width:-1,height:-1});function Iie(t){return xs(t.width)&&xs(t.height)}function L5(t){var{children:e,width:n,height:r}=t,i=j.useMemo(()=>({width:n,height:r}),[n,r]);return Iie(i)?j.createElement(M5.Provider,{value:i},e):null}var D2=()=>j.useContext(M5),Oie=j.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:c=0,minHeight:u,maxHeight:f,children:h,debounce:p=0,id:g,className:x,onResize:b,style:_={}}=t,S=j.useRef(null),N=j.useRef();N.current=b,j.useImperativeHandle(e,()=>S.current);var[T,O]=j.useState({containerWidth:r.width,containerHeight:r.height}),C=j.useCallback((I,D)=>{O(V=>{var z=Math.round(I),$=Math.round(D);return V.containerWidth===z&&V.containerHeight===$?V:{containerWidth:z,containerHeight:$}})},[]);j.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return am;var I=$=>{var L,{width:se,height:Ne}=$[0].contentRect;C(se,Ne),(L=N.current)===null||L===void 0||L.call(N,se,Ne)};p>0&&(I=wie(I,p,{trailing:!0,leading:!1}));var D=new ResizeObserver(I),{width:V,height:z}=S.current.getBoundingClientRect();return C(V,z),D.observe(S.current),()=>{D.disconnect()}},[C,p]);var{containerWidth:M,containerHeight:R}=T;jy(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:F,calculatedHeight:E}=D5(M,R,{width:i,height:o,aspect:n,maxHeight:f});return jy(F!=null&&F>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,E,i,o,c,u,n),j.createElement("div",{id:g?"".concat(g):void 0,className:Xt("recharts-responsive-container",x),style:OO(OO({},_),{},{width:i,height:o,minWidth:c,minHeight:u,maxHeight:f}),ref:S},j.createElement("div",{style:Eie({width:i,height:o})},j.createElement(L5,{width:F,height:E},h)))}),Rie=j.forwardRef((t,e)=>{var n=D2();if(xs(n.width)&&xs(n.height))return t.children;var{width:r,height:i}=Aie({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:c}=D5(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ge(o)&&Ge(c)?j.createElement(L5,{width:o,height:c},t.children):j.createElement(Oie,yj({},t,{width:r,height:i,ref:e}))});function z5(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var F0=()=>{var t,e=gi(),n=We(mie),r=We(B0),i=(t=We(V0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Pie={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},U5=()=>{var t;return(t=We(Er))!==null&&t!==void 0?t:Pie},V5=()=>We(go),B5=()=>We(yo),Gt=t=>t.layout.layoutType,um=()=>We(Gt),Die=()=>{var t=um();if(t==="horizontal"||t==="vertical")return t},Mie=()=>{var t=um();return t!==void 0},$0=t=>{var e=ur(),n=gi(),{width:r,height:i}=t,o=D2(),c=r,u=i;return o&&(c=o.width>0?o.width:r,u=o.height>0?o.height:i),j.useEffect(()=>{!n&&xs(c)&&xs(u)&&e(Ure({width:c,height:u}))},[e,n,c,u]),null},F5=Symbol.for("immer-nothing"),RO=Symbol.for("immer-draftable"),Mi=Symbol.for("immer-state");function Ta(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var kh=Object.getPrototypeOf;function wd(t){return!!t&&!!t[Mi]}function Mc(t){return t?$5(t)||Array.isArray(t)||!!t[RO]||!!t.constructor?.[RO]||dm(t)||H0(t):!1}var Lie=Object.prototype.constructor.toString(),PO=new WeakMap;function $5(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=PO.get(n);return r===void 0&&(r=Function.toString.call(n),PO.set(n,r)),r===Lie}function Ny(t,e,n=!0){q0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function q0(t){const e=t[Mi];return e?e.type_:Array.isArray(t)?1:dm(t)?2:H0(t)?3:0}function xj(t,e){return q0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function q5(t,e,n){const r=q0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function zie(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function dm(t){return t instanceof Map}function H0(t){return t instanceof Set}function mc(t){return t.copy_||t.base_}function vj(t,e){if(dm(t))return new Map(t);if(H0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=$5(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Mi];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const c=i[o],u=r[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[c]})}return Object.create(kh(t),r)}else{const r=kh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function M2(t,e=!1){return G0(t)||wd(t)||!Mc(t)||(q0(t)>1&&Object.defineProperties(t,{set:sg,add:sg,clear:sg,delete:sg}),Object.freeze(t),e&&Object.values(t).forEach(n=>M2(n,!0))),t}function Uie(){Ta(2)}var sg={value:Uie};function G0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Vie={};function Lc(t){const e=Vie[t];return e||Ta(0,t),e}var Ih;function H5(){return Ih}function Bie(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function DO(t,e){e&&(Lc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function bj(t){wj(t),t.drafts_.forEach(Fie),t.drafts_=null}function wj(t){t===Ih&&(Ih=t.parent_)}function MO(t){return Ih=Bie(Ih,t)}function Fie(t){const e=t[Mi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function LO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Mi].modified_&&(bj(e),Ta(4)),Mc(t)&&(t=_y(e,t),e.parent_||Sy(e,t)),e.patches_&&Lc("Patches").generateReplacementPatches_(n[Mi].base_,t,e.patches_,e.inversePatches_)):t=_y(e,n,[]),bj(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==F5?t:void 0}function _y(t,e,n){if(G0(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Mi];if(!i)return Ny(e,(o,c)=>zO(t,i,e,o,c,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Sy(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let c=o,u=!1;i.type_===3&&(c=new Set(o),o.clear(),u=!0),Ny(c,(f,h)=>zO(t,i,o,f,h,n,u),r),Sy(t,o,!1),n&&t.patches_&&Lc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function zO(t,e,n,r,i,o,c){if(i==null||typeof i!="object"&&!c)return;const u=G0(i);if(!(u&&!c)){if(wd(i)){const f=o&&e&&e.type_!==3&&!xj(e.assigned_,r)?o.concat(r):void 0,h=_y(t,i,f);if(q5(n,r,h),wd(h))t.canAutoFreeze_=!1;else return}else c&&n.add(i);if(Mc(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;_y(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(dm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Sy(t,i)}}}function Sy(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&M2(e,n)}function $ie(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:H5(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=L2;n&&(i=[r],o=Oh);const{revoke:c,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=c,u}var L2={get(t,e){if(e===Mi)return t;const n=mc(t);if(!xj(n,e))return qie(t,n,e);const r=n[e];return t.finalized_||!Mc(r)?r:r===Lw(t.base_,e)?(zw(t),t.copy_[e]=Nj(r,t)):r},has(t,e){return e in mc(t)},ownKeys(t){return Reflect.ownKeys(mc(t))},set(t,e,n){const r=G5(mc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Lw(mc(t),e),o=i?.[Mi];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(zie(n,i)&&(n!==void 0||xj(t.base_,e)))return!0;zw(t),jj(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Lw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,zw(t),jj(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=mc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ta(11)},getPrototypeOf(t){return kh(t.base_)},setPrototypeOf(){Ta(12)}},Oh={};Ny(L2,(t,e)=>{Oh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Oh.deleteProperty=function(t,e){return Oh.set.call(this,t,e,void 0)};Oh.set=function(t,e,n){return L2.set.call(this,t[0],e,n,t[0])};function Lw(t,e){const n=t[Mi];return(n?mc(n):t)[e]}function qie(t,e,n){const r=G5(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function G5(t,e){if(!(e in t))return;let n=kh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=kh(n)}}function jj(t){t.modified_||(t.modified_=!0,t.parent_&&jj(t.parent_))}function zw(t){t.copy_||(t.copy_=vj(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Hie=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const c=this;return function(f=o,...h){return c.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&Ta(6),r!==void 0&&typeof r!="function"&&Ta(7);let i;if(Mc(e)){const o=MO(this),c=Nj(e,void 0);let u=!0;try{i=n(c),u=!1}finally{u?bj(o):wj(o)}return DO(o,r),LO(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===F5&&(i=void 0),this.autoFreeze_&&M2(i,!0),r){const o=[],c=[];Lc("Patches").generateReplacementPatches_(e,i,o,c),r(o,c)}return i}else Ta(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...u)=>this.produceWithPatches(c,f=>e(f,...u));let r,i;return[this.produce(e,n,(c,u)=>{r=c,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Mc(t)||Ta(8),wd(t)&&(t=Gie(t));const e=MO(this),n=Nj(t,void 0);return n[Mi].isManual_=!0,wj(e),n}finishDraft(t,e){const n=t&&t[Mi];(!n||!n.isManual_)&&Ta(9);const{scope_:r}=n;return DO(r,e),LO(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Lc("Patches").applyPatches_;return wd(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Nj(t,e){const n=dm(t)?Lc("MapSet").proxyMap_(t,e):H0(t)?Lc("MapSet").proxySet_(t,e):$ie(t,e);return(e?e.scope_:H5()).drafts_.push(n),n}function Gie(t){return wd(t)||Ta(10,t),K5(t)}function K5(t){if(!Mc(t)||G0(t))return t;const e=t[Mi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=vj(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=vj(t,!0);return Ny(n,(i,o)=>{q5(n,i,K5(o))},r),e&&(e.finalized_=!1),n}var Kie=new Hie;Kie.produce;var Wie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},W5=pi({name:"legend",initialState:Wie,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:sn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Oa(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:sn()},removeLegendPayload:{reducer(t,e){var n=Oa(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:sn()}}}),{setLegendSize:Hye,setLegendSettings:Gye,addLegendPayload:Yie,replaceLegendPayload:Qie,removeLegendPayload:Xie}=W5.actions,Jie=W5.reducer;function _j(){return _j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_j.apply(null,arguments)}function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){Zie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zie(t,e,n){return(e=eae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eae(t){var e=tae(t,"string");return typeof e=="symbol"?e:e+""}function tae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nae(t){return Array.isArray(t)&&gs(t[0])&&gs(t[1])?t.join(" ~ "):t}var rae=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:c,itemSorter:u,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:x=!1}=t,b=()=>{if(o&&o.length){var R={padding:0,margin:0},F=(u?C0(o,u):o).map((E,I)=>{if(E.type==="none")return null;var D=E.formatter||c||nae,{value:V,name:z}=E,$=V,L=z;if(D){var se=D(V,z,E,I,o);if(Array.isArray(se))[$,L]=se;else if(se!=null)$=se;else return null}var Ne=Uw({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},r);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:Ne},gs(L)?j.createElement("span",{className:"recharts-tooltip-item-name"},L):null,gs(L)?j.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,j.createElement("span",{className:"recharts-tooltip-item-value"},$),j.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:R},F)}return null},_=Uw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=Uw({margin:0},i),N=!_r(p),T=N?p:"",O=Xt("recharts-default-tooltip",f),C=Xt("recharts-tooltip-label",h);N&&g&&o!==void 0&&o!==null&&(T=g(p,o));var M=x?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",_j({className:O,style:_},M),j.createElement("p",{className:C,style:S},j.isValidElement(T)?T:"".concat(T)),b())},Bf="recharts-tooltip-wrapper",iae={visibility:"hidden"};function aae(t){var{coordinate:e,translateX:n,translateY:r}=t;return Xt(Bf,{["".concat(Bf,"-right")]:Ge(n)&&e&&Ge(e.x)&&n>=e.x,["".concat(Bf,"-left")]:Ge(n)&&e&&Ge(e.x)&&n<e.x,["".concat(Bf,"-bottom")]:Ge(r)&&e&&Ge(e.y)&&r>=e.y,["".concat(Bf,"-top")]:Ge(r)&&e&&Ge(e.y)&&r<e.y})}function VO(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:c,tooltipDimension:u,viewBox:f,viewBoxDimension:h}=t;if(o&&Ge(o[r]))return o[r];var p=n[r]-u-(i>0?i:0),g=n[r]+i;if(e[r])return c[r]?p:g;var x=f[r];if(x==null)return 0;if(c[r]){var b=p,_=x;return b<_?Math.max(g,x):Math.max(p,x)}if(h==null)return 0;var S=g+u,N=x+h;return S>N?Math.max(p,x):Math.max(g,x)}function sae(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function oae(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:c,useTranslate3d:u,viewBox:f}=t,h,p,g;return c.height>0&&c.width>0&&n?(p=VO({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),g=VO({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),h=sae({translateX:p,translateY:g,useTranslate3d:u})):h=iae,{cssProperties:h,cssClasses:aae({translateX:p,translateY:g,coordinate:n})}}function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function og(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(r){Sj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sj(t,e,n){return(e=lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lae(t){var e=cae(t,"string");return typeof e=="symbol"?e:e+""}function cae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class uae extends j.PureComponent{constructor(){super(...arguments),Sj(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Sj(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:c,hasPayload:u,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:x,viewBox:b,wrapperStyle:_,lastBoundingBox:S,innerRef:N,hasPortalFromProps:T}=this.props,{cssClasses:O,cssProperties:C}=oae({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:S.height,width:S.width},useTranslate3d:x,viewBox:b}),M=T?{}:og(og({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),R=og(og({},M),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},_);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:R,ref:N},o)}}var dae=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Gc={devToolsEnabled:!1,isSsr:dae()},Y5=()=>{var t;return(t=We(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Ej(){return Ej=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ej.apply(null,arguments)}function FO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(n),!0).forEach(function(r){fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fae(t,e,n){return(e=hae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hae(t){var e=mae(t,"string");return typeof e=="symbol"?e:e+""}function mae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qO={curveBasisClosed:wte,curveBasisOpen:jte,curveBasis:bte,curveBumpX:xte,curveBumpY:vte,curveLinearClosed:Nte,curveLinear:E0,curveMonotoneX:_te,curveMonotoneY:Ste,curveNatural:Ete,curveStep:Ate,curveStepAfter:Cte,curveStepBefore:Tte},Ey=t=>jn(t.x)&&jn(t.y),HO=t=>t.base!=null&&Ey(t.base)&&Ey(t),Ff=t=>t.x,$f=t=>t.y,pae=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(N2(t));return(n==="curveMonotone"||n==="curveBump")&&e?qO["".concat(n).concat(e==="vertical"?"Y":"X")]:qO[n]||E0},gae=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,c=pae(e,i),u=o?n.filter(Ey):n,f;if(Array.isArray(r)){var h=n.map((b,_)=>$O($O({},b),{},{base:r[_]}));i==="vertical"?f=Zp().y($f).x1(Ff).x0(b=>b.base.x):f=Zp().x(Ff).y1($f).y0(b=>b.base.y);var p=f.defined(HO).curve(c),g=o?h.filter(HO):h;return p(g)}i==="vertical"&&Ge(r)?f=Zp().y($f).x1(Ff).x0(r):Ge(r)?f=Zp().x(Ff).y1($f).y0(r):f=T3().x(Ff).y($f);var x=f.defined(Ey).curve(c);return x(u)},Rg=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?gae(t):r;return j.createElement("path",Ej({},Ma(t),_2(t),{className:Xt("recharts-curve",e),d:o===null?void 0:o,ref:i}))},yae=["x","y","top","left","width","height","className"];function Aj(){return Aj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aj.apply(null,arguments)}function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){vae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vae(t,e,n){return(e=bae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bae(t){var e=wae(t,"string");return typeof e=="symbol"?e:e+""}function wae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jae(t,e){if(t==null)return{};var n,r,i=Nae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _ae=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),Sae=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:c=0,className:u}=t,f=jae(t,yae),h=xae({x:e,y:n,top:r,left:i,width:o,height:c},f);return!Ge(e)||!Ge(n)||!Ge(o)||!Ge(c)||!Ge(r)||!Ge(i)?null:j.createElement("path",Aj({},sa(h),{className:Xt("recharts-cross",u),d:_ae(e,n,o,c,r,i)}))};function Eae(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function KO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(n),!0).forEach(function(r){Aae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aae(t,e,n){return(e=Tae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tae(t){var e=Cae(t,"string");return typeof e=="symbol"?e:e+""}function Cae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kae=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Iae=(t,e,n)=>t.map(r=>"".concat(kae(r)," ").concat(e,"ms ").concat(n)).join(","),Oae=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Rh=(t,e)=>Object.keys(e).reduce((n,r)=>WO(WO({},n),{},{[r]:t(r,e[r])}),{});function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){Rae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rae(t,e,n){return(e=Pae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pae(t){var e=Dae(t,"string");return typeof e=="symbol"?e:e+""}function Dae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ay=(t,e,n)=>t+(e-t)*n,Tj=t=>{var{from:e,to:n}=t;return e!==n},Q5=(t,e,n)=>{var r=Rh((i,o)=>{if(Tj(o)){var[c,u]=t(o.from,o.to,o.velocity);return Kn(Kn({},o),{},{from:c,velocity:u})}return o},e);return n<1?Rh((i,o)=>Tj(o)?Kn(Kn({},o),{},{velocity:Ay(o.velocity,r[i].velocity,n),from:Ay(o.from,r[i].from,n)}):o,e):Q5(t,r,n-1)};function Mae(t,e,n,r,i,o){var c,u=r.reduce((x,b)=>Kn(Kn({},x),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),f=()=>Rh((x,b)=>b.from,u),h=()=>!Object.values(u).filter(Tj).length,p=null,g=x=>{c||(c=x);var b=x-c,_=b/n.dt;u=Q5(n,u,_),i(Kn(Kn(Kn({},t),e),f())),c=x,h()||(p=o.setTimeout(g))};return()=>(p=o.setTimeout(g),()=>{var x;(x=p)===null||x===void 0||x()})}function Lae(t,e,n,r,i,o,c){var u=null,f=i.reduce((g,x)=>Kn(Kn({},g),{},{[x]:[t[x],e[x]]}),{}),h,p=g=>{h||(h=g);var x=(g-h)/r,b=Rh((S,N)=>Ay(...N,n(x)),f);if(o(Kn(Kn(Kn({},t),e),b)),x<1)u=c.setTimeout(p);else{var _=Rh((S,N)=>Ay(...N,n(1)),f);o(Kn(Kn(Kn({},t),e),_))}};return()=>(u=c.setTimeout(p),()=>{var g;(g=u)===null||g===void 0||g()})}const zae=(t,e,n,r,i,o)=>{var c=Oae(t,e);return n==null?()=>(i(Kn(Kn({},t),e)),()=>{}):n.isStepper===!0?Mae(t,e,n,c,i,o):Lae(t,e,n,r,c,i,o)};var Ty=1e-4,X5=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],J5=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),QO=(t,e)=>n=>{var r=X5(t,e);return J5(r,n)},Uae=(t,e)=>n=>{var r=X5(t,e),i=[...r.map((o,c)=>o*c).slice(1),0];return J5(i,n)},Vae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,o=n[0].split("(");if(o[0]==="cubic-bezier"&&((i=o[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var c=o[1].split(")")[0].split(",").map(u=>parseFloat(u));return[c[0],c[1],c[2],c[3]]}}}return n.length===4?n:[0,0,1,1]},Bae=(t,e,n,r)=>{var i=QO(t,n),o=QO(e,r),c=Uae(t,n),u=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,x=0;x<8;++x){var b=i(g)-p,_=c(g);if(Math.abs(b-p)<Ty||_<Ty)return o(g);g=u(g-b/_)}return o(g)};return f.isStepper=!1,f},XO=function(){return Bae(...Vae(...arguments))},Fae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(c,u,f)=>{var h=-(c-u)*n,p=f*r,g=f+(h-p)*i/1e3,x=f*i/1e3+c;return Math.abs(x-u)<Ty&&Math.abs(g)<Ty?[u,0]:[x,g]};return o.isStepper=!0,o.dt=i,o},$ae=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return XO(t);case"spring":return Fae();default:if(t.split("(")[0]==="cubic-bezier")return XO(t)}return typeof t=="function"?t:null};function qae(t){var e,n=()=>null,r=!1,i=null,o=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var u=c,[f,...h]=u;if(typeof f=="number"){i=t.setTimeout(o.bind(null,h),f);return}o(f),i=t.setTimeout(o.bind(null,h));return}typeof c=="string"&&(e=c,n(e)),typeof c=="object"&&(e=c,n(e)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,i&&(i(),i=null),o(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>t}}class Hae{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=c=>{c-r>=n?e(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function Gae(){return qae(new Hae)}var Kae=j.createContext(Gae);function Wae(t,e){var n=j.useContext(Kae);return j.useMemo(()=>e??n(t),[t,e,n])}var Yae={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},JO={t:0},Vw={t:1};function Z5(t){var e=Li(t,Yae),{isActive:n,canBegin:r,duration:i,easing:o,begin:c,onAnimationEnd:u,onAnimationStart:f,children:h}=e,p=n==="auto"?!Gc.isSsr:n,g=Wae(e.animationId,e.animationManager),[x,b]=j.useState(p?JO:Vw),_=j.useRef(null);return j.useEffect(()=>{p||b(Vw)},[p]),j.useEffect(()=>{if(!p||!r)return am;var S=zae(JO,Vw,$ae(o),i,b,g.getTimeoutController()),N=()=>{_.current=S()};return g.start([f,c,N,i,u]),()=>{g.stop(),_.current&&_.current(),u()}},[p,r,i,o,c,f,u,g]),h(x.t)}function eL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=j.useRef(Eh(e)),r=j.useRef(t);return r.current!==t&&(n.current=Eh(e),r.current=t),n.current}var Qae=["radius"],Xae=["radius"];function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){Jae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jae(t,e,n){return(e=Zae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zae(t){var e=ese(t,"string");return typeof e=="symbol"?e:e+""}function ese(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(null,arguments)}function tR(t,e){if(t==null)return{};var n,r,i=tse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nR=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),c=r>=0?1:-1,u=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(o>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,x=4;g<x;g++)p[g]=i[g]>o?o:i[g];h="M".concat(t,",").concat(e+c*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(t+u*p[0],",").concat(e)),h+="L ".concat(t+n-u*p[1],",").concat(e),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+c*p[1])),h+="L ".concat(t+n,",").concat(e+r-c*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(t+n-u*p[2],",").concat(e+r)),h+="L ".concat(t+u*p[3],",").concat(e+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-c*p[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);h="M ".concat(t,",").concat(e+c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+u*b,",").concat(e,`
            L `).concat(t+n-u*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n,",").concat(e+c*b,`
            L `).concat(t+n,",").concat(e+r-c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n-u*b,",").concat(e+r,`
            L `).concat(t+u*b,",").concat(e+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t,",").concat(e+r-c*b," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},rR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nse=t=>{var e=Li(t,rR),n=j.useRef(null),[r,i]=j.useState(-1);j.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var H=n.current.getTotalLength();H&&i(H)}catch{}},[]);var{x:o,y:c,width:u,height:f,radius:h,className:p}=e,{animationEasing:g,animationDuration:x,animationBegin:b,isAnimationActive:_,isUpdateAnimationActive:S}=e,N=j.useRef(u),T=j.useRef(f),O=j.useRef(o),C=j.useRef(c),M=j.useMemo(()=>({x:o,y:c,width:u,height:f,radius:h}),[o,c,u,f,h]),R=eL(M,"rectangle-");if(o!==+o||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var F=Xt("recharts-rectangle",p);if(!S){var E=sa(e),{radius:I}=E,D=tR(E,Qae);return j.createElement("path",Cy({},D,{radius:typeof h=="number"?h:void 0,className:F,d:nR(o,c,u,f,h)}))}var V=N.current,z=T.current,$=O.current,L=C.current,se="0px ".concat(r===-1?1:r,"px"),Ne="".concat(r,"px 0px"),G=Iae(["strokeDasharray"],x,typeof g=="string"?g:rR.animationEasing);return j.createElement(Z5,{animationId:R,key:R,canBegin:r>0,duration:x,easing:g,isActive:S,begin:b},H=>{var ee=Xa(V,u,H),W=Xa(z,f,H),K=Xa($,o,H),B=Xa(L,c,H);n.current&&(N.current=ee,T.current=W,O.current=K,C.current=B);var J;_?H>0?J={transition:G,strokeDasharray:Ne}:J={strokeDasharray:se}:J={strokeDasharray:Ne};var ie=sa(e),{radius:ye}=ie,ke=tR(ie,Xae);return j.createElement("path",Cy({},ke,{radius:typeof h=="number"?h:void 0,className:F,d:nR(K,B,ee,W,h),ref:n,style:eR(eR({},J),e.style)}))})};function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){rse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rse(t,e,n){return(e=ise(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ise(t){var e=ase(t,"string");return typeof e=="symbol"?e:e+""}function ase(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ky=Math.PI/180,sse=t=>t*180/Math.PI,jr=(t,e,n,r)=>({x:t+Math.cos(-ky*r)*n,y:e+Math.sin(-ky*r)*n}),ose=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},lse=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},cse=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,c=lse({x:n,y:r},{x:i,y:o});if(c<=0)return{radius:c,angle:0};var u=(n-i)/c,f=Math.acos(u);return r>o&&(f=2*Math.PI-f),{radius:c,angle:sse(f),angleInRadian:f}},use=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},dse=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),c=Math.min(i,o);return t+c*360},fse=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:o}=cse({x:n,y:r},e),{innerRadius:c,outerRadius:u}=e;if(i<c||i>u||i===0)return null;var{startAngle:f,endAngle:h}=use(e),p=o,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?aR(aR({},e),{},{radius:i,angle:dse(p,e)}):null};function tL(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,c=jr(e,n,r,i),u=jr(e,n,r,o);return{points:[c,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Cj(){return Cj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cj.apply(null,arguments)}var hse=(t,e)=>{var n=na(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},lg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:c,cornerRadius:u,cornerIsExternal:f}=t,h=u*(c?1:-1)+r,p=Math.asin(u/h)/ky,g=f?i:i+o*p,x=jr(e,n,h,g),b=jr(e,n,r,g),_=f?i-o*p:i,S=jr(e,n,h*Math.cos(p*ky),_);return{center:x,circleTangency:b,lineTangency:S,theta:p}},nL=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:c}=t,u=hse(o,c),f=o+u,h=jr(e,n,i,o),p=jr(e,n,i,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var x=jr(e,n,r,o),b=jr(e,n,r,f);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},mse=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:h}=t,p=na(h-f),{circleTangency:g,lineTangency:x,theta:b}=lg({cx:e,cy:n,radius:i,angle:f,sign:p,cornerRadius:o,cornerIsExternal:u}),{circleTangency:_,lineTangency:S,theta:N}=lg({cx:e,cy:n,radius:i,angle:h,sign:-p,cornerRadius:o,cornerIsExternal:u}),T=u?Math.abs(f-h):Math.abs(f-h)-b-N;if(T<0)return c?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):nL({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var O="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(T>180),",").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:C,lineTangency:M,theta:R}=lg({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:F,lineTangency:E,theta:I}=lg({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),D=u?Math.abs(f-h):Math.abs(f-h)-R-I;if(D<0&&o===0)return"".concat(O,"L").concat(e,",").concat(n,"Z");O+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(D>180),",").concat(+(p>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,"Z")}else O+="L".concat(e,",").concat(n,"Z");return O},pse={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gse=t=>{var e=Li(t,pse),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=e;if(o<i||h===p)return null;var x=Xt("recharts-sector",g),b=o-i,_=Rl(c,b,0,!0),S;return _>0&&Math.abs(h-p)<360?S=mse({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(_,b/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:p}):S=nL({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:h,endAngle:p}),j.createElement("path",Cj({},sa(e),{className:x,d:S}))};function yse(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(V3(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:c,angle:u}=e,f=jr(r,i,o,u),h=jr(r,i,c,u);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return tL(e)}}var Bw={},Fw={},$w={},sR;function xse(){return sR||(sR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=X3();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})($w)),$w}var oR;function vse(){return oR||(oR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xse();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Fw)),Fw}var lR;function bse(){return lR||(lR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J3(),n=vse();function r(i,o,c){c&&typeof c!="number"&&e.isIterateeCall(i,o,c)&&(o=c=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),c=c===void 0?i<o?1:-1:n.toFinite(c);const u=Math.max(Math.ceil((o-i)/(c||1)),0),f=new Array(u);for(let h=0;h<u;h++)f[h]=i,i+=c;return f}t.range=r})(Bw)),Bw}var qw,cR;function wse(){return cR||(cR=1,qw=bse().range),qw}var jse=wse();const rL=bs(jse);function Sl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Nse(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function z2(t){let e,n,r;t.length!==2?(e=Sl,n=(u,f)=>Sl(t(u),f),r=(u,f)=>t(u)-f):(e=t===Sl||t===Nse?t:_se,n=t,r=t);function i(u,f,h=0,p=u.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(u[g],f)<0?h=g+1:p=g}while(h<p)}return h}function o(u,f,h=0,p=u.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(u[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function c(u,f,h=0,p=u.length){const g=i(u,f,h,p-1);return g>h&&r(u[g-1],f)>-r(u[g],f)?g-1:g}return{left:i,center:c,right:o}}function _se(){return 0}function iL(t){return t===null?NaN:+t}function*Sse(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Ese=z2(Sl),fm=Ese.right;z2(iL).center;class uR extends Map{constructor(e,n=Cse){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(dR(this,e))}has(e){return super.has(dR(this,e))}set(e,n){return super.set(Ase(this,e),n)}delete(e){return super.delete(Tse(this,e))}}function dR({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ase({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Tse({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Cse(t){return t!==null&&typeof t=="object"?t.valueOf():t}function kse(t=Sl){if(t===Sl)return aL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function aL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Ise=Math.sqrt(50),Ose=Math.sqrt(10),Rse=Math.sqrt(2);function Iy(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),c=o>=Ise?10:o>=Ose?5:o>=Rse?2:1;let u,f,h;return i<0?(h=Math.pow(10,-i)/c,u=Math.round(t*h),f=Math.round(e*h),u/h<t&&++u,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*c,u=Math.round(t/h),f=Math.round(e/h),u*h<t&&++u,f*h>e&&--f),f<u&&.5<=n&&n<2?Iy(t,e,n*2):[u,f,h]}function kj(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,c]=r?Iy(e,t,n):Iy(t,e,n);if(!(o>=i))return[];const u=o-i+1,f=new Array(u);if(r)if(c<0)for(let h=0;h<u;++h)f[h]=(o-h)/-c;else for(let h=0;h<u;++h)f[h]=(o-h)*c;else if(c<0)for(let h=0;h<u;++h)f[h]=(i+h)/-c;else for(let h=0;h<u;++h)f[h]=(i+h)*c;return f}function Ij(t,e,n){return e=+e,t=+t,n=+n,Iy(t,e,n)[2]}function Oj(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Ij(e,t,n):Ij(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function fR(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function hR(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function sL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?aL:kse(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),b=Math.max(n,Math.floor(e-h*g/f+x)),_=Math.min(r,Math.floor(e+(f-h)*g/f+x));sL(t,e,b,_,i)}const o=t[e];let c=n,u=r;for(qf(t,n,e),i(t[r],o)>0&&qf(t,n,r);c<u;){for(qf(t,c,u),++c,--u;i(t[c],o)<0;)++c;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?qf(t,n,u):(++u,qf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function qf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Pse(t,e,n){if(t=Float64Array.from(Sse(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return hR(t);if(e>=1)return fR(t);var r,i=(r-1)*e,o=Math.floor(i),c=fR(sL(t,o).subarray(0,o+1)),u=hR(t.subarray(o+1));return c+(u-c)*(i-o)}}function Dse(t,e,n=iL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),c=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return c+(u-c)*(i-o)}}function Mse(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function da(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function xo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Rj=Symbol("implicit");function U2(){var t=new uR,e=[],n=[],r=Rj;function i(o){let c=t.get(o);if(c===void 0){if(r!==Rj)return r;t.set(o,c=e.push(o)-1)}return n[c%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new uR;for(const c of o)t.has(c)||t.set(c,e.push(c)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return U2(e,n).unknown(r)},da.apply(i,arguments),i}function V2(){var t=U2().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,c,u=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var x=e().length,b=i<r,_=b?i:r,S=b?r:i;o=(S-_)/Math.max(1,x-f+h*2),u&&(o=Math.floor(o)),_+=(S-_-o*(x-f))*p,c=o*(1-f),u&&(_=Math.round(_),c=Math.round(c));var N=Mse(x).map(function(T){return _+o*T});return n(b?N.reverse():N)}return t.domain=function(x){return arguments.length?(e(x),g()):e()},t.range=function(x){return arguments.length?([r,i]=x,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(x){return[r,i]=x,r=+r,i=+i,u=!0,g()},t.bandwidth=function(){return c},t.step=function(){return o},t.round=function(x){return arguments.length?(u=!!x,g()):u},t.padding=function(x){return arguments.length?(f=Math.min(1,h=+x),g()):f},t.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),g()):f},t.paddingOuter=function(x){return arguments.length?(h=+x,g()):h},t.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),g()):p},t.copy=function(){return V2(e(),[r,i]).round(u).paddingInner(f).paddingOuter(h).align(p)},da.apply(g(),arguments)}function oL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return oL(e())},t}function Lse(){return oL(V2.apply(null,arguments).paddingInner(1))}function B2(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function lL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function hm(){}var Ph=.7,Oy=1/Ph,od="\\s*([+-]?\\d+)\\s*",Dh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ds="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zse=/^#([0-9a-f]{3,8})$/,Use=new RegExp(`^rgb\\(${od},${od},${od}\\)$`),Vse=new RegExp(`^rgb\\(${ds},${ds},${ds}\\)$`),Bse=new RegExp(`^rgba\\(${od},${od},${od},${Dh}\\)$`),Fse=new RegExp(`^rgba\\(${ds},${ds},${ds},${Dh}\\)$`),$se=new RegExp(`^hsl\\(${Dh},${ds},${ds}\\)$`),qse=new RegExp(`^hsla\\(${Dh},${ds},${ds},${Dh}\\)$`),mR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};B2(hm,Mh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pR,formatHex:pR,formatHex8:Hse,formatHsl:Gse,formatRgb:gR,toString:gR});function pR(){return this.rgb().formatHex()}function Hse(){return this.rgb().formatHex8()}function Gse(){return cL(this).formatHsl()}function gR(){return this.rgb().formatRgb()}function Mh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=zse.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?yR(e):n===3?new fi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?cg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?cg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Use.exec(t))?new fi(e[1],e[2],e[3],1):(e=Vse.exec(t))?new fi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Bse.exec(t))?cg(e[1],e[2],e[3],e[4]):(e=Fse.exec(t))?cg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=$se.exec(t))?bR(e[1],e[2]/100,e[3]/100,1):(e=qse.exec(t))?bR(e[1],e[2]/100,e[3]/100,e[4]):mR.hasOwnProperty(t)?yR(mR[t]):t==="transparent"?new fi(NaN,NaN,NaN,0):null}function yR(t){return new fi(t>>16&255,t>>8&255,t&255,1)}function cg(t,e,n,r){return r<=0&&(t=e=n=NaN),new fi(t,e,n,r)}function Kse(t){return t instanceof hm||(t=Mh(t)),t?(t=t.rgb(),new fi(t.r,t.g,t.b,t.opacity)):new fi}function Pj(t,e,n,r){return arguments.length===1?Kse(t):new fi(t,e,n,r??1)}function fi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}B2(fi,Pj,lL(hm,{brighter(t){return t=t==null?Oy:Math.pow(Oy,t),new fi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ph:Math.pow(Ph,t),new fi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new fi(Ac(this.r),Ac(this.g),Ac(this.b),Ry(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xR,formatHex:xR,formatHex8:Wse,formatRgb:vR,toString:vR}));function xR(){return`#${vc(this.r)}${vc(this.g)}${vc(this.b)}`}function Wse(){return`#${vc(this.r)}${vc(this.g)}${vc(this.b)}${vc((isNaN(this.opacity)?1:this.opacity)*255)}`}function vR(){const t=Ry(this.opacity);return`${t===1?"rgb(":"rgba("}${Ac(this.r)}, ${Ac(this.g)}, ${Ac(this.b)}${t===1?")":`, ${t})`}`}function Ry(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ac(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vc(t){return t=Ac(t),(t<16?"0":"")+t.toString(16)}function bR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ca(t,e,n,r)}function cL(t){if(t instanceof Ca)return new Ca(t.h,t.s,t.l,t.opacity);if(t instanceof hm||(t=Mh(t)),!t)return new Ca;if(t instanceof Ca)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),c=NaN,u=o-i,f=(o+i)/2;return u?(e===o?c=(n-r)/u+(n<r)*6:n===o?c=(r-e)/u+2:c=(e-n)/u+4,u/=f<.5?o+i:2-o-i,c*=60):u=f>0&&f<1?0:c,new Ca(c,u,f,t.opacity)}function Yse(t,e,n,r){return arguments.length===1?cL(t):new Ca(t,e,n,r??1)}function Ca(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}B2(Ca,Yse,lL(hm,{brighter(t){return t=t==null?Oy:Math.pow(Oy,t),new Ca(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ph:Math.pow(Ph,t),new Ca(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new fi(Hw(t>=240?t-240:t+120,i,r),Hw(t,i,r),Hw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ca(wR(this.h),ug(this.s),ug(this.l),Ry(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ry(this.opacity);return`${t===1?"hsl(":"hsla("}${wR(this.h)}, ${ug(this.s)*100}%, ${ug(this.l)*100}%${t===1?")":`, ${t})`}`}}));function wR(t){return t=(t||0)%360,t<0?t+360:t}function ug(t){return Math.max(0,Math.min(1,t||0))}function Hw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const F2=t=>()=>t;function Qse(t,e){return function(n){return t+n*e}}function Xse(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Jse(t){return(t=+t)==1?uL:function(e,n){return n-e?Xse(e,n,t):F2(isNaN(e)?n:e)}}function uL(t,e){var n=e-t;return n?Qse(t,n):F2(isNaN(t)?e:t)}const jR=(function t(e){var n=Jse(e);function r(i,o){var c=n((i=Pj(i)).r,(o=Pj(o)).r),u=n(i.g,o.g),f=n(i.b,o.b),h=uL(i.opacity,o.opacity);return function(p){return i.r=c(p),i.g=u(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function Zse(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function eoe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function toe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),c;for(c=0;c<r;++c)i[c]=Od(t[c],e[c]);for(;c<n;++c)o[c]=e[c];return function(u){for(c=0;c<r;++c)o[c]=i[c](u);return o}}function noe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Py(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function roe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Od(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Dj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gw=new RegExp(Dj.source,"g");function ioe(t){return function(){return t}}function aoe(t){return function(e){return t(e)+""}}function soe(t,e){var n=Dj.lastIndex=Gw.lastIndex=0,r,i,o,c=-1,u=[],f=[];for(t=t+"",e=e+"";(r=Dj.exec(t))&&(i=Gw.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[c]?u[c]+=o:u[++c]=o),(r=r[0])===(i=i[0])?u[c]?u[c]+=i:u[++c]=i:(u[++c]=null,f.push({i:c,x:Py(r,i)})),n=Gw.lastIndex;return n<e.length&&(o=e.slice(n),u[c]?u[c]+=o:u[++c]=o),u.length<2?f[0]?aoe(f[0].x):ioe(e):(e=f.length,function(h){for(var p=0,g;p<e;++p)u[(g=f[p]).i]=g.x(h);return u.join("")})}function Od(t,e){var n=typeof e,r;return e==null||n==="boolean"?F2(e):(n==="number"?Py:n==="string"?(r=Mh(e))?(e=r,jR):soe:e instanceof Mh?jR:e instanceof Date?noe:eoe(e)?Zse:Array.isArray(e)?toe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?roe:Py)(t,e)}function $2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ooe(t,e){e===void 0&&(e=t,t=Od);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(c){var u=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return o[u](c-u)}}function loe(t){return function(){return t}}function Dy(t){return+t}var NR=[0,1];function Xr(t){return t}function Mj(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:loe(isNaN(e)?NaN:.5)}function coe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function uoe(t,e,n){var r=t[0],i=t[1],o=e[0],c=e[1];return i<r?(r=Mj(i,r),o=n(c,o)):(r=Mj(r,i),o=n(o,c)),function(u){return o(r(u))}}function doe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),c=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<r;)i[c]=Mj(t[c],t[c+1]),o[c]=n(e[c],e[c+1]);return function(u){var f=fm(t,u,1,r)-1;return o[f](i[f](u))}}function mm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function K0(){var t=NR,e=NR,n=Od,r,i,o,c=Xr,u,f,h;function p(){var x=Math.min(t.length,e.length);return c!==Xr&&(c=coe(t[0],t[x-1])),u=x>2?doe:uoe,f=h=null,g}function g(x){return x==null||isNaN(x=+x)?o:(f||(f=u(t.map(r),e,n)))(r(c(x)))}return g.invert=function(x){return c(i((h||(h=u(e,t.map(r),Py)))(x)))},g.domain=function(x){return arguments.length?(t=Array.from(x,Dy),p()):t.slice()},g.range=function(x){return arguments.length?(e=Array.from(x),p()):e.slice()},g.rangeRound=function(x){return e=Array.from(x),n=$2,p()},g.clamp=function(x){return arguments.length?(c=x?!0:Xr,p()):c!==Xr},g.interpolate=function(x){return arguments.length?(n=x,p()):n},g.unknown=function(x){return arguments.length?(o=x,g):o},function(x,b){return r=x,i=b,p()}}function q2(){return K0()(Xr,Xr)}function foe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function My(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function jd(t){return t=My(Math.abs(t)),t?t[1]:NaN}function hoe(t,e){return function(n,r){for(var i=n.length,o=[],c=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[c=(c+1)%t.length];return o.reverse().join(e)}}function moe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var poe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lh(t){if(!(e=poe.exec(t)))throw new Error("invalid format: "+t);var e;return new H2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Lh.prototype=H2.prototype;function H2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}H2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function goe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var dL;function yoe(t,e){var n=My(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(dL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=r.length;return o===c?r:o>c?r+new Array(o-c+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+My(t,Math.max(0,e+o-1))[0]}function _R(t,e){var n=My(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const SR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:foe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>_R(t*100,e),r:_R,s:yoe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ER(t){return t}var AR=Array.prototype.map,TR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xoe(t){var e=t.grouping===void 0||t.thousands===void 0?ER:hoe(AR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?ER:moe(AR.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g){g=Lh(g);var x=g.fill,b=g.align,_=g.sign,S=g.symbol,N=g.zero,T=g.width,O=g.comma,C=g.precision,M=g.trim,R=g.type;R==="n"?(O=!0,R="g"):SR[R]||(C===void 0&&(C=12),M=!0,R="g"),(N||x==="0"&&b==="=")&&(N=!0,x="0",b="=");var F=S==="$"?n:S==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",E=S==="$"?r:/[%p]/.test(R)?c:"",I=SR[R],D=/[defgprs%]/.test(R);C=C===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function V(z){var $=F,L=E,se,Ne,G;if(R==="c")L=I(z)+L,z="";else{z=+z;var H=z<0||1/z<0;if(z=isNaN(z)?f:I(Math.abs(z),C),M&&(z=goe(z)),H&&+z==0&&_!=="+"&&(H=!1),$=(H?_==="("?_:u:_==="-"||_==="("?"":_)+$,L=(R==="s"?TR[8+dL/3]:"")+L+(H&&_==="("?")":""),D){for(se=-1,Ne=z.length;++se<Ne;)if(G=z.charCodeAt(se),48>G||G>57){L=(G===46?i+z.slice(se+1):z.slice(se))+L,z=z.slice(0,se);break}}}O&&!N&&(z=e(z,1/0));var ee=$.length+z.length+L.length,W=ee<T?new Array(T-ee+1).join(x):"";switch(O&&N&&(z=e(W+z,W.length?T-L.length:1/0),W=""),b){case"<":z=$+z+L+W;break;case"=":z=$+W+z+L;break;case"^":z=W.slice(0,ee=W.length>>1)+$+z+L+W.slice(ee);break;default:z=W+$+z+L;break}return o(z)}return V.toString=function(){return g+""},V}function p(g,x){var b=h((g=Lh(g),g.type="f",g)),_=Math.max(-8,Math.min(8,Math.floor(jd(x)/3)))*3,S=Math.pow(10,-_),N=TR[8+_/3];return function(T){return b(S*T)+N}}return{format:h,formatPrefix:p}}var dg,G2,fL;voe({thousands:",",grouping:[3],currency:["$",""]});function voe(t){return dg=xoe(t),G2=dg.format,fL=dg.formatPrefix,dg}function boe(t){return Math.max(0,-jd(Math.abs(t)))}function woe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jd(e)/3)))*3-jd(Math.abs(t)))}function joe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,jd(e)-jd(t))+1}function hL(t,e,n,r){var i=Oj(t,e,n),o;switch(r=Lh(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=woe(i,c))&&(r.precision=o),fL(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=joe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=boe(i))&&(r.precision=o-(r.type==="%")*2);break}}return G2(r)}function Ul(t){var e=t.domain;return t.ticks=function(n){var r=e();return kj(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return hL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,c=r[i],u=r[o],f,h,p=10;for(u<c&&(h=c,c=u,u=h,h=i,i=o,o=h);p-- >0;){if(h=Ij(c,u,n),h===f)return r[i]=c,r[o]=u,e(r);if(h>0)c=Math.floor(c/h)*h,u=Math.ceil(u/h)*h;else if(h<0)c=Math.ceil(c*h)/h,u=Math.floor(u*h)/h;else break;f=h}return t},t}function mL(){var t=q2();return t.copy=function(){return mm(t,mL())},da.apply(t,arguments),Ul(t)}function pL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Dy),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return pL(t).unknown(e)},t=arguments.length?Array.from(t,Dy):[0,1],Ul(n)}function gL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],c;return o<i&&(c=n,n=r,r=c,c=i,i=o,o=c),t[n]=e.floor(i),t[r]=e.ceil(o),t}function CR(t){return Math.log(t)}function kR(t){return Math.exp(t)}function Noe(t){return-Math.log(-t)}function _oe(t){return-Math.exp(-t)}function Soe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Eoe(t){return t===10?Soe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Aoe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function IR(t){return(e,n)=>-t(-e,n)}function K2(t){const e=t(CR,kR),n=e.domain;let r=10,i,o;function c(){return i=Aoe(r),o=Eoe(r),n()[0]<0?(i=IR(i),o=IR(o),t(Noe,_oe)):t(CR,kR),e}return e.base=function(u){return arguments.length?(r=+u,c()):r},e.domain=function(u){return arguments.length?(n(u),c()):n()},e.ticks=u=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let x=i(h),b=i(p),_,S;const N=u==null?10:+u;let T=[];if(!(r%1)&&b-x<N){if(x=Math.floor(x),b=Math.ceil(b),h>0){for(;x<=b;++x)for(_=1;_<r;++_)if(S=x<0?_/o(-x):_*o(x),!(S<h)){if(S>p)break;T.push(S)}}else for(;x<=b;++x)for(_=r-1;_>=1;--_)if(S=x>0?_/o(-x):_*o(x),!(S<h)){if(S>p)break;T.push(S)}T.length*2<N&&(T=kj(h,p,N))}else T=kj(x,b,Math.min(b-x,N)).map(o);return g?T.reverse():T},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Lh(f)).precision==null&&(f.trim=!0),f=G2(f)),u===1/0)return f;const h=Math.max(1,r*u/e.ticks().length);return p=>{let g=p/o(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},e.nice=()=>n(gL(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function yL(){const t=K2(K0()).domain([1,10]);return t.copy=()=>mm(t,yL()).base(t.base()),da.apply(t,arguments),t}function OR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function RR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function W2(t){var e=1,n=t(OR(e),RR(e));return n.constant=function(r){return arguments.length?t(OR(e=+r),RR(e)):e},Ul(n)}function xL(){var t=W2(K0());return t.copy=function(){return mm(t,xL()).constant(t.constant())},da.apply(t,arguments)}function PR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Toe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Coe(t){return t<0?-t*t:t*t}function Y2(t){var e=t(Xr,Xr),n=1;function r(){return n===1?t(Xr,Xr):n===.5?t(Toe,Coe):t(PR(n),PR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ul(e)}function Q2(){var t=Y2(K0());return t.copy=function(){return mm(t,Q2()).exponent(t.exponent())},da.apply(t,arguments),t}function koe(){return Q2.apply(null,arguments).exponent(.5)}function DR(t){return Math.sign(t)*t*t}function Ioe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function vL(){var t=q2(),e=[0,1],n=!1,r;function i(o){var c=Ioe(t(o));return isNaN(c)?r:n?Math.round(c):c}return i.invert=function(o){return t.invert(DR(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Dy)).map(DR)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return vL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},da.apply(i,arguments),Ul(i)}function bL(){var t=[],e=[],n=[],r;function i(){var c=0,u=Math.max(1,e.length);for(n=new Array(u-1);++c<u;)n[c-1]=Dse(t,c/u);return o}function o(c){return c==null||isNaN(c=+c)?r:e[fm(n,c)]}return o.invertExtent=function(c){var u=e.indexOf(c);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let u of c)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Sl),i()},o.range=function(c){return arguments.length?(e=Array.from(c),i()):e.slice()},o.unknown=function(c){return arguments.length?(r=c,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return bL().domain(t).range(e).unknown(r)},da.apply(o,arguments)}function wL(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function c(f){return f!=null&&f<=f?i[fm(r,f,0,n)]:o}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return c}return c.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},c.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},c.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},c.unknown=function(f){return arguments.length&&(o=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return wL().domain([t,e]).range(i).unknown(o)},da.apply(Ul(c),arguments)}function jL(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[fm(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var c=e.indexOf(o);return[t[c-1],t[c]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return jL().domain(t).range(e).unknown(n)},da.apply(i,arguments)}const Kw=new Date,Ww=new Date;function Qn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const c=i(o),u=i.ceil(o);return o-c<u-o?c:u},i.offset=(o,c)=>(e(o=new Date(+o),c==null?1:Math.floor(c)),o),i.range=(o,c,u)=>{const f=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<c)||!(u>0))return f;let h;do f.push(h=new Date(+o)),e(o,u),t(o);while(h<o&&o<c);return f},i.filter=o=>Qn(c=>{if(c>=c)for(;t(c),!o(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;e(c,-1),!o(c););else for(;--u>=0;)for(;e(c,1),!o(c););}),n&&(i.count=(o,c)=>(Kw.setTime(+o),Ww.setTime(+c),t(Kw),t(Ww),Math.floor(n(Kw,Ww))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?c=>r(c)%o===0:c=>i.count(0,c)%o===0):i)),i}const Ly=Qn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ly.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Qn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ly);Ly.range;const Xs=1e3,ra=Xs*60,Js=ra*60,co=Js*24,X2=co*7,MR=co*30,Yw=co*365,bc=Qn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Xs)},(t,e)=>(e-t)/Xs,t=>t.getUTCSeconds());bc.range;const J2=Qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xs)},(t,e)=>{t.setTime(+t+e*ra)},(t,e)=>(e-t)/ra,t=>t.getMinutes());J2.range;const Z2=Qn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ra)},(t,e)=>(e-t)/ra,t=>t.getUTCMinutes());Z2.range;const e_=Qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xs-t.getMinutes()*ra)},(t,e)=>{t.setTime(+t+e*Js)},(t,e)=>(e-t)/Js,t=>t.getHours());e_.range;const t_=Qn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Js)},(t,e)=>(e-t)/Js,t=>t.getUTCHours());t_.range;const pm=Qn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ra)/co,t=>t.getDate()-1);pm.range;const W0=Qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/co,t=>t.getUTCDate()-1);W0.range;const NL=Qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/co,t=>Math.floor(t/co));NL.range;function Kc(t){return Qn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ra)/X2)}const Y0=Kc(0),zy=Kc(1),Ooe=Kc(2),Roe=Kc(3),Nd=Kc(4),Poe=Kc(5),Doe=Kc(6);Y0.range;zy.range;Ooe.range;Roe.range;Nd.range;Poe.range;Doe.range;function Wc(t){return Qn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/X2)}const Q0=Wc(0),Uy=Wc(1),Moe=Wc(2),Loe=Wc(3),_d=Wc(4),zoe=Wc(5),Uoe=Wc(6);Q0.range;Uy.range;Moe.range;Loe.range;_d.range;zoe.range;Uoe.range;const n_=Qn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());n_.range;const r_=Qn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());r_.range;const uo=Qn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());uo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});uo.range;const fo=Qn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());fo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});fo.range;function _L(t,e,n,r,i,o){const c=[[bc,1,Xs],[bc,5,5*Xs],[bc,15,15*Xs],[bc,30,30*Xs],[o,1,ra],[o,5,5*ra],[o,15,15*ra],[o,30,30*ra],[i,1,Js],[i,3,3*Js],[i,6,6*Js],[i,12,12*Js],[r,1,co],[r,2,2*co],[n,1,X2],[e,1,MR],[e,3,3*MR],[t,1,Yw]];function u(h,p,g){const x=p<h;x&&([h,p]=[p,h]);const b=g&&typeof g.range=="function"?g:f(h,p,g),_=b?b.range(h,+p+1):[];return x?_.reverse():_}function f(h,p,g){const x=Math.abs(p-h)/g,b=z2(([,,N])=>N).right(c,x);if(b===c.length)return t.every(Oj(h/Yw,p/Yw,g));if(b===0)return Ly.every(Math.max(Oj(h,p,g),1));const[_,S]=c[x/c[b-1][2]<c[b][2]/x?b-1:b];return _.every(S)}return[u,f]}const[Voe,Boe]=_L(fo,r_,Q0,NL,t_,Z2),[Foe,$oe]=_L(uo,n_,Y0,pm,e_,J2);function Qw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Xw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Hf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function qoe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,c=t.shortDays,u=t.months,f=t.shortMonths,h=Gf(i),p=Kf(i),g=Gf(o),x=Kf(o),b=Gf(c),_=Kf(c),S=Gf(u),N=Kf(u),T=Gf(f),O=Kf(f),C={a:H,A:ee,b:W,B:K,c:null,d:FR,e:FR,f:hle,g:Nle,G:Sle,H:ule,I:dle,j:fle,L:SL,m:mle,M:ple,p:B,q:J,Q:HR,s:GR,S:gle,u:yle,U:xle,V:vle,w:ble,W:wle,x:null,X:null,y:jle,Y:_le,Z:Ele,"%":qR},M={a:ie,A:ye,b:ke,B:Le,c:null,d:$R,e:$R,f:kle,g:Vle,G:Fle,H:Ale,I:Tle,j:Cle,L:AL,m:Ile,M:Ole,p:de,q:we,Q:HR,s:GR,S:Rle,u:Ple,U:Dle,V:Mle,w:Lle,W:zle,x:null,X:null,y:Ule,Y:Ble,Z:$le,"%":qR},R={a:V,A:z,b:$,B:L,c:se,d:VR,e:VR,f:sle,g:UR,G:zR,H:BR,I:BR,j:nle,L:ale,m:tle,M:rle,p:D,q:ele,Q:lle,s:cle,S:ile,u:Yoe,U:Qoe,V:Xoe,w:Woe,W:Joe,x:Ne,X:G,y:UR,Y:zR,Z:Zoe,"%":ole};C.x=F(n,C),C.X=F(r,C),C.c=F(e,C),M.x=F(n,M),M.X=F(r,M),M.c=F(e,M);function F(Z,De){return function(Ee){var xe=[],jt=-1,Je=0,xt=Z.length,Vt,fr,Ur;for(Ee instanceof Date||(Ee=new Date(+Ee));++jt<xt;)Z.charCodeAt(jt)===37&&(xe.push(Z.slice(Je,jt)),(fr=LR[Vt=Z.charAt(++jt)])!=null?Vt=Z.charAt(++jt):fr=Vt==="e"?" ":"0",(Ur=De[Vt])&&(Vt=Ur(Ee,fr)),xe.push(Vt),Je=jt+1);return xe.push(Z.slice(Je,jt)),xe.join("")}}function E(Z,De){return function(Ee){var xe=Hf(1900,void 0,1),jt=I(xe,Z,Ee+="",0),Je,xt;if(jt!=Ee.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(De&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(Je=Xw(Hf(xe.y,0,1)),xt=Je.getUTCDay(),Je=xt>4||xt===0?Uy.ceil(Je):Uy(Je),Je=W0.offset(Je,(xe.V-1)*7),xe.y=Je.getUTCFullYear(),xe.m=Je.getUTCMonth(),xe.d=Je.getUTCDate()+(xe.w+6)%7):(Je=Qw(Hf(xe.y,0,1)),xt=Je.getDay(),Je=xt>4||xt===0?zy.ceil(Je):zy(Je),Je=pm.offset(Je,(xe.V-1)*7),xe.y=Je.getFullYear(),xe.m=Je.getMonth(),xe.d=Je.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),xt="Z"in xe?Xw(Hf(xe.y,0,1)).getUTCDay():Qw(Hf(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(xt+5)%7:xe.w+xe.U*7-(xt+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,Xw(xe)):Qw(xe)}}function I(Z,De,Ee,xe){for(var jt=0,Je=De.length,xt=Ee.length,Vt,fr;jt<Je;){if(xe>=xt)return-1;if(Vt=De.charCodeAt(jt++),Vt===37){if(Vt=De.charAt(jt++),fr=R[Vt in LR?De.charAt(jt++):Vt],!fr||(xe=fr(Z,Ee,xe))<0)return-1}else if(Vt!=Ee.charCodeAt(xe++))return-1}return xe}function D(Z,De,Ee){var xe=h.exec(De.slice(Ee));return xe?(Z.p=p.get(xe[0].toLowerCase()),Ee+xe[0].length):-1}function V(Z,De,Ee){var xe=b.exec(De.slice(Ee));return xe?(Z.w=_.get(xe[0].toLowerCase()),Ee+xe[0].length):-1}function z(Z,De,Ee){var xe=g.exec(De.slice(Ee));return xe?(Z.w=x.get(xe[0].toLowerCase()),Ee+xe[0].length):-1}function $(Z,De,Ee){var xe=T.exec(De.slice(Ee));return xe?(Z.m=O.get(xe[0].toLowerCase()),Ee+xe[0].length):-1}function L(Z,De,Ee){var xe=S.exec(De.slice(Ee));return xe?(Z.m=N.get(xe[0].toLowerCase()),Ee+xe[0].length):-1}function se(Z,De,Ee){return I(Z,e,De,Ee)}function Ne(Z,De,Ee){return I(Z,n,De,Ee)}function G(Z,De,Ee){return I(Z,r,De,Ee)}function H(Z){return c[Z.getDay()]}function ee(Z){return o[Z.getDay()]}function W(Z){return f[Z.getMonth()]}function K(Z){return u[Z.getMonth()]}function B(Z){return i[+(Z.getHours()>=12)]}function J(Z){return 1+~~(Z.getMonth()/3)}function ie(Z){return c[Z.getUTCDay()]}function ye(Z){return o[Z.getUTCDay()]}function ke(Z){return f[Z.getUTCMonth()]}function Le(Z){return u[Z.getUTCMonth()]}function de(Z){return i[+(Z.getUTCHours()>=12)]}function we(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var De=F(Z+="",C);return De.toString=function(){return Z},De},parse:function(Z){var De=E(Z+="",!1);return De.toString=function(){return Z},De},utcFormat:function(Z){var De=F(Z+="",M);return De.toString=function(){return Z},De},utcParse:function(Z){var De=E(Z+="",!0);return De.toString=function(){return Z},De}}}var LR={"-":"",_:" ",0:"0"},dr=/^\s*\d+/,Hoe=/^%/,Goe=/[\\^$*+?|[\]().{}]/g;function Et(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Koe(t){return t.replace(Goe,"\\$&")}function Gf(t){return new RegExp("^(?:"+t.map(Koe).join("|")+")","i")}function Kf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Woe(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Yoe(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Qoe(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Xoe(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Joe(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function zR(t,e,n){var r=dr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function UR(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Zoe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ele(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function tle(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function VR(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function nle(t,e,n){var r=dr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function BR(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function rle(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ile(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ale(t,e,n){var r=dr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function sle(t,e,n){var r=dr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ole(t,e,n){var r=Hoe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function lle(t,e,n){var r=dr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function cle(t,e,n){var r=dr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function FR(t,e){return Et(t.getDate(),e,2)}function ule(t,e){return Et(t.getHours(),e,2)}function dle(t,e){return Et(t.getHours()%12||12,e,2)}function fle(t,e){return Et(1+pm.count(uo(t),t),e,3)}function SL(t,e){return Et(t.getMilliseconds(),e,3)}function hle(t,e){return SL(t,e)+"000"}function mle(t,e){return Et(t.getMonth()+1,e,2)}function ple(t,e){return Et(t.getMinutes(),e,2)}function gle(t,e){return Et(t.getSeconds(),e,2)}function yle(t){var e=t.getDay();return e===0?7:e}function xle(t,e){return Et(Y0.count(uo(t)-1,t),e,2)}function EL(t){var e=t.getDay();return e>=4||e===0?Nd(t):Nd.ceil(t)}function vle(t,e){return t=EL(t),Et(Nd.count(uo(t),t)+(uo(t).getDay()===4),e,2)}function ble(t){return t.getDay()}function wle(t,e){return Et(zy.count(uo(t)-1,t),e,2)}function jle(t,e){return Et(t.getFullYear()%100,e,2)}function Nle(t,e){return t=EL(t),Et(t.getFullYear()%100,e,2)}function _le(t,e){return Et(t.getFullYear()%1e4,e,4)}function Sle(t,e){var n=t.getDay();return t=n>=4||n===0?Nd(t):Nd.ceil(t),Et(t.getFullYear()%1e4,e,4)}function Ele(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Et(e/60|0,"0",2)+Et(e%60,"0",2)}function $R(t,e){return Et(t.getUTCDate(),e,2)}function Ale(t,e){return Et(t.getUTCHours(),e,2)}function Tle(t,e){return Et(t.getUTCHours()%12||12,e,2)}function Cle(t,e){return Et(1+W0.count(fo(t),t),e,3)}function AL(t,e){return Et(t.getUTCMilliseconds(),e,3)}function kle(t,e){return AL(t,e)+"000"}function Ile(t,e){return Et(t.getUTCMonth()+1,e,2)}function Ole(t,e){return Et(t.getUTCMinutes(),e,2)}function Rle(t,e){return Et(t.getUTCSeconds(),e,2)}function Ple(t){var e=t.getUTCDay();return e===0?7:e}function Dle(t,e){return Et(Q0.count(fo(t)-1,t),e,2)}function TL(t){var e=t.getUTCDay();return e>=4||e===0?_d(t):_d.ceil(t)}function Mle(t,e){return t=TL(t),Et(_d.count(fo(t),t)+(fo(t).getUTCDay()===4),e,2)}function Lle(t){return t.getUTCDay()}function zle(t,e){return Et(Uy.count(fo(t)-1,t),e,2)}function Ule(t,e){return Et(t.getUTCFullYear()%100,e,2)}function Vle(t,e){return t=TL(t),Et(t.getUTCFullYear()%100,e,2)}function Ble(t,e){return Et(t.getUTCFullYear()%1e4,e,4)}function Fle(t,e){var n=t.getUTCDay();return t=n>=4||n===0?_d(t):_d.ceil(t),Et(t.getUTCFullYear()%1e4,e,4)}function $le(){return"+0000"}function qR(){return"%"}function HR(t){return+t}function GR(t){return Math.floor(+t/1e3)}var Ru,CL,kL;qle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qle(t){return Ru=qoe(t),CL=Ru.format,Ru.parse,kL=Ru.utcFormat,Ru.utcParse,Ru}function Hle(t){return new Date(t)}function Gle(t){return t instanceof Date?+t:+new Date(+t)}function i_(t,e,n,r,i,o,c,u,f,h){var p=q2(),g=p.invert,x=p.domain,b=h(".%L"),_=h(":%S"),S=h("%I:%M"),N=h("%I %p"),T=h("%a %d"),O=h("%b %d"),C=h("%B"),M=h("%Y");function R(F){return(f(F)<F?b:u(F)<F?_:c(F)<F?S:o(F)<F?N:r(F)<F?i(F)<F?T:O:n(F)<F?C:M)(F)}return p.invert=function(F){return new Date(g(F))},p.domain=function(F){return arguments.length?x(Array.from(F,Gle)):x().map(Hle)},p.ticks=function(F){var E=x();return t(E[0],E[E.length-1],F??10)},p.tickFormat=function(F,E){return E==null?R:h(E)},p.nice=function(F){var E=x();return(!F||typeof F.range!="function")&&(F=e(E[0],E[E.length-1],F??10)),F?x(gL(E,F)):p},p.copy=function(){return mm(p,i_(t,e,n,r,i,o,c,u,f,h))},p}function Kle(){return da.apply(i_(Foe,$oe,uo,n_,Y0,pm,e_,J2,bc,CL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Wle(){return da.apply(i_(Voe,Boe,fo,r_,Q0,W0,t_,Z2,bc,kL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function X0(){var t=0,e=1,n,r,i,o,c=Xr,u=!1,f;function h(g){return g==null||isNaN(g=+g)?f:c(i===0?.5:(g=(o(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(c=g,h):c};function p(g){return function(x){var b,_;return arguments.length?([b,_]=x,c=g(b,_),h):[c(0),c(1)]}}return h.range=p(Od),h.rangeRound=p($2),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return o=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),h}}function Vl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function IL(){var t=Ul(X0()(Xr));return t.copy=function(){return Vl(t,IL())},xo.apply(t,arguments)}function OL(){var t=K2(X0()).domain([1,10]);return t.copy=function(){return Vl(t,OL()).base(t.base())},xo.apply(t,arguments)}function RL(){var t=W2(X0());return t.copy=function(){return Vl(t,RL()).constant(t.constant())},xo.apply(t,arguments)}function a_(){var t=Y2(X0());return t.copy=function(){return Vl(t,a_()).exponent(t.exponent())},xo.apply(t,arguments)}function Yle(){return a_.apply(null,arguments).exponent(.5)}function PL(){var t=[],e=Xr;function n(r){if(r!=null&&!isNaN(r=+r))return e((fm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Sl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Pse(t,o/r))},n.copy=function(){return PL(e).domain(t)},xo.apply(n,arguments)}function J0(){var t=0,e=.5,n=1,r=1,i,o,c,u,f,h=Xr,p,g=!1,x;function b(S){return isNaN(S=+S)?x:(S=.5+((S=+p(S))-o)*(r*S<r*o?u:f),h(g?Math.max(0,Math.min(1,S)):S))}b.domain=function(S){return arguments.length?([t,e,n]=S,i=p(t=+t),o=p(e=+e),c=p(n=+n),u=i===o?0:.5/(o-i),f=o===c?0:.5/(c-o),r=o<i?-1:1,b):[t,e,n]},b.clamp=function(S){return arguments.length?(g=!!S,b):g},b.interpolator=function(S){return arguments.length?(h=S,b):h};function _(S){return function(N){var T,O,C;return arguments.length?([T,O,C]=N,h=ooe(S,[T,O,C]),b):[h(0),h(.5),h(1)]}}return b.range=_(Od),b.rangeRound=_($2),b.unknown=function(S){return arguments.length?(x=S,b):x},function(S){return p=S,i=S(t),o=S(e),c=S(n),u=i===o?0:.5/(o-i),f=o===c?0:.5/(c-o),r=o<i?-1:1,b}}function DL(){var t=Ul(J0()(Xr));return t.copy=function(){return Vl(t,DL())},xo.apply(t,arguments)}function ML(){var t=K2(J0()).domain([.1,1,10]);return t.copy=function(){return Vl(t,ML()).base(t.base())},xo.apply(t,arguments)}function LL(){var t=W2(J0());return t.copy=function(){return Vl(t,LL()).constant(t.constant())},xo.apply(t,arguments)}function s_(){var t=Y2(J0());return t.copy=function(){return Vl(t,s_()).exponent(t.exponent())},xo.apply(t,arguments)}function Qle(){return s_.apply(null,arguments).exponent(.5)}const rh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:V2,scaleDiverging:DL,scaleDivergingLog:ML,scaleDivergingPow:s_,scaleDivergingSqrt:Qle,scaleDivergingSymlog:LL,scaleIdentity:pL,scaleImplicit:Rj,scaleLinear:mL,scaleLog:yL,scaleOrdinal:U2,scalePoint:Lse,scalePow:Q2,scaleQuantile:bL,scaleQuantize:wL,scaleRadial:vL,scaleSequential:IL,scaleSequentialLog:OL,scaleSequentialPow:a_,scaleSequentialQuantile:PL,scaleSequentialSqrt:Yle,scaleSequentialSymlog:RL,scaleSqrt:koe,scaleSymlog:xL,scaleThreshold:jL,scaleTime:Kle,scaleUtc:Wle,tickFormat:hL},Symbol.toStringTag,{value:"Module"}));var Bl=t=>t.chartData,Xle=ve([Bl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),o_=(t,e,n,r)=>r?Xle(t):Bl(t);function Pl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(jn(e)&&jn(n))return!0}return!1}function KR(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function zL(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(jn(n))i=n;else if(typeof n=="function")return;if(jn(r))o=r;else if(typeof r=="function")return;var c=[i,o];if(Pl(c))return c}}function Jle(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Pl(r))return KR(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,c,u;if(i==="auto")e!=null&&(c=Math.min(...e));else if(Ge(i))c=i;else if(typeof i=="function")try{e!=null&&(c=i(e?.[0]))}catch{}else if(typeof i=="string"&&NO.test(i)){var f=NO.exec(i);if(f==null||e==null)c=void 0;else{var h=+f[1];c=e[0]-h}}else c=e?.[0];if(o==="auto")e!=null&&(u=Math.max(...e));else if(Ge(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e?.[1]))}catch{}else if(typeof o=="string"&&_O.test(o)){var p=_O.exec(o);if(p==null||e==null)u=void 0;else{var g=+p[1];u=e[1]+g}}else u=e?.[1];var x=[c,u];if(Pl(x))return e==null?x:KR(x,e,n)}}}var Rd=1e9,Zle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},c_,ln=!0,la="[DecimalError] ",Tc=la+"Invalid argument: ",l_=la+"Exponent out of range: ",Pd=Math.floor,pc=Math.pow,ece=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ki,cr=1e7,Qt=7,UL=9007199254740991,Vy=Pd(UL/Qt),Fe={};Fe.absoluteValue=Fe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Fe.comparedTo=Fe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Fe.decimalPlaces=Fe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Qt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Fe.dividedBy=Fe.div=function(t){return no(this,new this.constructor(t))};Fe.dividedToIntegerBy=Fe.idiv=function(t){var e=this,n=e.constructor;return Ut(no(e,new n(t),0,1),n.precision)};Fe.equals=Fe.eq=function(t){return!this.cmp(t)};Fe.exponent=function(){return Hn(this)};Fe.greaterThan=Fe.gt=function(t){return this.cmp(t)>0};Fe.greaterThanOrEqualTo=Fe.gte=function(t){return this.cmp(t)>=0};Fe.isInteger=Fe.isint=function(){return this.e>this.d.length-2};Fe.isNegative=Fe.isneg=function(){return this.s<0};Fe.isPositive=Fe.ispos=function(){return this.s>0};Fe.isZero=function(){return this.s===0};Fe.lessThan=Fe.lt=function(t){return this.cmp(t)<0};Fe.lessThanOrEqualTo=Fe.lte=function(t){return this.cmp(t)<1};Fe.logarithm=Fe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ki))throw Error(la+"NaN");if(n.s<1)throw Error(la+(n.s?"NaN":"-Infinity"));return n.eq(ki)?new r(0):(ln=!1,e=no(zh(n,o),zh(t,o),o),ln=!0,Ut(e,i))};Fe.minus=Fe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?FL(e,t):VL(e,(t.s=-t.s,t))};Fe.modulo=Fe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(la+"NaN");return n.s?(ln=!1,e=no(n,t,0,1).times(t),ln=!0,n.minus(e)):Ut(new r(n),i)};Fe.naturalExponential=Fe.exp=function(){return BL(this)};Fe.naturalLogarithm=Fe.ln=function(){return zh(this)};Fe.negated=Fe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Fe.plus=Fe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?VL(e,t):FL(e,(t.s=-t.s,t))};Fe.precision=Fe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Tc+t);if(e=Hn(i)+1,r=i.d.length-1,n=r*Qt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Fe.squareRoot=Fe.sqrt=function(){var t,e,n,r,i,o,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(la+"NaN")}for(t=Hn(u),ln=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=rs(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Pd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=c=n+3;;)if(o=r,r=o.plus(no(u,o,c+2)).times(.5),rs(o.d).slice(0,c)===(e=rs(r.d)).slice(0,c)){if(e=e.slice(c-3,c+1),i==c&&e=="4999"){if(Ut(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;c+=4}return ln=!0,Ut(r,n)};Fe.times=Fe.mul=function(t){var e,n,r,i,o,c,u,f,h,p=this,g=p.constructor,x=p.d,b=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=x.length,h=b.length,f<h&&(o=x,x=b,b=o,c=f,f=h,h=c),o=[],c=f+h,r=c;r--;)o.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)u=o[i]+b[r]*x[i-r-1]+e,o[i--]=u%cr|0,e=u/cr|0;o[i]=(o[i]+e)%cr|0}for(;!o[--c];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,ln?Ut(t,g.precision):t};Fe.toDecimalPlaces=Fe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(vs(t,0,Rd),e===void 0?e=r.rounding:vs(e,0,8),Ut(n,t+Hn(n)+1,e))};Fe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=zc(r,!0):(vs(t,0,Rd),e===void 0?e=i.rounding:vs(e,0,8),r=Ut(new i(r),t+1,e),n=zc(r,!0,t+1)),n};Fe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?zc(i):(vs(t,0,Rd),e===void 0?e=o.rounding:vs(e,0,8),r=Ut(new o(i),t+Hn(i)+1,e),n=zc(r.abs(),!1,t+Hn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Fe.toInteger=Fe.toint=function(){var t=this,e=t.constructor;return Ut(new e(t),Hn(t)+1,e.rounding)};Fe.toNumber=function(){return+this};Fe.toPower=Fe.pow=function(t){var e,n,r,i,o,c,u=this,f=u.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(ki);if(u=new f(u),!u.s){if(t.s<1)throw Error(la+"Infinity");return u}if(u.eq(ki))return u;if(r=f.precision,t.eq(ki))return Ut(u,r);if(e=t.e,n=t.d.length-1,c=e>=n,o=u.s,c){if((n=p<0?-p:p)<=UL){for(i=new f(ki),e=Math.ceil(r/Qt+4),ln=!1;n%2&&(i=i.times(u),YR(i.d,e)),n=Pd(n/2),n!==0;)u=u.times(u),YR(u.d,e);return ln=!0,t.s<0?new f(ki).div(i):Ut(i,r)}}else if(o<0)throw Error(la+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,ln=!1,i=t.times(zh(u,r+h)),ln=!0,i=BL(i),i.s=o,i};Fe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Hn(i),r=zc(i,n<=o.toExpNeg||n>=o.toExpPos)):(vs(t,1,Rd),e===void 0?e=o.rounding:vs(e,0,8),i=Ut(new o(i),t,e),n=Hn(i),r=zc(i,t<=n||n<=o.toExpNeg,t)),r};Fe.toSignificantDigits=Fe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(vs(t,1,Rd),e===void 0?e=r.rounding:vs(e,0,8)),Ut(new r(n),t,e)};Fe.toString=Fe.valueOf=Fe.val=Fe.toJSON=Fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Hn(t),n=t.constructor;return zc(t,e<=n.toExpNeg||e>=n.toExpPos)};function VL(t,e){var n,r,i,o,c,u,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),ln?Ut(e,g):e;if(f=t.d,h=e.d,c=t.e,i=e.e,f=f.slice(),o=c-i,o){for(o<0?(r=f,o=-o,u=h.length):(r=h,i=c,u=f.length),c=Math.ceil(g/Qt),u=c>u?c+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=f.length,o=h.length,u-o<0&&(o=u,r=h,h=f,f=r),n=0;o;)n=(f[--o]=f[o]+h[o]+n)/cr|0,f[o]%=cr;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,ln?Ut(e,g):e}function vs(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Tc+t)}function rs(t){var e,n,r,i=t.length-1,o="",c=t[0];if(i>0){for(o+=c,e=1;e<i;e++)r=t[e]+"",n=Qt-r.length,n&&(o+=al(n)),o+=r;c=t[e],r=c+"",n=Qt-r.length,n&&(o+=al(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return o+c}var no=(function(){function t(r,i){var o,c=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+c,r[u]=o%cr|0,c=o/cr|0;return c&&r.unshift(c),r}function e(r,i,o,c){var u,f;if(o!=c)f=o>c?1:-1;else for(u=f=0;u<o;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,o){for(var c=0;o--;)r[o]-=c,c=r[o]<i[o]?1:0,r[o]=c*cr+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,c){var u,f,h,p,g,x,b,_,S,N,T,O,C,M,R,F,E,I,D=r.constructor,V=r.s==i.s?1:-1,z=r.d,$=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(la+"Division by zero");for(f=r.e-i.e,E=$.length,R=z.length,b=new D(V),_=b.d=[],h=0;$[h]==(z[h]||0);)++h;if($[h]>(z[h]||0)&&--f,o==null?O=o=D.precision:c?O=o+(Hn(r)-Hn(i))+1:O=o,O<0)return new D(0);if(O=O/Qt+2|0,h=0,E==1)for(p=0,$=$[0],O++;(h<R||p)&&O--;h++)C=p*cr+(z[h]||0),_[h]=C/$|0,p=C%$|0;else{for(p=cr/($[0]+1)|0,p>1&&($=t($,p),z=t(z,p),E=$.length,R=z.length),M=E,S=z.slice(0,E),N=S.length;N<E;)S[N++]=0;I=$.slice(),I.unshift(0),F=$[0],$[1]>=cr/2&&++F;do p=0,u=e($,S,E,N),u<0?(T=S[0],E!=N&&(T=T*cr+(S[1]||0)),p=T/F|0,p>1?(p>=cr&&(p=cr-1),g=t($,p),x=g.length,N=S.length,u=e(g,S,x,N),u==1&&(p--,n(g,E<x?I:$,x))):(p==0&&(u=p=1),g=$.slice()),x=g.length,x<N&&g.unshift(0),n(S,g,N),u==-1&&(N=S.length,u=e($,S,E,N),u<1&&(p++,n(S,E<N?I:$,N))),N=S.length):u===0&&(p++,S=[0]),_[h++]=p,u&&S[0]?S[N++]=z[M]||0:(S=[z[M]],N=1);while((M++<R||S[0]!==void 0)&&O--)}return _[0]||_.shift(),b.e=f,Ut(b,c?o+Hn(b)+1:o)}})();function BL(t,e){var n,r,i,o,c,u,f=0,h=0,p=t.constructor,g=p.precision;if(Hn(t)>16)throw Error(l_+Hn(t));if(!t.s)return new p(ki);for(ln=!1,u=g,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),h+=5;for(r=Math.log(pc(2,h))/Math.LN10*2+5|0,u+=r,n=i=o=new p(ki),p.precision=u;;){if(i=Ut(i.times(t),u),n=n.times(++f),c=o.plus(no(i,n,u)),rs(c.d).slice(0,u)===rs(o.d).slice(0,u)){for(;h--;)o=Ut(o.times(o),u);return p.precision=g,e==null?(ln=!0,Ut(o,g)):o}o=c}}function Hn(t){for(var e=t.e*Qt,n=t.d[0];n>=10;n/=10)e++;return e}function Jw(t,e,n){if(e>t.LN10.sd())throw ln=!0,n&&(t.precision=n),Error(la+"LN10 precision limit exceeded");return Ut(new t(t.LN10),e)}function al(t){for(var e="";t--;)e+="0";return e}function zh(t,e){var n,r,i,o,c,u,f,h,p,g=1,x=10,b=t,_=b.d,S=b.constructor,N=S.precision;if(b.s<1)throw Error(la+(b.s?"NaN":"-Infinity"));if(b.eq(ki))return new S(0);if(e==null?(ln=!1,h=N):h=e,b.eq(10))return e==null&&(ln=!0),Jw(S,h);if(h+=x,S.precision=h,n=rs(_),r=n.charAt(0),o=Hn(b),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=rs(b.d),r=n.charAt(0),g++;o=Hn(b),r>1?(b=new S("0."+n),o++):b=new S(r+"."+n.slice(1))}else return f=Jw(S,h+2,N).times(o+""),b=zh(new S(r+"."+n.slice(1)),h-x).plus(f),S.precision=N,e==null?(ln=!0,Ut(b,N)):b;for(u=c=b=no(b.minus(ki),b.plus(ki),h),p=Ut(b.times(b),h),i=3;;){if(c=Ut(c.times(p),h),f=u.plus(no(c,new S(i),h)),rs(f.d).slice(0,h)===rs(u.d).slice(0,h))return u=u.times(2),o!==0&&(u=u.plus(Jw(S,h+2,N).times(o+""))),u=no(u,new S(g),h),S.precision=N,e==null?(ln=!0,Ut(u,N)):u;u=f,i+=2}}function WR(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Pd(n/Qt),t.d=[],r=(n+1)%Qt,n<0&&(r+=Qt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Qt;r<i;)t.d.push(+e.slice(r,r+=Qt));e=e.slice(r),r=Qt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ln&&(t.e>Vy||t.e<-Vy))throw Error(l_+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ut(t,e,n){var r,i,o,c,u,f,h,p,g=t.d;for(c=1,o=g[0];o>=10;o/=10)c++;if(r=e-c,r<0)r+=Qt,i=e,h=g[p=0];else{if(p=Math.ceil((r+1)/Qt),o=g.length,p>=o)return t;for(h=o=g[p],c=1;o>=10;o/=10)c++;r%=Qt,i=r-Qt+c}if(n!==void 0&&(o=pc(10,c-i-1),u=h/o%10|0,f=e<0||g[p+1]!==void 0||h%o,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?h/pc(10,c-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(o=Hn(t),g.length=1,e=e-o-1,g[0]=pc(10,(Qt-e%Qt)%Qt),t.e=Pd(-e/Qt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,o=1,p--):(g.length=p+1,o=pc(10,Qt-r),g[p]=i>0?(h/pc(10,c-i)%pc(10,i)|0)*o:0),f)for(;;)if(p==0){(g[0]+=o)==cr&&(g[0]=1,++t.e);break}else{if(g[p]+=o,g[p]!=cr)break;g[p--]=0,o=1}for(r=g.length;g[--r]===0;)g.pop();if(ln&&(t.e>Vy||t.e<-Vy))throw Error(l_+Hn(t));return t}function FL(t,e){var n,r,i,o,c,u,f,h,p,g,x=t.constructor,b=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),ln?Ut(e,b):e;if(f=t.d,g=e.d,r=e.e,h=t.e,f=f.slice(),c=h-r,c){for(p=c<0,p?(n=f,c=-c,u=g.length):(n=g,r=h,u=f.length),i=Math.max(Math.ceil(b/Qt),u)+2,c>i&&(c=i,n.length=1),n.reverse(),i=c;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(f[i]!=g[i]){p=f[i]<g[i];break}c=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),u=f.length,i=g.length-u;i>0;--i)f[u++]=0;for(i=g.length;i>c;){if(f[--i]<g[i]){for(o=i;o&&f[--o]===0;)f[o]=cr-1;--f[o],f[i]+=cr}f[i]-=g[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,ln?Ut(e,b):e):new x(0)}function zc(t,e,n){var r,i=Hn(t),o=rs(t.d),c=o.length;return e?(n&&(r=n-c)>0?o=o.charAt(0)+"."+o.slice(1)+al(r):c>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+al(-i-1)+o,n&&(r=n-c)>0&&(o+=al(r))):i>=c?(o+=al(i+1-c),n&&(r=n-i-1)>0&&(o=o+"."+al(r))):((r=i+1)<c&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-c)>0&&(i+1===c&&(o+="."),o+=al(r))),t.s<0?"-"+o:o}function YR(t,e){if(t.length>e)return t.length=e,!0}function $L(t){var e,n,r;function i(o){var c=this;if(!(c instanceof i))return new i(o);if(c.constructor=i,o instanceof i){c.s=o.s,c.e=o.e,c.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Tc+o);if(o>0)c.s=1;else if(o<0)o=-o,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(o===~~o&&o<1e7){c.e=0,c.d=[o];return}return WR(c,o.toString())}else if(typeof o!="string")throw Error(Tc+o);if(o.charCodeAt(0)===45?(o=o.slice(1),c.s=-1):c.s=1,ece.test(o))WR(c,o);else throw Error(Tc+o)}if(i.prototype=Fe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=$L,i.config=i.set=tce,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function tce(t){if(!t||typeof t!="object")throw Error(la+"Object expected");var e,n,r,i=["precision",1,Rd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Pd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Tc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Tc+n+": "+r);return this}var c_=$L(Zle);ki=new c_(1);const Rt=c_;var nce=t=>t,qL={},HL=t=>t===qL,QR=t=>function e(){return arguments.length===0||arguments.length===1&&HL(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},GL=(t,e)=>t===1?e:QR(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(c=>c!==qL).length;return o>=t?e(...r):GL(t-o,QR(function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var h=r.map(p=>HL(p)?u.shift():p);return e(...h,...u)}))}),rce=t=>GL(t.length,t),Lj=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},ice=rce((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),ace=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return nce;var i=n.reverse(),o=i[0],c=i.slice(1);return function(){return c.reduce((u,f)=>f(u),o(...arguments))}},zj=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function KL(t){var e;return t===0?e=1:e=Math.floor(new Rt(t).abs().log(10).toNumber())+1,e}function WL(t,e,n){for(var r=new Rt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var YL=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},QL=(t,e,n)=>{if(t.lte(0))return new Rt(0);var r=KL(t.toNumber()),i=new Rt(10).pow(r),o=t.div(i),c=r!==1?.05:.1,u=new Rt(Math.ceil(o.div(c).toNumber())).add(n).mul(c),f=u.mul(i);return e?new Rt(f.toNumber()):new Rt(Math.ceil(f.toNumber()))},sce=(t,e,n)=>{var r=new Rt(1),i=new Rt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Rt(10).pow(KL(t)-1),i=new Rt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Rt(Math.floor(t)))}else t===0?i=new Rt(Math.floor((e-1)/2)):n||(i=new Rt(Math.floor(t)));var c=Math.floor((e-1)/2),u=ace(ice(f=>i.add(new Rt(f-c).mul(r)).toNumber()),Lj);return u(0,e)},XL=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Rt(0),tickMin:new Rt(0),tickMax:new Rt(0)};var c=QL(new Rt(n).sub(e).div(r-1),i,o),u;e<=0&&n>=0?u=new Rt(0):(u=new Rt(e).add(n).div(2),u=u.sub(new Rt(u).mod(c)));var f=Math.ceil(u.sub(e).div(c).toNumber()),h=Math.ceil(new Rt(n).sub(u).div(c).toNumber()),p=f+h+1;return p>r?XL(e,n,r,i,o+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:c,tickMin:u.sub(new Rt(f).mul(c)),tickMax:u.add(new Rt(h).mul(c))})},oce=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[u,f]=YL([n,r]);if(u===-1/0||f===1/0){var h=f===1/0?[u,...Lj(0,i-1).map(()=>1/0)]:[...Lj(0,i-1).map(()=>-1/0),f];return n>r?zj(h):h}if(u===f)return sce(u,i,o);var{step:p,tickMin:g,tickMax:x}=XL(u,f,c,o,0),b=WL(g,x.add(new Rt(.1).mul(p)),p);return n>r?zj(b):b},lce=function(e,n){var[r,i]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,u]=YL([r,i]);if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var f=Math.max(n,2),h=QL(new Rt(u).sub(c).div(f-1),o,0),p=[...WL(new Rt(c),new Rt(u),h),u];return o===!1&&(p=p.map(g=>Math.round(g))),r>i?zj(p):p},cce=t=>t.rootProps.barCategoryGap,Z0=t=>t.rootProps.stackOffset,JL=t=>t.rootProps.reverseStackOrder,u_=t=>t.options.chartName,d_=t=>t.rootProps.syncId,ZL=t=>t.rootProps.syncMethod,f_=t=>t.options.eventEmitter,uce=t=>t.rootProps.baseValue,Jr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Gs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ti={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},ex=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},dce={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Gs.angleAxisId,includeHidden:!1,name:void 0,reversed:Gs.reversed,scale:Gs.scale,tick:Gs.tick,tickCount:void 0,ticks:void 0,type:Gs.type,unit:void 0},fce={allowDataOverflow:Ti.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ti.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ti.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ti.scale,tick:Ti.tick,tickCount:Ti.tickCount,ticks:void 0,type:Ti.type,unit:void 0},hce={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Gs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gs.scale,tick:Gs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},mce={allowDataOverflow:Ti.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ti.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ti.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ti.scale,tick:Ti.tick,tickCount:Ti.tickCount,ticks:void 0,type:"category",unit:void 0},h_=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?hce:dce,m_=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?mce:fce,tx=t=>t.polarOptions,p_=ve([go,yo,Er],ose),e9=ve([tx,p_],(t,e)=>{if(t!=null)return Rl(t.innerRadius,e,0)}),t9=ve([tx,p_],(t,e)=>{if(t!=null)return Rl(t.outerRadius,e,e*.8)}),pce=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},n9=ve([tx],pce);ve([h_,n9],ex);var r9=ve([p_,e9,t9],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ve([m_,r9],ex);var i9=ve([Gt,tx,e9,t9,go,yo],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:c,cy:u,startAngle:f,endAngle:h}=e;return{cx:Rl(c,i,i/2),cy:Rl(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),Xn=(t,e)=>e,nx=(t,e,n)=>n;function g_(t){return t?.id}function a9(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:o}=n,c=new Map;return t.forEach(u=>{var f,h=(f=u.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=g_(u);h.forEach((g,x)=>{var b=o==null||i?x:String(Dr(g,o,null)),_=Dr(g,u.dataKey,0),S;c.has(b)?S=c.get(b):S={},Object.assign(S,{[p]:_}),c.set(b,S)})}}),Array.from(c.values())}function y_(t){return t.stackId!=null&&t.dataKey!=null}var rx=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function ix(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function gce(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Jn=t=>{var e=Gt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Dd=t=>t.tooltip.settings.axisId;function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function By(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){yce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yce(t,e,n){return(e=xce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xce(t){var e=vce(t,"string");return typeof e=="symbol"?e:e+""}function vce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uj=[0,"auto"],sr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},s9=(t,e)=>t.cartesianAxis.xAxis[e],vo=(t,e)=>{var n=s9(t,e);return n??sr},or={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Uj,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:cm},o9=(t,e)=>t.cartesianAxis.yAxis[e],bo=(t,e)=>{var n=o9(t,e);return n??or},bce={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},x_=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??bce},ti=(t,e,n)=>{switch(e){case"xAxis":return vo(t,n);case"yAxis":return bo(t,n);case"zAxis":return x_(t,n);case"angleAxis":return h_(t,n);case"radiusAxis":return m_(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},wce=(t,e,n)=>{switch(e){case"xAxis":return vo(t,n);case"yAxis":return bo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},gm=(t,e,n)=>{switch(e){case"xAxis":return vo(t,n);case"yAxis":return bo(t,n);case"angleAxis":return h_(t,n);case"radiusAxis":return m_(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},l9=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function c9(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var u9=t=>t.graphicalItems.cartesianItems,jce=ve([Xn,nx],c9),d9=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),ym=ve([u9,ti,jce],d9,{memoizeOptions:{resultEqualityCheck:ix}}),f9=ve([ym],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(y_)),h9=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Nce=ve([ym],h9),m9=t=>t.map(e=>e.data).filter(Boolean).flat(1),_ce=ve([ym],m9,{memoizeOptions:{resultEqualityCheck:ix}}),p9=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},v_=ve([_ce,o_],p9),g9=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Dr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Dr(i,r)}))):t.map(r=>({value:r})),ax=ve([v_,ti,ym],g9);function y9(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Pg(t){if(gs(t)||t instanceof Date){var e=Number(t);if(jn(e))return e}}function JR(t){if(Array.isArray(t)){var e=[Pg(t[0]),Pg(t[1])];return Pl(e)?e:void 0}var n=Pg(t);if(n!=null)return[n,n]}function ho(t){return t.map(Pg).filter(Bte)}function Sce(t,e,n){return!n||typeof e!="number"||La(e)?[]:n.length?ho(n.flatMap(r=>{var i=Dr(t,r.dataKey),o,c;if(Array.isArray(i)?[o,c]=i:o=c=i,!(!jn(o)||!jn(c)))return[e-o,e+c]})):[]}var Zn=t=>{var e=Jn(t),n=Dd(t);return gm(t,e,n)},xm=ve([Zn],t=>t?.dataKey),Ece=ve([f9,o_,Zn],a9),x9=(t,e,n,r)=>{var i={},o=e.reduce((c,u)=>(u.stackId==null||(c[u.stackId]==null&&(c[u.stackId]=[]),c[u.stackId].push(u)),c),i);return Object.fromEntries(Object.entries(o).map(c=>{var[u,f]=c,h=r?[...f].reverse():f,p=h.map(g_);return[u,{stackedData:Qre(t,p,n),graphicalItems:h}]}))},Vj=ve([Ece,f9,Z0,JL],x9),v9=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=e;if(r==null&&n!=="zAxis"){var c=eie(t,i,o);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},Ace=ve([ti],t=>t.allowDataOverflow),b_=t=>{var e;if(t==null||!("domain"in t))return Uj;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=ho(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Uj},b9=ve([ti],b_),w9=ve([b9,Ace],zL),Tce=ve([Vj,Bl,Xn,w9],v9,{memoizeOptions:{resultEqualityCheck:rx}}),w_=t=>t.errorBars,Cce=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>y9(n,r)),Fy=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),c=Math.min(...o),u=Math.max(...o);return[c,u]}},j9=(t,e,n,r,i)=>{var o,c;if(n.length>0&&t.forEach(u=>{n.forEach(f=>{var h,p,g=(h=r[f.id])===null||h===void 0?void 0:h.filter(T=>y9(i,T)),x=Dr(u,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),b=Sce(u,x,g);if(b.length>=2){var _=Math.min(...b),S=Math.max(...b);(o==null||_<o)&&(o=_),(c==null||S>c)&&(c=S)}var N=JR(x);N!=null&&(o=o==null?N[0]:Math.min(o,N[0]),c=c==null?N[1]:Math.max(c,N[1]))})}),e?.dataKey!=null&&t.forEach(u=>{var f=JR(Dr(u,e.dataKey));f!=null&&(o=o==null?f[0]:Math.min(o,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),jn(o)&&jn(c))return[o,c]},kce=ve([v_,ti,Nce,w_,Xn],j9,{memoizeOptions:{resultEqualityCheck:rx}});function Ice(t){var{value:e}=t;if(gs(e)||e instanceof Date)return e}var Oce=(t,e,n)=>{var r=t.map(Ice).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&z3(r))?rL(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},N9=t=>t.referenceElements.dots,Md=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Rce=ve([N9,Xn,nx],Md),_9=t=>t.referenceElements.areas,Pce=ve([_9,Xn,nx],Md),S9=t=>t.referenceElements.lines,Dce=ve([S9,Xn,nx],Md),E9=(t,e)=>{var n=ho(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Mce=ve(Rce,Xn,E9),A9=(t,e)=>{var n=ho(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Lce=ve([Pce,Xn],A9);function zce(t){var e;if(t.x!=null)return ho([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:ho(n)}function Uce(t){var e;if(t.y!=null)return ho([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:ho(n)}var T9=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?zce(r):Uce(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Vce=ve([Dce,Xn],T9),Bce=ve(Mce,Vce,Lce,(t,e,n)=>Fy(t,n,e)),C9=(t,e,n,r,i,o,c,u)=>{if(n!=null)return n;var f=c==="vertical"&&u==="xAxis"||c==="horizontal"&&u==="yAxis",h=f?Fy(r,o,i):Fy(o,i);return Jle(e,h,t.allowDataOverflow)},Fce=ve([ti,b9,w9,Tce,kce,Bce,Gt,Xn],C9,{memoizeOptions:{resultEqualityCheck:rx}}),$ce=[0,1],k9=(t,e,n,r,i,o,c)=>{if(!((t==null||n==null||n.length===0)&&c===void 0)){var{dataKey:u,type:f}=t,h=po(e,o);if(h&&u==null){var p;return rL(0,(p=n?.length)!==null&&p!==void 0?p:0)}return f==="category"?Oce(r,t,h):i==="expand"?$ce:c}},j_=ve([ti,Gt,v_,ax,Z0,Xn,Fce],k9),I9=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:c}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(N2(o));return u in rh?u:"point"}}},vm=ve([ti,Gt,l9,u_,Xn],I9);function qce(t){if(t!=null){if(t in rh)return rh[t]();var e="scale".concat(N2(t));if(e in rh)return rh[e]()}}function N_(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=qce(e);if(i!=null){var o=i.domain(n).range(r);return Gre(o),o}}}var O9=(t,e,n)=>{var r=b_(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Pl(t))return oce(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Pl(t))return lce(t,e.tickCount,e.allowDecimals)}},__=ve([j_,gm,vm],O9),R9=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Pl(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],c=e[1],u=n[n.length-1];return[Math.min(i,o),Math.max(c,u)]}return e},Hce=ve([ti,j_,__,Xn],R9),Gce=ve(ax,ti,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(ho(t.map(u=>u.value))).sort((u,f)=>u-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var c=r[o+1]-r[o];n=Math.min(n,c)}return n/i}}),P9=ve(Gce,Gt,cce,Er,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!jn(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var c=Rl(n,t*o),u=t*o/2;return u-c-(u-c)/o*c}return 0}),Kce=(t,e)=>{var n=vo(t,e);return n==null||typeof n.padding!="string"?0:P9(t,"xAxis",e,n.padding)},Wce=(t,e)=>{var n=bo(t,e);return n==null||typeof n.padding!="string"?0:P9(t,"yAxis",e,n.padding)},Yce=ve(vo,Kce,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Qce=ve(bo,Wce,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Xce=ve([Er,Yce,B0,V0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),Jce=ve([Er,Gt,Qce,B0,V0,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:c}=i;return o?[r.height-c.bottom,c.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),bm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Xce(t,n,r);case"yAxis":return Jce(t,n,r);case"zAxis":return(i=x_(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return n9(t);case"radiusAxis":return r9(t,n);default:return}},D9=ve([ti,bm],ex),Ld=ve([ti,vm,Hce,D9],N_);ve([ym,w_,Xn],Cce);function M9(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var sx=(t,e)=>e,ox=(t,e,n)=>n,Zce=ve(z0,sx,ox,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(M9)),eue=ve(U0,sx,ox,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(M9)),L9=(t,e)=>({width:t.width,height:e.height}),tue=(t,e)=>{var n=typeof e.width=="number"?e.width:cm;return{width:n,height:t.height}},nue=ve(Er,vo,L9),rue=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},iue=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},aue=ve(yo,Er,Zce,sx,ox,(t,e,n,r,i)=>{var o={},c;return n.forEach(u=>{var f=L9(e,u);c==null&&(c=rue(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;o[u.id]=c-Number(h)*f.height,c+=(h?-1:1)*f.height}),o}),sue=ve(go,Er,eue,sx,ox,(t,e,n,r,i)=>{var o={},c;return n.forEach(u=>{var f=tue(e,u);c==null&&(c=iue(e,r,t));var h=r==="left"&&!i||r==="right"&&i;o[u.id]=c-Number(h)*f.width,c+=(h?-1:1)*f.width}),o}),oue=(t,e)=>{var n=vo(t,e);if(n!=null)return aue(t,n.orientation,n.mirror)},lue=ve([Er,vo,oue,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),cue=(t,e)=>{var n=bo(t,e);if(n!=null)return sue(t,n.orientation,n.mirror)},uue=ve([Er,bo,cue,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),due=ve(Er,bo,(t,e)=>{var n=typeof e.width=="number"?e.width:cm;return{width:n,height:t.height}}),z9=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:c}=n,u=po(t,r),f=e.map(h=>h.value);if(c&&u&&o==="category"&&i&&z3(f))return f}},S_=ve([Gt,ax,ti,Xn],z9),U9=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,c=po(t,r);if(c&&(i==="number"||o!=="auto"))return e.map(u=>u.value)}},E_=ve([Gt,ax,gm,Xn],U9),ZR=ve([Gt,wce,vm,Ld,S_,E_,bm,__,Xn],(t,e,n,r,i,o,c,u,f)=>{if(e!=null){var h=po(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:o,duplicateDomain:i,isCategorical:h,niceTicks:u,range:c,realScaleType:n,scale:r}}}),fue=(t,e,n,r,i,o,c,u,f)=>{if(!(e==null||r==null)){var h=po(t,f),{type:p,ticks:g,tickCount:x}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,_=p==="category"&&r.bandwidth?r.bandwidth()/b:0;_=f==="angleAxis"&&o!=null&&o.length>=2?na(o[0]-o[1])*2*_:_;var S=g||i;if(S){var N=S.map((T,O)=>{var C=c?c.indexOf(T):T;return{index:O,coordinate:r(C)+_,value:T,offset:_}});return N.filter(T=>jn(T.coordinate))}return h&&u?u.map((T,O)=>({coordinate:r(T)+_,value:T,index:O,offset:_})).filter(T=>jn(T.coordinate)):r.ticks?r.ticks(x).map(T=>({coordinate:r(T)+_,value:T,offset:_})):r.domain().map((T,O)=>({coordinate:r(T)+_,value:c?c[T]:T,index:O,offset:_}))}},V9=ve([Gt,gm,vm,Ld,__,bm,S_,E_,Xn],fue),hue=(t,e,n,r,i,o,c)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=po(t,c),{tickCount:f}=e,h=0;return h=c==="angleAxis"&&r?.length>=2?na(r[0]-r[1])*2*h:h,u&&o?o.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:i?i[p]:p,index:g,offset:h}))}},B9=ve([Gt,gm,Ld,bm,S_,E_,Xn],hue),F9=ve(ti,Ld,(t,e)=>{if(!(t==null||e==null))return By(By({},t),{},{scale:e})}),mue=ve([ti,vm,j_,D9],N_);ve((t,e,n)=>x_(t,n),mue,(t,e)=>{if(!(t==null||e==null))return By(By({},t),{},{scale:e})});var pue=ve([Gt,z0,U0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),$9=t=>t.options.defaultTooltipEventType,q9=t=>t.options.validateTooltipEventTypes;function H9(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function A_(t,e){var n=$9(t),r=q9(t);return H9(e,n,r)}function gue(t){return We(e=>A_(e,t))}var G9=(t,e)=>{var n,r=Number(e);if(!(La(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},yue=t=>t.tooltip.settings,ml={active:!1,index:null,dataKey:void 0,coordinate:void 0},xue={itemInteraction:{click:ml,hover:ml},axisInteraction:{click:ml,hover:ml},keyboardInteraction:ml,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},K9=pi({name:"tooltip",initialState:xue,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:sn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Oa(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:sn()},removeTooltipEntrySettings:{reducer(t,e){var n=Oa(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:sn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:vue,replaceTooltipEntrySettings:bue,removeTooltipEntrySettings:wue,setTooltipSettingsState:jue,setActiveMouseOverItemIndex:Nue,mouseLeaveItem:Kye,mouseLeaveChart:W9,setActiveClickItemIndex:Wye,setMouseOverAxisIndex:Y9,setMouseClickAxisIndex:_ue,setSyncInteraction:Bj,setKeyboardInteraction:Fj}=K9.actions,Sue=K9.reducer;function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){Eue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eue(t,e,n){return(e=Aue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aue(t){var e=Tue(t,"string");return typeof e=="symbol"?e:e+""}function Tue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cue(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function kue(t){return t.index!=null}var Q9=(t,e,n,r)=>{if(e==null)return ml;var i=Cue(t,e,n);if(i==null)return ml;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(kue(i)){if(o)return fg(fg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return fg(fg({},ml),{},{coordinate:i.coordinate})};function Iue(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Oue(t,e){var n=Iue(t),r=e[0],i=e[1];if(n===void 0)return!1;var o=Math.min(r,i),c=Math.max(r,i);return n>=o&&n<=c}function Rue(t,e,n){if(n==null||e==null)return!0;var r=Dr(t,e);return r==null||!Pl(n)?!0:Oue(r,n)}var T_=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var o=Number(i);if(!jn(o))return i;var c=0,u=1/0;e.length>0&&(u=e.length-1);var f=Math.max(c,Math.min(o,u)),h=e[f];return h==null||Rue(h,n,r)?String(f):null},X9=(t,e,n,r,i,o,c,u)=>{if(!(o==null||u==null)){var f=c[0],h=f==null?void 0:u(f.positions,o);if(h!=null)return h;var p=i?.[Number(o)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},J9=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var c;return((c=o.settings)===null||c===void 0?void 0:c.dataKey)===i})},wm=t=>t.options.tooltipPayloadSearcher,zd=t=>t.tooltip;function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){Pue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pue(t,e,n){return(e=Due(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Due(t){var e=Mue(t,"string");return typeof e=="symbol"?e:e+""}function Mue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lue(t,e){return t??e}var Z9=(t,e,n,r,i,o,c)=>{if(!(e==null||o==null)){var{chartData:u,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((x,b)=>{var _,{dataDefinedOnItem:S,settings:N}=b,T=Lue(S,u),O=Array.isArray(T)?C5(T,h,p):T,C=(_=N?.dataKey)!==null&&_!==void 0?_:r,M=N?.nameKey,R;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&c==="axis"?R=U3(O,r,i):R=o(O,e,f,M),Array.isArray(R))R.forEach(E=>{var I=nP(nP({},N),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});x.push(SO({tooltipEntrySettings:I,dataKey:E.dataKey,payload:E.payload,value:Dr(E.payload,E.dataKey),name:E.name}))});else{var F;x.push(SO({tooltipEntrySettings:N,dataKey:C,payload:R,value:Dr(R,C),name:(F=Dr(R,M))!==null&&F!==void 0?F:N?.name}))}return x},g)}},C_=ve([Zn,Gt,l9,u_,Jn],I9),zue=ve([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Uue=ve([Jn,Dd],c9),jm=ve([zue,Zn,Uue],d9,{memoizeOptions:{resultEqualityCheck:ix}}),Vue=ve([jm],t=>t.filter(y_)),Bue=ve([jm],m9,{memoizeOptions:{resultEqualityCheck:ix}}),Ud=ve([Bue,Bl],p9),Fue=ve([Vue,Bl,Zn],a9),k_=ve([Ud,Zn,jm],g9),ez=ve([Zn],b_),$ue=ve([Zn],t=>t.allowDataOverflow),tz=ve([ez,$ue],zL),que=ve([jm],t=>t.filter(y_)),Hue=ve([Fue,que,Z0,JL],x9),Gue=ve([Hue,Bl,Jn,tz],v9),Kue=ve([jm],h9),Wue=ve([Ud,Zn,Kue,w_,Jn],j9,{memoizeOptions:{resultEqualityCheck:rx}}),Yue=ve([N9,Jn,Dd],Md),Que=ve([Yue,Jn],E9),Xue=ve([_9,Jn,Dd],Md),Jue=ve([Xue,Jn],A9),Zue=ve([S9,Jn,Dd],Md),ede=ve([Zue,Jn],T9),tde=ve([Que,ede,Jue],Fy),nde=ve([Zn,ez,tz,Gue,Wue,tde,Gt,Jn],C9),Nm=ve([Zn,Gt,Ud,k_,Z0,Jn,nde],k9),rde=ve([Nm,Zn,C_],O9),ide=ve([Zn,Nm,rde,Jn],R9),nz=t=>{var e=Jn(t),n=Dd(t),r=!1;return bm(t,e,n,r)},rz=ve([Zn,nz],ex),iz=ve([Zn,C_,ide,rz],N_),ade=ve([Gt,k_,Zn,Jn],z9),sde=ve([Gt,k_,Zn,Jn],U9),ode=(t,e,n,r,i,o,c,u)=>{if(e){var{type:f}=e,h=po(t,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&i?.length>=2?na(i[0]-i[1])*2*g:g,h&&c?c.map((x,b)=>({coordinate:r(x)+g,value:x,index:b,offset:g})):r.domain().map((x,b)=>({coordinate:r(x)+g,value:o?o[x]:x,index:b,offset:g}))}}},wo=ve([Gt,Zn,C_,iz,nz,ade,sde,Jn],ode),I_=ve([$9,q9,yue],(t,e,n)=>H9(n.shared,t,e)),az=t=>t.tooltip.settings.trigger,O_=t=>t.tooltip.settings.defaultIndex,lx=ve([zd,I_,az,O_],Q9),Uh=ve([lx,Ud,xm,Nm],T_),sz=ve([wo,Uh],G9),lde=ve([lx],t=>{if(t)return t.dataKey}),oz=ve([zd,I_,az,O_],J9),cde=ve([go,yo,Gt,Er,wo,O_,oz,wm],X9),ude=ve([lx,cde],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),dde=ve([lx],t=>t.active),fde=ve([oz,Uh,Bl,xm,sz,wm,I_],Z9),hde=ve([fde],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(n),!0).forEach(function(r){mde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mde(t,e,n){return(e=pde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pde(t){var e=gde(t,"string");return typeof e=="symbol"?e:e+""}function gde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yde=()=>We(Zn),xde=()=>{var t=yde(),e=We(wo),n=We(iz);return wy(!t||!n?void 0:iP(iP({},t),{},{scale:n}),e)};function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){vde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vde(t,e,n){return(e=bde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bde(t){var e=wde(t,"string");return typeof e=="symbol"?e:e+""}function wde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jde=(t,e,n,r)=>{var i=e.find(o=>o&&o.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Nde=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var o=i.coordinate,{radius:c}=r;return Pu(Pu(Pu({},r),jr(r.cx,r.cy,c,o)),{},{angle:o,radius:c})}var u=i.coordinate,{angle:f}=r;return Pu(Pu(Pu({},r),jr(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function _de(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var lz=(t,e,n,r,i)=>{var o,c=-1,u=(o=e?.length)!==null&&o!==void 0?o:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var h=f>0?n[f-1].coordinate:n[u-1].coordinate,p=n[f].coordinate,g=f>=u-1?n[0].coordinate:n[f+1].coordinate,x=void 0;if(na(p-h)!==na(g-p)){var b=[];if(na(g-p)===na(i[1]-i[0])){x=g;var _=p+i[1]-i[0];b[0]=Math.min(_,(_+h)/2),b[1]=Math.max(_,(_+h)/2)}else{x=h;var S=g+i[1]-i[0];b[0]=Math.min(p,(S+p)/2),b[1]=Math.max(p,(S+p)/2)}var N=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(t>N[0]&&t<=N[1]||t>=b[0]&&t<=b[1]){({index:c}=n[f]);break}}else{var T=Math.min(h,g),O=Math.max(h,g);if(t>(T+p)/2&&t<=(O+p)/2){({index:c}=n[f]);break}}}else if(e){for(var C=0;C<u;C++)if(C===0&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C>0&&C<u-1&&t>(e[C].coordinate+e[C-1].coordinate)/2&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C===u-1&&t>(e[C].coordinate+e[C-1].coordinate)/2){({index:c}=e[C]);break}}return c},cz=()=>We(u_),R_=(t,e)=>e,uz=(t,e,n)=>n,P_=(t,e,n,r)=>r,Sde=ve(wo,t=>C0(t,e=>e.coordinate)),D_=ve([zd,R_,uz,P_],Q9),M_=ve([D_,Ud,xm,Nm],T_),Ede=(t,e,n)=>{if(e!=null){var r=zd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},dz=ve([zd,R_,uz,P_],J9),$y=ve([go,yo,Gt,Er,wo,P_,dz,wm],X9),Ade=ve([D_,$y],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),fz=ve([wo,M_],G9),Tde=ve([dz,M_,Bl,xm,fz,wm,R_],Z9),Cde=ve([D_,M_],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),kde=(t,e,n,r,i,o,c)=>{if(!(!t||!n||!r||!i)&&_de(t,c)){var u=tie(t,e),f=lz(u,o,i,n,r),h=jde(e,i,f,t);return{activeIndex:String(f),activeCoordinate:h}}},Ide=(t,e,n,r,i,o,c)=>{if(!(!t||!r||!i||!o||!n)){var u=fse(t,n);if(u){var f=nie(u,e),h=lz(f,c,o,r,i),p=Nde(e,o,h,u);return{activeIndex:String(h),activeCoordinate:p}}}},Ode=(t,e,n,r,i,o,c,u)=>{if(!(!t||!e||!r||!i||!o))return e==="horizontal"||e==="vertical"?kde(t,e,r,i,o,c,u):Ide(t,e,n,r,i,o,c)},Rde=ve(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Pde=ve(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Jr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:gce}});function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){Dde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dde(t,e,n){return(e=Mde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mde(t){var e=Lde(t,"string");return typeof e=="symbol"?e:e+""}function Lde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zde={},Ude={zIndexMap:Object.values(Jr).reduce((t,e)=>oP(oP({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),zde)},Vde=new Set(Object.values(Jr));function Bde(t){return Vde.has(t)}var hz=pi({name:"zIndex",initialState:Ude,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:sn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Bde(n)&&delete t.zIndexMap[n])},prepare:sn()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:sn()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:sn()}}}),{registerZIndexPortal:Fde,unregisterZIndexPortal:$de,registerZIndexPortalId:qde,unregisterZIndexPortalId:Hde}=hz.actions,Gde=hz.reducer;function jo(t){var{zIndex:e,children:n}=t,r=Mie(),i=r&&e!==void 0&&e!==0,o=gi(),c=ur();j.useLayoutEffect(()=>i?(c(Fde({zIndex:e})),()=>{c($de({zIndex:e}))}):am,[c,e,i]);var u=We(h=>Rde(h,e,o));if(!i)return n;if(!u)return null;var f=document.getElementById(u);return f?fN.createPortal(n,f):null}function $j(){return $j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$j.apply(null,arguments)}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){Kde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kde(t,e,n){return(e=Wde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wde(t){var e=Yde(t,"string");return typeof e=="symbol"?e:e+""}function Yde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qde(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return j.isValidElement(e)?j.cloneElement(e,r):j.createElement(n,r)}function Xde(t){var e,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:c,layout:u,cursor:f,tooltipEventType:h,chartName:p}=t,g=n,x=r,b=i;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var _,S,N;if(p==="ScatterChart")_=g,S=Sae,N=Jr.cursorLine;else if(p==="BarChart")_=Eae(u,g,o,c),S=nse,N=Jr.cursorRectangle;else if(u==="radial"&&V3(g)){var{cx:T,cy:O,radius:C,startAngle:M,endAngle:R}=tL(g);_={cx:T,cy:O,startAngle:M,endAngle:R,innerRadius:C,outerRadius:C},S=gse,N=Jr.cursorLine}else _={points:yse(u,g,o)},S=Rg,N=Jr.cursorLine;var F=typeof f=="object"&&"className"in f?f.className:void 0,E=hg(hg(hg(hg({stroke:"#ccc",pointerEvents:"none"},o),_),S0(f)),{},{payload:x,payloadIndex:b,className:Xt("recharts-tooltip-cursor",F)});return j.createElement(jo,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:N},j.createElement(Qde,{cursor:f,cursorComp:S,cursorProps:E}))}function Jde(t){var e=xde(),n=U5(),r=um(),i=cz();return e==null||n==null||r==null||i==null?null:j.createElement(Xde,$j({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var mz=j.createContext(null),Zde=()=>j.useContext(mz),Zw={exports:{}},cP;function efe(){return cP||(cP=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function o(f,h,p,g,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new i(p,g||f,x),_=n?n+h:h;return f._events[_]?f._events[_].fn?f._events[_]=[f._events[_],b]:f._events[_].push(b):(f._events[_]=b,f._eventsCount++),f}function c(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var x=0,b=g.length,_=new Array(b);x<b;x++)_[x]=g[x].fn;return _},u.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,p,g,x,b,_){var S=n?n+h:h;if(!this._events[S])return!1;var N=this._events[S],T=arguments.length,O,C;if(N.fn){switch(N.once&&this.removeListener(h,N.fn,void 0,!0),T){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,p),!0;case 3:return N.fn.call(N.context,p,g),!0;case 4:return N.fn.call(N.context,p,g,x),!0;case 5:return N.fn.call(N.context,p,g,x,b),!0;case 6:return N.fn.call(N.context,p,g,x,b,_),!0}for(C=1,O=new Array(T-1);C<T;C++)O[C-1]=arguments[C];N.fn.apply(N.context,O)}else{var M=N.length,R;for(C=0;C<M;C++)switch(N[C].once&&this.removeListener(h,N[C].fn,void 0,!0),T){case 1:N[C].fn.call(N[C].context);break;case 2:N[C].fn.call(N[C].context,p);break;case 3:N[C].fn.call(N[C].context,p,g);break;case 4:N[C].fn.call(N[C].context,p,g,x);break;default:if(!O)for(R=1,O=new Array(T-1);R<T;R++)O[R-1]=arguments[R];N[C].fn.apply(N[C].context,O)}}return!0},u.prototype.on=function(h,p,g){return o(this,h,p,g,!1)},u.prototype.once=function(h,p,g){return o(this,h,p,g,!0)},u.prototype.removeListener=function(h,p,g,x){var b=n?n+h:h;if(!this._events[b])return this;if(!p)return c(this,b),this;var _=this._events[b];if(_.fn)_.fn===p&&(!x||_.once)&&(!g||_.context===g)&&c(this,b);else{for(var S=0,N=[],T=_.length;S<T;S++)(_[S].fn!==p||x&&!_[S].once||g&&_[S].context!==g)&&N.push(_[S]);N.length?this._events[b]=N.length===1?N[0]:N:c(this,b)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(Zw)),Zw.exports}var tfe=efe();const nfe=bs(tfe);var Vh=new nfe,qj="recharts.syncEvent.tooltip",uP="recharts.syncEvent.brush";function rfe(t,e){if(e){var n=Number.parseInt(e,10);if(!La(n))return t?.[n]}}var ife={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},pz=pi({name:"options",initialState:ife,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),afe=pz.reducer,{createEventEmitter:sfe}=pz.actions;function ofe(t){return t.tooltip.syncInteraction}var lfe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},gz=pi({name:"chartData",initialState:lfe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:dP,setDataStartEndIndexes:cfe,setComputedData:Yye}=gz.actions,ufe=gz.reducer,dfe=["x","y"];function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Du(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){ffe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ffe(t,e,n){return(e=hfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hfe(t){var e=mfe(t,"string");return typeof e=="symbol"?e:e+""}function mfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pfe(t,e){if(t==null)return{};var n,r,i=gfe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yfe(){var t=We(d_),e=We(f_),n=ur(),r=We(ZL),i=We(wo),o=um(),c=F0(),u=We(f=>f.rootProps.className);j.useEffect(()=>{if(t==null)return am;var f=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var x;if(c&&p!==null&&p!==void 0&&(x=p.payload)!==null&&x!==void 0&&x.coordinate&&p.payload.sourceViewBox){var b=p.payload.coordinate,{x:_,y:S}=b,N=pfe(b,dfe),{x:T,y:O,width:C,height:M}=p.payload.sourceViewBox,R=Du(Du({},N),{},{x:c.x+(C?(_-T)/C:0)*c.width,y:c.y+(M?(S-O)/M:0)*c.height});n(Du(Du({},p),{},{payload:Du(Du({},p.payload),{},{coordinate:R})}))}else n(p);return}if(i!=null){var F;if(typeof r=="function"){var E={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},I=r(i,E);F=i[I]}else r==="value"&&(F=i.find(G=>String(G.value)===p.payload.label));var{coordinate:D}=p.payload;if(F==null||p.payload.active===!1||D==null||c==null){n(Bj({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:V,y:z}=D,$=Math.min(V,c.x+c.width),L=Math.min(z,c.y+c.height),se={x:o==="horizontal"?F.coordinate:$,y:o==="horizontal"?L:F.coordinate},Ne=Bj({active:p.payload.active,coordinate:se,dataKey:p.payload.dataKey,index:String(F.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});n(Ne)}}};return Vh.on(qj,f),()=>{Vh.off(qj,f)}},[u,n,e,t,r,i,o,c])}function xfe(){var t=We(d_),e=We(f_),n=ur();j.useEffect(()=>{if(t==null)return am;var r=(i,o,c)=>{e!==c&&t===i&&n(cfe(o))};return Vh.on(uP,r),()=>{Vh.off(uP,r)}},[n,e,t])}function vfe(){var t=ur();j.useEffect(()=>{t(sfe())},[t]),yfe(),xfe()}function bfe(t,e,n,r,i,o){var c=We(b=>Ede(b,t,e)),u=We(f_),f=We(d_),h=We(ZL),p=We(ofe),g=p?.active,x=F0();j.useEffect(()=>{if(!g&&f!=null&&u!=null){var b=Bj({active:o,coordinate:n,dataKey:c,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:x});Vh.emit(qj,f,b,u)}},[g,n,c,i,r,u,f,h,o,x])}function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){wfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wfe(t,e,n){return(e=jfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jfe(t){var e=Nfe(t,"string");return typeof e=="symbol"?e:e+""}function Nfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _fe(t){return t.dataKey}function Sfe(t,e){return j.isValidElement(t)?j.cloneElement(t,e):typeof t=="function"?j.createElement(t,e):j.createElement(rae,e)}var pP=[],Efe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Gc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Afe(t){var e,n,r=Li(t,Efe),{active:i,allowEscapeViewBox:o,animationDuration:c,animationEasing:u,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:x,position:b,reverseDirection:_,useTranslate3d:S,wrapperStyle:N,cursor:T,shared:O,trigger:C,defaultIndex:M,portal:R,axisId:F}=r,E=ur(),I=typeof M=="number"?String(M):M;j.useEffect(()=>{E(jue({shared:O,trigger:C,axisId:F,active:i,defaultIndex:I}))},[E,O,C,F,i,I]);var D=F0(),V=Y5(),z=gue(O),{activeIndex:$,isActive:L}=(e=We(de=>Cde(de,z,C,I)))!==null&&e!==void 0?e:{},se=We(de=>Tde(de,z,C,I)),Ne=We(de=>fz(de,z,C,I)),G=We(de=>Ade(de,z,C,I)),H=se,ee=Zde(),W=(n=i??L)!==null&&n!==void 0?n:!1,[K,B]=Bne([H,W]),J=z==="axis"?Ne:void 0;bfe(z,C,G,J,$,W);var ie=R??ee;if(ie==null||D==null||z==null)return null;var ye=H??pP;W||(ye=pP),h&&ye.length&&(ye=hne(ye.filter(de=>de.value!=null&&(de.hide!==!0||r.includeHidden)),x,_fe));var ke=ye.length>0,Le=j.createElement(uae,{allowEscapeViewBox:o,animationDuration:c,animationEasing:u,isAnimationActive:p,active:W,coordinate:G,hasPayload:ke,offset:g,position:b,reverseDirection:_,useTranslate3d:S,viewBox:D,wrapperStyle:N,lastBoundingBox:K,innerRef:B,hasPortalFromProps:!!R},Sfe(f,mP(mP({},r),{},{payload:ye,label:J,active:W,activeIndex:$,coordinate:G,accessibilityLayer:V})));return j.createElement(j.Fragment,null,fN.createPortal(Le,ie),W&&j.createElement(Jde,{cursor:T,tooltipEventType:z,coordinate:G,payload:ye,index:$}))}function Tfe(t,e,n){return(e=Cfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cfe(t){var e=kfe(t,"string");return typeof e=="symbol"?e:e+""}function kfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ife{constructor(e){Tfe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ofe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){Rfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rfe(t,e,n){return(e=Pfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pfe(t){var e=Dfe(t,"string");return typeof e=="symbol"?e:e+""}function Dfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mfe={cacheSize:2e3,enableCache:!0},yz=Ofe({},Mfe),yP=new Ife(yz.cacheSize),Lfe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xP="recharts_measurement_span";function zfe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",c=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(c,"|").concat(u)}var vP=(t,e)=>{try{var n=document.getElementById(xP);n||(n=document.createElement("span"),n.setAttribute("id",xP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Lfe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},mh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Gc.isSsr)return{width:0,height:0};if(!yz.enableCache)return vP(e,n);var r=zfe(e,n),i=yP.get(r);if(i)return i;var o=vP(e,n);return yP.set(r,o),o},bP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ufe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Vfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Bfe=Object.keys(xz),Gu="NaN";function Ffe(t,e){return t*xz[e]}class ui{static parse(e){var n,[,r,i]=(n=Vfe.exec(e))!==null&&n!==void 0?n:[];return new ui(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,La(e)&&(this.unit=""),n!==""&&!Ufe.test(n)&&(this.num=NaN,this.unit=""),Bfe.includes(n)&&(this.num=Ffe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ui(NaN,""):new ui(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ui(NaN,""):new ui(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ui(NaN,""):new ui(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ui(NaN,""):new ui(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return La(this.num)}}function vz(t){if(t.includes(Gu))return Gu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=bP.exec(e))!==null&&n!==void 0?n:[],c=ui.parse(r??""),u=ui.parse(o??""),f=i==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Gu;e=e.replace(bP,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,x]=(h=wP.exec(e))!==null&&h!==void 0?h:[],b=ui.parse(p??""),_=ui.parse(x??""),S=g==="+"?b.add(_):b.subtract(_);if(S.isNaN())return Gu;e=e.replace(wP,S.toString())}return e}var jP=/\(([^()]*)\)/;function $fe(t){for(var e=t,n;(n=jP.exec(e))!=null;){var[,r]=n;e=e.replace(jP,vz(r))}return e}function qfe(t){var e=t.replace(/\s+/g,"");return e=$fe(e),e=vz(e),e}function Hfe(t){try{return qfe(t)}catch{return Gu}}function e1(t){var e=Hfe(t.slice(5,-1));return e===Gu?"":e}var Gfe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Kfe=["dx","dy","angle","className","breakAll"];function Hj(){return Hj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hj.apply(null,arguments)}function NP(t,e){if(t==null)return{};var n,r,i=Wfe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bz=/[ \f\n\r\t\v\u2028\u2029]+/,wz=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];_r(e)||(n?i=e.toString().split(""):i=e.toString().split(bz));var o=i.map(u=>({word:u,width:mh(u,r).width})),c=n?0:mh("",r).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}};function Yfe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var jz=(t,e,n,r)=>t.reduce((i,o)=>{var{word:c,width:u}=o,f=i[i.length-1];if(f&&u!=null&&(e==null||r||f.width+u+n<Number(e)))f.words.push(c),f.width+=u+n;else{var h={words:[c],width:u};i.push(h)}return i},[]),Nz=t=>t.reduce((e,n)=>e.width>n.width?e:n),Qfe="",_P=(t,e,n,r,i,o,c,u)=>{var f=t.slice(0,e),h=wz({breakAll:n,style:r,children:f+Qfe});if(!h)return[!1,[]];var p=jz(h.wordsWithComputedWidth,o,c,u),g=p.length>i||Nz(p).width>Number(o);return[g,p]},Xfe=(t,e,n,r,i)=>{var{maxLines:o,children:c,style:u,breakAll:f}=t,h=Ge(o),p=String(c),g=jz(e,r,n,i);if(!h||i)return g;var x=g.length>o||Nz(g).width>Number(r);if(!x)return g;for(var b=0,_=p.length-1,S=0,N;b<=_&&S<=p.length-1;){var T=Math.floor((b+_)/2),O=T-1,[C,M]=_P(p,O,f,u,o,r,n,i),[R]=_P(p,T,f,u,o,r,n,i);if(!C&&!R&&(b=T+1),C&&R&&(_=T-1),!C&&R){N=M;break}S++}return N||g},SP=t=>{var e=_r(t)?[]:t.toString().split(bz);return[{words:e,width:void 0}]},Jfe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:c}=t;if((e||n)&&!Gc.isSsr){var u,f,h=wz({breakAll:o,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;u=p,f=g}else return SP(r);return Xfe({breakAll:o,children:r,maxLines:c,style:i},u,f,e,!!n)}return SP(r)},_z="#808080",Zfe={angle:0,breakAll:!1,capHeight:"0.71em",fill:_z,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},L_=j.forwardRef((t,e)=>{var n=Li(t,Zfe),{x:r,y:i,lineHeight:o,capHeight:c,fill:u,scaleToFit:f,textAnchor:h,verticalAnchor:p}=n,g=NP(n,Gfe),x=j.useMemo(()=>Jfe({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:b,dy:_,angle:S,className:N,breakAll:T}=g,O=NP(g,Kfe);if(!gs(r)||!gs(i)||x.length===0)return null;var C=Number(r)+(Ge(b)?b:0),M=Number(i)+(Ge(_)?_:0);if(!jn(C)||!jn(M))return null;var R;switch(p){case"start":R=e1("calc(".concat(c,")"));break;case"middle":R=e1("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:R=e1("calc(".concat(x.length-1," * -").concat(o,")"));break}var F=[];if(f){var E=x[0].width,{width:I}=g;F.push("scale(".concat(Ge(I)&&Ge(E)?I/E:1,")"))}return S&&F.push("rotate(".concat(S,", ").concat(C,", ").concat(M,")")),F.length&&(O.transform=F.join(" ")),j.createElement("text",Hj({},sa(O),{ref:e,x:C,y:M,className:Xt("recharts-text",N),textAnchor:h,fill:u.includes("url")?_z:u}),x.map((D,V)=>{var z=D.words.join(T?"":" ");return j.createElement("tspan",{x:C,dy:V===0?R:o,key:"".concat(z,"-").concat(V)},z)}))});L_.displayName="Text";var ehe=["labelRef"];function the(t,e){if(t==null)return{};var n,r,i=nhe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){rhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rhe(t,e,n){return(e=ihe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ihe(t){var e=ahe(t,"string");return typeof e=="symbol"?e:e+""}function ahe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ks(){return Ks=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ks.apply(null,arguments)}var Sz=j.createContext(null),she=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:c,children:u}=t,f=j.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:c}),[e,n,r,i,o,c]);return j.createElement(Sz.Provider,{value:f},u)},Ez=()=>{var t=j.useContext(Sz),e=F0();return t||z5(e)},ohe=j.createContext(null),lhe=()=>{var t=j.useContext(ohe),e=We(i9);return t||e},che=t=>{var{value:e,formatter:n}=t,r=_r(t.children)?e:t.children;return typeof n=="function"?n(r):r},z_=t=>t!=null&&typeof t=="function",uhe=(t,e)=>{var n=na(e-t),r=Math.min(Math.abs(e-t),360);return n*r},dhe=(t,e,n,r,i)=>{var{offset:o,className:c}=t,{cx:u,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:x,clockWise:b}=i,_=(h+p)/2,S=uhe(g,x),N=S>=0?1:-1,T,O;switch(e){case"insideStart":T=g+N*o,O=b;break;case"insideEnd":T=x-N*o,O=!b;break;case"end":T=x+N*o,O=b;break;default:throw new Error("Unsupported position ".concat(e))}O=S<=0?O:!O;var C=jr(u,f,_,T),M=jr(u,f,_,T+(O?1:-1)*359),R="M".concat(C.x,",").concat(C.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(O?0:1,`,
    `).concat(M.x,",").concat(M.y),F=_r(t.id)?Eh("recharts-radial-line-"):t.id;return j.createElement("text",Ks({},r,{dominantBaseline:"central",className:Xt("recharts-radial-bar-label",c)}),j.createElement("defs",null,j.createElement("path",{id:F,d:R})),j.createElement("textPath",{xlinkHref:"#".concat(F)},n))},fhe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:c,startAngle:u,endAngle:f}=t,h=(u+f)/2;if(n==="outside"){var{x:p,y:g}=jr(r,i,c+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var x=(o+c)/2,{x:b,y:_}=jr(r,i,x,h);return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Gj=t=>"cx"in t&&Ge(t.cx),hhe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,o;n!=null&&!Gj(n)&&(o=n);var{x:c,y:u,upperWidth:f,lowerWidth:h,height:p}=e,g=c,x=c+(f-h)/2,b=(g+x)/2,_=(f+h)/2,S=g+f/2,N=p>=0?1:-1,T=N*r,O=N>0?"end":"start",C=N>0?"start":"end",M=f>=0?1:-1,R=M*r,F=M>0?"end":"start",E=M>0?"start":"end";if(i==="top"){var I={x:g+f/2,y:u-T,textAnchor:"middle",verticalAnchor:O};return Tn(Tn({},I),o?{height:Math.max(u-o.y,0),width:f}:{})}if(i==="bottom"){var D={x:x+h/2,y:u+p+T,textAnchor:"middle",verticalAnchor:C};return Tn(Tn({},D),o?{height:Math.max(o.y+o.height-(u+p),0),width:h}:{})}if(i==="left"){var V={x:b-R,y:u+p/2,textAnchor:F,verticalAnchor:"middle"};return Tn(Tn({},V),o?{width:Math.max(V.x-o.x,0),height:p}:{})}if(i==="right"){var z={x:b+_+R,y:u+p/2,textAnchor:E,verticalAnchor:"middle"};return Tn(Tn({},z),o?{width:Math.max(o.x+o.width-z.x,0),height:p}:{})}var $=o?{width:_,height:p}:{};return i==="insideLeft"?Tn({x:b+R,y:u+p/2,textAnchor:E,verticalAnchor:"middle"},$):i==="insideRight"?Tn({x:b+_-R,y:u+p/2,textAnchor:F,verticalAnchor:"middle"},$):i==="insideTop"?Tn({x:g+f/2,y:u+T,textAnchor:"middle",verticalAnchor:C},$):i==="insideBottom"?Tn({x:x+h/2,y:u+p-T,textAnchor:"middle",verticalAnchor:O},$):i==="insideTopLeft"?Tn({x:g+R,y:u+T,textAnchor:E,verticalAnchor:C},$):i==="insideTopRight"?Tn({x:g+f-R,y:u+T,textAnchor:F,verticalAnchor:C},$):i==="insideBottomLeft"?Tn({x:x+R,y:u+p-T,textAnchor:E,verticalAnchor:O},$):i==="insideBottomRight"?Tn({x:x+h-R,y:u+p-T,textAnchor:F,verticalAnchor:O},$):i&&typeof i=="object"&&(Ge(i.x)||oo(i.x))&&(Ge(i.y)||oo(i.y))?Tn({x:c+Rl(i.x,_),y:u+Rl(i.y,p),textAnchor:"end",verticalAnchor:"end"},$):Tn({x:S,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},$)},mhe={angle:0,offset:5,zIndex:Jr.label,position:"middle",textBreakAll:!1};function sl(t){var e=Li(t,mhe),{viewBox:n,position:r,value:i,children:o,content:c,className:u="",textBreakAll:f,labelRef:h}=e,p=lhe(),g=Ez(),x=r==="center"?g:p??g,b,_,S;if(n==null?b=x:Gj(n)?b=n:b=z5(n),!b||_r(i)&&_r(o)&&!j.isValidElement(c)&&typeof c!="function")return null;var N=Tn(Tn({},e),{},{viewBox:b});if(j.isValidElement(c)){var{labelRef:T}=N,O=the(N,ehe);return j.cloneElement(c,O)}if(typeof c=="function"){if(_=j.createElement(c,N),j.isValidElement(_))return _}else _=che(e);var C=sa(e);if(Gj(b)){if(r==="insideStart"||r==="insideEnd"||r==="end")return dhe(e,r,_,C,b);S=fhe(b,e.offset,e.position)}else S=hhe(e,b);return j.createElement(jo,{zIndex:e.zIndex},j.createElement(L_,Ks({ref:h,className:Xt("recharts-label",u)},C,S,{textAnchor:Yfe(C.textAnchor)?C.textAnchor:S.textAnchor,breakAll:f}),_))}sl.displayName="Label";var phe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?j.createElement(sl,Ks({key:"label-implicit"},r)):gs(t)?j.createElement(sl,Ks({key:"label-implicit",value:t},r)):j.isValidElement(t)?t.type===sl?j.cloneElement(t,Tn({key:"label-implicit"},r)):j.createElement(sl,Ks({key:"label-implicit",content:t},r)):z_(t)?j.createElement(sl,Ks({key:"label-implicit",content:t},r)):t&&typeof t=="object"?j.createElement(sl,Ks({},t,{key:"label-implicit"},r)):null};function ghe(t){var{label:e,labelRef:n}=t,r=Ez();return phe(e,r,n)||null}var t1={},n1={},AP;function yhe(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(n1)),n1}var r1={},TP;function xhe(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(r1)),r1}var CP;function vhe(){return CP||(CP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yhe(),n=xhe(),r=S2();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(t1)),t1}var i1,kP;function bhe(){return kP||(kP=1,i1=vhe().last),i1}var whe=bhe();const jhe=bs(whe);var Nhe=["valueAccessor"],_he=["dataKey","clockWise","id","textBreakAll","zIndex"];function qy(){return qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qy.apply(null,arguments)}function IP(t,e){if(t==null)return{};var n,r,i=She(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function She(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ehe=t=>Array.isArray(t.value)?jhe(t.value):t.value,Az=j.createContext(void 0),Ahe=Az.Provider,Tz=j.createContext(void 0);Tz.Provider;function The(){return j.useContext(Az)}function Che(){return j.useContext(Tz)}function Dg(t){var{valueAccessor:e=Ehe}=t,n=IP(t,Nhe),{dataKey:r,clockWise:i,id:o,textBreakAll:c,zIndex:u}=n,f=IP(n,_he),h=The(),p=Che(),g=h||p;return!g||!g.length?null:j.createElement(jo,{zIndex:u??Jr.label},j.createElement(ps,{className:"recharts-label-list"},g.map((x,b)=>{var _,S=_r(r)?e(x,b):Dr(x&&x.payload,r),N=_r(o)?{}:{id:"".concat(o,"-").concat(b)};return j.createElement(sl,qy({key:"label-".concat(b)},sa(x),f,N,{fill:(_=n.fill)!==null&&_!==void 0?_:x.fill,parentViewBox:x.parentViewBox,value:S,textBreakAll:c,viewBox:x.viewBox,index:b,zIndex:0}))})))}Dg.displayName="LabelList";function khe(t){var{label:e}=t;return e?e===!0?j.createElement(Dg,{key:"labelList-implicit"}):j.isValidElement(e)||z_(e)?j.createElement(Dg,{key:"labelList-implicit",content:e}):typeof e=="object"?j.createElement(Dg,qy({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function Kj(){return Kj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kj.apply(null,arguments)}var Cz=t=>{var{cx:e,cy:n,r,className:i}=t,o=Xt("recharts-dot",i);return Ge(e)&&Ge(n)&&Ge(r)?j.createElement("circle",Kj({},Ma(t),_2(t),{className:o,cx:e,cy:n,r})):null},Ihe={radiusAxis:{},angleAxis:{}},kz=pi({name:"polarAxis",initialState:Ihe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Qye,removeRadiusAxis:Xye,addAngleAxis:Jye,removeAngleAxis:Zye}=kz.actions,Ohe=kz.reducer,a1={exports:{}},Ct={};var OP;function Rhe(){if(OP)return Ct;OP=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,c=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,f=t?Symbol.for("react.async_mode"):60111,h=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,g=t?Symbol.for("react.suspense"):60113,x=t?Symbol.for("react.suspense_list"):60120,b=t?Symbol.for("react.memo"):60115,_=t?Symbol.for("react.lazy"):60116,S=t?Symbol.for("react.block"):60121,N=t?Symbol.for("react.fundamental"):60117,T=t?Symbol.for("react.responder"):60118,O=t?Symbol.for("react.scope"):60119;function C(R){if(typeof R=="object"&&R!==null){var F=R.$$typeof;switch(F){case e:switch(R=R.type,R){case f:case h:case r:case o:case i:case g:return R;default:switch(R=R&&R.$$typeof,R){case u:case p:case _:case b:case c:return R;default:return F}}case n:return F}}}function M(R){return C(R)===h}return Ct.AsyncMode=f,Ct.ConcurrentMode=h,Ct.ContextConsumer=u,Ct.ContextProvider=c,Ct.Element=e,Ct.ForwardRef=p,Ct.Fragment=r,Ct.Lazy=_,Ct.Memo=b,Ct.Portal=n,Ct.Profiler=o,Ct.StrictMode=i,Ct.Suspense=g,Ct.isAsyncMode=function(R){return M(R)||C(R)===f},Ct.isConcurrentMode=M,Ct.isContextConsumer=function(R){return C(R)===u},Ct.isContextProvider=function(R){return C(R)===c},Ct.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===e},Ct.isForwardRef=function(R){return C(R)===p},Ct.isFragment=function(R){return C(R)===r},Ct.isLazy=function(R){return C(R)===_},Ct.isMemo=function(R){return C(R)===b},Ct.isPortal=function(R){return C(R)===n},Ct.isProfiler=function(R){return C(R)===o},Ct.isStrictMode=function(R){return C(R)===i},Ct.isSuspense=function(R){return C(R)===g},Ct.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===r||R===h||R===o||R===i||R===g||R===x||typeof R=="object"&&R!==null&&(R.$$typeof===_||R.$$typeof===b||R.$$typeof===c||R.$$typeof===u||R.$$typeof===p||R.$$typeof===N||R.$$typeof===T||R.$$typeof===O||R.$$typeof===S)},Ct.typeOf=C,Ct}var RP;function Phe(){return RP||(RP=1,a1.exports=Rhe()),a1.exports}Phe();var Iz=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0;function Dhe(t){var{tooltipEntrySettings:e}=t,n=ur(),r=gi(),i=j.useRef(null);return j.useLayoutEffect(()=>{r||(i.current===null?n(vue(e)):i.current!==e&&n(bue({prev:i.current,next:e})),i.current=e)},[e,n,r]),j.useLayoutEffect(()=>()=>{i.current&&(n(wue(i.current)),i.current=null)},[n]),null}function Mhe(t){var{legendPayload:e}=t,n=ur(),r=gi(),i=j.useRef(null);return j.useLayoutEffect(()=>{r||(i.current===null?n(Yie(e)):i.current!==e&&n(Qie({prev:i.current,next:e})),i.current=e)},[n,r,e]),j.useLayoutEffect(()=>()=>{i.current&&(n(Xie(i.current)),i.current=null)},[n]),null}var s1,Lhe=()=>{var[t]=j.useState(()=>Eh("uid-"));return t},zhe=(s1=$8.useId)!==null&&s1!==void 0?s1:Lhe;function Oz(t,e){var n=zhe();return e||(t?"".concat(t,"-").concat(n):n)}var Uhe=j.createContext(void 0),Vhe=t=>{var{id:e,type:n,children:r}=t,i=Oz("recharts-".concat(n),e);return j.createElement(Uhe.Provider,{value:i},r(i))},Bhe={cartesianItems:[],polarItems:[]},Rz=pi({name:"graphicalItems",initialState:Bhe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:sn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Oa(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:sn()},removeCartesianGraphicalItem:{reducer(t,e){var n=Oa(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:sn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:sn()},removePolarGraphicalItem:{reducer(t,e){var n=Oa(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:sn()}}}),{addCartesianGraphicalItem:Fhe,replaceCartesianGraphicalItem:$he,removeCartesianGraphicalItem:qhe,addPolarGraphicalItem:e0e,removePolarGraphicalItem:t0e}=Rz.actions,Hhe=Rz.reducer,Ghe=t=>{var e=ur(),n=j.useRef(null);return j.useLayoutEffect(()=>{n.current===null?e(Fhe(t)):n.current!==t&&e($he({prev:n.current,next:t})),n.current=t},[e,t]),j.useLayoutEffect(()=>()=>{n.current&&(e(qhe(n.current)),n.current=null)},[e]),null},Khe=j.memo(Ghe),Whe=["points"];function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){Yhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yhe(t,e,n){return(e=Qhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qhe(t){var e=Xhe(t,"string");return typeof e=="symbol"?e:e+""}function Xhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hy.apply(null,arguments)}function Jhe(t,e){if(t==null)return{};var n,r,i=Zhe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function eme(t){var{option:e,dotProps:n,className:r}=t;if(j.isValidElement(e))return j.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Xt(r,typeof e!="boolean"?e.className:""),o=n??{},{points:c}=o,u=Jhe(o,Whe);return j.createElement(Cz,Hy({},u,{className:i}))}function tme(t,e){return t==null?!1:e?!0:t.length===1}function nme(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:c,needClip:u,clipPathId:f,zIndex:h=Jr.scatter}=t;if(!tme(e,n))return null;var p=Iz(n),g=ote(n),x=e.map((_,S)=>{var N,T,O=o1(o1(o1({r:3},c),g),{},{index:S,cx:(N=_.x)!==null&&N!==void 0?N:void 0,cy:(T=_.y)!==null&&T!==void 0?T:void 0,dataKey:o,value:_.value,payload:_.payload,points:e});return j.createElement(eme,{key:"dot-".concat(S),option:n,dotProps:O,className:i})}),b={};return u&&f!=null&&(b.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),j.createElement(jo,{zIndex:h},j.createElement(ps,Hy({className:r},b),x))}function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){rme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rme(t,e,n){return(e=ime(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ime(t){var e=ame(t,"string");return typeof e=="symbol"?e:e+""}function ame(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sme={xAxis:{},yAxis:{},zAxis:{}},Pz=pi({name:"cartesianAxis",initialState:sme,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:sn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:sn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:sn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:sn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:sn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:sn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:sn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:sn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:sn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var c=[...o,r].slice(-3);t.yAxis[n]=MP(MP({},t.yAxis[n]),{},{width:r,widthHistory:c})}}}}),{addXAxis:ome,replaceXAxis:lme,removeXAxis:cme,addYAxis:ume,replaceYAxis:dme,removeYAxis:fme,addZAxis:n0e,replaceZAxis:r0e,removeZAxis:i0e,updateYAxisWidth:hme}=Pz.actions,mme=Pz.reducer,pme=ve([Er],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),gme=ve([pme,go,yo],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),U_=()=>We(gme),yme=()=>We(hde);function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(r){xme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xme(t,e,n){return(e=vme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vme(t){var e=bme(t,"string");return typeof e=="symbol"?e:e+""}function bme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wme=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:c}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=l1(l1(l1({},u),S0(i)),_2(i)),h;return j.isValidElement(i)?h=j.cloneElement(i,f):typeof i=="function"?h=i(f):h=j.createElement(Cz,f),j.createElement(ps,{className:"recharts-active-dot",clipPath:c},h)};function zP(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:c=Jr.activeDot}=t,u=We(Uh),f=yme();if(e==null||f==null)return null;var h=e.find(p=>f.includes(p.payload));return _r(h)?null:j.createElement(jo,{zIndex:c},j.createElement(wme,{point:h,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}var jme={},Dz=pi({name:"errorBars",initialState:jme,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:a0e,replaceErrorBar:s0e,removeErrorBar:o0e}=Dz.actions,Nme=Dz.reducer;function Mz(t,e){var n,r,i=We(h=>vo(h,t)),o=We(h=>bo(h,e)),c=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:sr.allowDataOverflow,u=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:or.allowDataOverflow,f=c||u;return{needClip:f,needClipX:c,needClipY:u}}function _me(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=U_(),{needClipX:o,needClipY:c,needClip:u}=Mz(e,n);if(!u||!i)return null;var{x:f,y:h,width:p,height:g}=i;return j.createElement("clipPath",{id:"clipPath-".concat(r)},j.createElement("rect",{x:o?f:f-p/2,y:c?h:h-g/2,width:o?p:p*2,height:c?g:g*2}))}var c1={exports:{}},u1={};var UP;function Sme(){if(UP)return u1;UP=1;var t=Sd();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,c=t.useMemo,u=t.useDebugValue;return u1.useSyncExternalStoreWithSelector=function(f,h,p,g,x){var b=i(null);if(b.current===null){var _={hasValue:!1,value:null};b.current=_}else _=b.current;b=c(function(){function N(R){if(!T){if(T=!0,O=R,R=g(R),x!==void 0&&_.hasValue){var F=_.value;if(x(F,R))return C=F}return C=R}if(F=C,n(O,R))return F;var E=g(R);return x!==void 0&&x(F,E)?(O=R,F):(O=R,C=E)}var T=!1,O,C,M=p===void 0?null:p;return[function(){return N(h())},M===null?void 0:function(){return N(M())}]},[h,p,g,x]);var S=r(f,b[0],b[1]);return o(function(){_.hasValue=!0,_.value=S},[S]),u(S),S},u1}var VP;function Eme(){return VP||(VP=1,c1.exports=Sme()),c1.exports}Eme();function Ame(t){t()}function Tme(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Ame(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var BP={notify(){},get:()=>[]};function Cme(t,e){let n,r=BP,i=0,o=!1;function c(S){p();const N=r.subscribe(S);let T=!1;return()=>{T||(T=!0,N(),g())}}function u(){r.notify()}function f(){_.onStateChange&&_.onStateChange()}function h(){return o}function p(){i++,n||(n=t.subscribe(f),r=Tme())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=BP)}function x(){o||(o=!0,p())}function b(){o&&(o=!1,g())}const _={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:h,trySubscribe:x,tryUnsubscribe:b,getListeners:()=>r};return _}var kme=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ime=kme(),Ome=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Rme=Ome(),Pme=()=>Ime||Rme?j.useLayoutEffect:j.useEffect,Dme=Pme();function FP(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Mme(t,e){if(FP(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!FP(t[n[i]],e[n[i]]))return!1;return!0}var Lme=Symbol.for("react-redux-context"),zme=typeof globalThis<"u"?globalThis:{};function Ume(){if(!j.createContext)return{};const t=zme[Lme]??=new Map;let e=t.get(j.createContext);return e||(e=j.createContext(null),t.set(j.createContext,e)),e}var Vme=Ume();function Bme(t){const{children:e,context:n,serverState:r,store:i}=t,o=j.useMemo(()=>{const f=Cme(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),c=j.useMemo(()=>i.getState(),[i]);Dme(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,c]);const u=n||Vme;return j.createElement(u.Provider,{value:o},e)}var Fme=Bme,$me=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function qme(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function V_(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if($me.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Mme(t[r],e[r]))return!1}else if(!qme(t[r],e[r]))return!1;return!0}var Hme=t=>{var{chartData:e}=t,n=ur(),r=gi();return j.useEffect(()=>r?()=>{}:(n(dP(e)),()=>{n(dP(void 0))}),[e,n,r]),null},$P={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Lz=pi({name:"brush",initialState:$P,reducers:{setBrushSettings(t,e){return e.payload==null?$P:e.payload}}}),{setBrushSettings:l0e}=Lz.actions,Gme=Lz.reducer;function Kme(t,e,n){return(e=Wme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wme(t){var e=Yme(t,"string");return typeof e=="symbol"?e:e+""}function Yme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class B_{static create(e){return new B_(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+c}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Kme(B_,"EPS",1e-4);function Qme(t){return(t%180+180)%180}var Xme=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Qme(i),c=o*Math.PI/180,u=Math.atan(r/n),f=c>u&&c<Math.PI-u?r/Math.sin(c):n/Math.cos(c);return Math.abs(f)},Jme={dots:[],areas:[],lines:[]},zz=pi({name:"referenceElements",initialState:Jme,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Oa(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Oa(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Oa(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:c0e,removeDot:u0e,addArea:d0e,removeArea:f0e,addLine:h0e,removeLine:m0e}=zz.actions,Zme=zz.reducer,epe=j.createContext(void 0),tpe=t=>{var{children:e}=t,[n]=j.useState("".concat(Eh("recharts"),"-clip")),r=U_();if(r==null)return null;var{x:i,y:o,width:c,height:u}=r;return j.createElement(epe.Provider,{value:n},j.createElement("defs",null,j.createElement("clipPath",{id:n},j.createElement("rect",{x:i,y:o,height:u,width:c}))),e)};function Uz(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function npe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Xme(r,n)}function rpe(t,e,n){var r=n==="width",{x:i,y:o,width:c,height:u}=t;return e===1?{start:r?i:o,end:r?i+c:o+u}:{start:r?i+c:o+u,end:r?i:o}}function Gy(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function ipe(t,e){return Uz(t,e+1)}function ape(t,e,n,r,i){for(var o=(r||[]).slice(),{start:c,end:u}=e,f=0,h=1,p=c,g=function(){var _=r?.[f];if(_===void 0)return{v:Uz(r,h)};var S=f,N,T=()=>(N===void 0&&(N=n(_,S)),N),O=_.coordinate,C=f===0||Gy(t,O,T,p,u);C||(f=0,p=c,h+=1),C&&(p=O+t*(T()/2+i),f+=h)},x;h<=o.length;)if(x=g(),x)return x.v;return[]}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){spe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function spe(t,e,n){return(e=ope(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ope(t){var e=lpe(t,"string");return typeof e=="symbol"?e:e+""}function lpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cpe(t,e,n,r,i){for(var o=(r||[]).slice(),c=o.length,{start:u}=e,{end:f}=e,h=function(x){var b=o[x],_,S=()=>(_===void 0&&(_=n(b,x)),_);if(x===c-1){var N=t*(b.coordinate+t*S()/2-f);o[x]=b=kr(kr({},b),{},{tickCoord:N>0?b.coordinate-N*t:b.coordinate})}else o[x]=b=kr(kr({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var T=Gy(t,b.tickCoord,S,u,f);T&&(f=b.tickCoord-t*(S()/2+i),o[x]=kr(kr({},b),{},{isShow:!0}))}},p=c-1;p>=0;p--)h(p);return o}function upe(t,e,n,r,i,o){var c=(r||[]).slice(),u=c.length,{start:f,end:h}=e;if(o){var p=r[u-1],g=n(p,u-1),x=t*(p.coordinate+t*g/2-h);if(c[u-1]=p=kr(kr({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate}),p.tickCoord!=null){var b=Gy(t,p.tickCoord,()=>g,f,h);b&&(h=p.tickCoord-t*(g/2+i),c[u-1]=kr(kr({},p),{},{isShow:!0}))}}for(var _=o?u-1:u,S=function(O){var C=c[O],M,R=()=>(M===void 0&&(M=n(C,O)),M);if(O===0){var F=t*(C.coordinate-t*R()/2-f);c[O]=C=kr(kr({},C),{},{tickCoord:F<0?C.coordinate-F*t:C.coordinate})}else c[O]=C=kr(kr({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var E=Gy(t,C.tickCoord,R,f,h);E&&(f=C.tickCoord+t*(R()/2+i),c[O]=kr(kr({},C),{},{isShow:!0}))}},N=0;N<_;N++)S(N);return c}function F_(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:c,orientation:u,interval:f,tickFormatter:h,unit:p,angle:g}=t;if(!i||!i.length||!r)return[];if(Ge(f)||Gc.isSsr){var x;return(x=ipe(i,Ge(f)?f:0))!==null&&x!==void 0?x:[]}var b=[],_=u==="top"||u==="bottom"?"width":"height",S=p&&_==="width"?mh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},N=(C,M)=>{var R=typeof h=="function"?h(C.value,M):C.value;return _==="width"?npe(mh(R,{fontSize:e,letterSpacing:n}),S,g):mh(R,{fontSize:e,letterSpacing:n})[_]},T=i.length>=2?na(i[1].coordinate-i[0].coordinate):1,O=rpe(o,T,_);return f==="equidistantPreserveStart"?ape(T,O,N,i,c):(f==="preserveStart"||f==="preserveStartEnd"?b=upe(T,O,N,i,c,f==="preserveStartEnd"):b=cpe(T,O,N,i,c),b.filter(C=>C.isShow))}var dpe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,c=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>c&&(c=g.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+o,h=c+f+u+(n?r:0);return Math.round(h)}return 0},fpe=["axisLine","width","height","className","hide","ticks","axisType"];function hpe(t,e){if(t==null)return{};var n,r,i=mpe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Uc(){return Uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uc.apply(null,arguments)}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){ppe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ppe(t,e,n){return(e=gpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gpe(t){var e=ype(t,"string");return typeof e=="symbol"?e:e+""}function ype(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ro={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Jr.axis};function xpe(t){var{x:e,y:n,width:r,height:i,orientation:o,mirror:c,axisLine:u,otherSvgProps:f}=t;if(!u)return null;var h=Bn(Bn(Bn({},f),Ma(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var p=+(o==="top"&&!c||o==="bottom"&&c);h=Bn(Bn({},h),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var g=+(o==="left"&&!c||o==="right"&&c);h=Bn(Bn({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return j.createElement("line",Uc({},h,{className:Xt("recharts-cartesian-axis-line",T0(u,"className"))}))}function vpe(t,e,n,r,i,o,c,u,f){var h,p,g,x,b,_,S=u?-1:1,N=t.tickSize||c,T=Ge(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":h=p=t.coordinate,x=n+ +!u*i,g=x-S*N,_=g-S*f,b=T;break;case"left":g=x=t.coordinate,p=e+ +!u*r,h=p-S*N,b=h-S*f,_=T;break;case"right":g=x=t.coordinate,p=e+ +u*r,h=p+S*N,b=h+S*f,_=T;break;default:h=p=t.coordinate,x=n+ +u*i,g=x+S*N,_=g+S*f,b=T;break}return{line:{x1:h,y1:g,x2:p,y2:x},tick:{x:b,y:_}}}function bpe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function wpe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function jpe(t){var{option:e,tickProps:n,value:r}=t,i,o=Xt(n.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(e))i=j.cloneElement(e,Bn(Bn({},n),{},{className:o}));else if(typeof e=="function")i=e(Bn(Bn({},n),{},{className:o}));else{var c="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(c=Xt(c,e?.className)),i=j.createElement(L_,Uc({},n,{className:c}),r)}return i}var Npe=j.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:c,unit:u,padding:f,tickTextProps:h,orientation:p,mirror:g,x,y:b,width:_,height:S,tickSize:N,tickMargin:T,fontSize:O,letterSpacing:C,getTicksConfig:M,events:R,axisType:F}=t,E=F_(Bn(Bn({},M),{},{ticks:n}),O,C),I=bpe(p,g),D=wpe(p,g),V=Ma(M),z=S0(r),$={};typeof i=="object"&&($=i);var L=Bn(Bn({},V),{},{fill:"none"},$),se=E.map(H=>Bn({entry:H},vpe(H,x,b,_,S,p,N,g,T))),Ne=se.map(H=>{var{entry:ee,line:W}=H;return j.createElement(ps,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},i&&j.createElement("line",Uc({},L,W,{className:Xt("recharts-cartesian-axis-tick-line",T0(i,"className"))})))}),G=se.map((H,ee)=>{var{entry:W,tick:K}=H,B=Bn(Bn(Bn(Bn({textAnchor:I,verticalAnchor:D},V),{},{stroke:"none",fill:o},z),K),{},{index:ee,payload:W,visibleTicksCount:E.length,tickFormatter:c,padding:f},h);return j.createElement(ps,Uc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},$te(R,W,ee)),r&&j.createElement(jpe,{option:r,tickProps:B,value:"".concat(typeof c=="function"?c(W.value,ee):W.value).concat(u||"")}))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(F,"-ticks")},G.length>0&&j.createElement(jo,{zIndex:Jr.label},j.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(F,"-tick-labels"),ref:e},G)),Ne.length>0&&j.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(F,"-tick-lines")},Ne))}),_pe=j.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:o,hide:c,ticks:u,axisType:f}=t,h=hpe(t,fpe),[p,g]=j.useState(""),[x,b]=j.useState(""),_=j.useRef(null);j.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var N;return dpe({ticks:_.current,label:(N=t.labelRef)===null||N===void 0?void 0:N.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=j.useCallback(N=>{if(N){var T=N.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=T;var O=T[0];if(O){var C=window.getComputedStyle(O),M=C.fontSize,R=C.letterSpacing;(M!==p||R!==x)&&(g(M),b(R))}}},[p,x]);return c||r!=null&&r<=0||i!=null&&i<=0?null:j.createElement(jo,{zIndex:t.zIndex},j.createElement(ps,{className:Xt("recharts-cartesian-axis",o)},j.createElement(xpe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Ma(t)}),j.createElement(Npe,{ref:S,axisType:f,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:x,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),j.createElement(she,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},j.createElement(ghe,{label:t.label,labelRef:t.labelRef}),t.children)))}),$_=j.forwardRef((t,e)=>{var n=Li(t,ro);return j.createElement(_pe,Uc({},n,{ref:e}))});$_.displayName="CartesianAxis";var Spe=["x1","y1","x2","y2","key"],Epe=["offset"],Ape=["xAxisId","yAxisId"],Tpe=["xAxisId","yAxisId"];function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){Cpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cpe(t,e,n){return(e=kpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kpe(t){var e=Ipe(t,"string");return typeof e=="symbol"?e:e+""}function Ipe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wc(){return wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wc.apply(null,arguments)}function Ky(t,e){if(t==null)return{};var n,r,i=Ope(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ope(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rpe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:c,ry:u}=t;return j.createElement("rect",{x:r,y:i,ry:u,width:o,height:c,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Vz(t){var{option:e,lineItemProps:n}=t,r;if(j.isValidElement(e))r=j.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:o,y1:c,x2:u,y2:f,key:h}=n,p=Ky(n,Spe),g=(i=Ma(p))!==null&&i!==void 0?i:{},{offset:x}=g,b=Ky(g,Epe);r=j.createElement("line",wc({},b,{x1:o,y1:c,x2:u,y2:f,fill:"none",key:h}))}return r}function Ppe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:c}=t,u=Ky(t,Ape),f=i.map((h,p)=>{var g=Rr(Rr({},u),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return j.createElement(Vz,{key:"line-".concat(p),option:r,lineItemProps:g})});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Dpe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:c}=t,u=Ky(t,Tpe),f=i.map((h,p)=>{var g=Rr(Rr({},u),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return j.createElement(Vz,{option:r,lineItemProps:g,key:"line-".concat(p)})});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Mpe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:o,height:c,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length||u==null)return null;var h=u.map(g=>Math.round(g+i-i)).sort((g,x)=>g-x);i!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var b=!h[x+1],_=b?i+c-g:h[x+1]-g;if(_<=0)return null;var S=x%e.length;return j.createElement("rect",{key:"react-".concat(x),y:g,x:r,height:_,width:o,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Lpe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:c,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(g=>Math.round(g+i-i)).sort((g,x)=>g-x);i!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var b=!h[x+1],_=b?i+c-g:h[x+1]-g;if(_<=0)return null;var S=x%n.length;return j.createElement("rect",{key:"react-".concat(x),x:g,y:o,width:_,height:u,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var zpe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:o}=t;return k5(F_(Rr(Rr(Rr({},ro),n),{},{ticks:I5(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},Upe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:o}=t;return k5(F_(Rr(Rr(Rr({},ro),n),{},{ticks:I5(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},Vpe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Jr.grid};function Bz(t){var e=V5(),n=B5(),r=U5(),i=Rr(Rr({},Li(t,Vpe)),{},{x:Ge(t.x)?t.x:r.left,y:Ge(t.y)?t.y:r.top,width:Ge(t.width)?t.width:r.width,height:Ge(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:c,x:u,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:x,verticalValues:b}=i,_=gi(),S=We(D=>ZR(D,"xAxis",o,_)),N=We(D=>ZR(D,"yAxis",c,_));if(!xs(h)||!xs(p)||!Ge(u)||!Ge(f))return null;var T=i.verticalCoordinatesGenerator||zpe,O=i.horizontalCoordinatesGenerator||Upe,{horizontalPoints:C,verticalPoints:M}=i;if((!C||!C.length)&&typeof O=="function"){var R=x&&x.length,F=O({yAxis:N?Rr(Rr({},N),{},{ticks:R?x:N.ticks}):void 0,width:e??h,height:n??p,offset:r},R?!0:g);jy(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(C=F)}if((!M||!M.length)&&typeof T=="function"){var E=b&&b.length,I=T({xAxis:S?Rr(Rr({},S),{},{ticks:E?b:S.ticks}):void 0,width:e??h,height:n??p,offset:r},E?!0:g);jy(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(M=I)}return j.createElement(jo,{zIndex:i.zIndex},j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(Rpe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),j.createElement(Mpe,wc({},i,{horizontalPoints:C})),j.createElement(Lpe,wc({},i,{verticalPoints:M})),j.createElement(Ppe,wc({},i,{offset:r,horizontalPoints:C,xAxis:S,yAxis:N})),j.createElement(Dpe,wc({},i,{offset:r,verticalPoints:M,xAxis:S,yAxis:N}))))}Bz.displayName="CartesianGrid";function Bpe(t){var e=S0(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:o}=e,c=Number(i),u=Number(o);return(Number.isNaN(c)||c<0)&&(c=n),(Number.isNaN(u)||u<0)&&(u=r),{r:c,strokeWidth:u}}return{r:n,strokeWidth:r}}var Fz=(t,e,n,r)=>F9(t,"xAxis",e,r),$z=(t,e,n,r)=>B9(t,"xAxis",e,r),qz=(t,e,n,r)=>F9(t,"yAxis",n,r),Hz=(t,e,n,r)=>B9(t,"yAxis",n,r),Fpe=ve([Gt,Fz,qz,$z,Hz],(t,e,n,r,i)=>po(t,"xAxis")?wy(e,r,!1):wy(n,i,!1)),$pe=(t,e,n,r,i)=>i,Gz=ve([u9,$pe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),qpe=(t,e,n,r,i)=>{var o,c=Gz(t,e,n,r,i);if(c!=null){var u=Gt(t),f=po(u,"xAxis"),h;if(f?h=Vj(t,"yAxis",n,r):h=Vj(t,"xAxis",e,r),h!=null){var{stackId:p}=c,g=g_(c);if(!(p==null||g==null)){var x=(o=h[p])===null||o===void 0?void 0:o.stackedData;return x?.find(b=>b.key===g)}}}},Hpe=ve([Gt,Fz,qz,$z,Hz,qpe,o_,Fpe,Gz,uce],(t,e,n,r,i,o,c,u,f,h)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:x}=c;if(!(f==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:b}=f,_;if(b&&b.length>0?_=b:_=p?.slice(g,x+1),_!=null)return uge({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:g,areaSettings:f,stackedData:o,displayedData:_,chartBaseValue:h,bandSize:u})}}),Gpe=["id"],Kpe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Cc(){return Cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cc.apply(null,arguments)}function Kz(t,e){if(t==null)return{};var n,r,i=Wpe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ku(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){Ype(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ype(t,e,n){return(e=Qpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qpe(t){var e=Xpe(t,"string");return typeof e=="symbol"?e:e+""}function Xpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wy(t,e){return t&&t!=="none"?t:e}var Jpe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:o,hide:c}=t;return[{inactive:c,dataKey:e,type:o,color:Wy(r,i),value:O5(n,e),payload:t}]},Zpe=j.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:o,name:c,hide:u,unit:f,tooltipType:h}=t,p={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:e,nameKey:void 0,name:O5(c,e),hide:u,type:h,color:Wy(r,o),unit:f}};return j.createElement(Dhe,{tooltipEntrySettings:p})});function ege(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:o,dataKey:c}=r,u=Ma(r);return j.createElement(nme,{points:n,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:u,needClip:i,clipPathId:e})}function tge(t){var{showLabels:e,children:n,points:r}=t,i=r.map(o=>{var c,u,f={x:(c=o.x)!==null&&c!==void 0?c:0,y:(u=o.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ku(Ku({},f),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return j.createElement(Ahe,{value:e?i:void 0},n)}function WP(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:o}=t,{layout:c,type:u,stroke:f,connectNulls:h,isRange:p}=o,{id:g}=o,x=Kz(o,Gpe),b=Ma(x),_=sa(x);return j.createElement(j.Fragment,null,e?.length>1&&j.createElement(ps,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},j.createElement(Rg,Cc({},_,{id:g,points:e,connectNulls:h,type:u,baseLine:n,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&j.createElement(Rg,Cc({},b,{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:e})),f!=="none"&&p&&j.createElement(Rg,Cc({},b,{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:n}))),j.createElement(ege,{points:e,props:x,clipPathId:i}))}function nge(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,o=r[0].y,c=r[r.length-1].y;if(!jn(o)||!jn(c))return null;var u=e*Math.abs(o-c),f=Math.max(...r.map(h=>h.x||0));return Ge(n)?f=Math.max(n,f):n&&Array.isArray(n)&&n.length&&(f=Math.max(...n.map(h=>h.x||0),f)),Ge(f)?j.createElement("rect",{x:0,y:o<c?o:o-u,width:f+(i?parseInt("".concat(i),10):1),height:Math.floor(u)}):null}function rge(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,o=r[0].x,c=r[r.length-1].x;if(!jn(o)||!jn(c))return null;var u=e*Math.abs(o-c),f=Math.max(...r.map(h=>h.y||0));return Ge(n)?f=Math.max(n,f):n&&Array.isArray(n)&&n.length&&(f=Math.max(...n.map(h=>h.y||0),f)),Ge(f)?j.createElement("rect",{x:o<c?o:o-u,y:0,width:u,height:Math.floor(f+(i?parseInt("".concat(i),10):1))}):null}function ige(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:o}=t;return n==="vertical"?j.createElement(nge,{alpha:e,points:r,baseLine:i,strokeWidth:o}):j.createElement(rge,{alpha:e,points:r,baseLine:i,strokeWidth:o})}function age(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o}=t,{points:c,baseLine:u,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,onAnimationStart:x,onAnimationEnd:b}=r,_=j.useMemo(()=>({points:c,baseLine:u}),[c,u]),S=eL(_,"recharts-area-"),N=Die(),[T,O]=j.useState(!1),C=!T,M=j.useCallback(()=>{typeof b=="function"&&b(),O(!1)},[b]),R=j.useCallback(()=>{typeof x=="function"&&x(),O(!0)},[x]);if(N==null)return null;var F=i.current,E=o.current;return j.createElement(tge,{showLabels:C,points:c},r.children,j.createElement(Z5,{animationId:S,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:M,onAnimationStart:R,key:S},I=>{if(F){var D=F.length/c.length,V=I===1?c:c.map(($,L)=>{var se=Math.floor(L*D);if(F[se]){var Ne=F[se];return Ku(Ku({},$),{},{x:Xa(Ne.x,$.x,I),y:Xa(Ne.y,$.y,I)})}return $}),z;return Ge(u)?z=Xa(E,u,I):_r(u)||La(u)?z=Xa(E,0,I):z=u.map(($,L)=>{var se=Math.floor(L*D);if(Array.isArray(E)&&E[se]){var Ne=E[se];return Ku(Ku({},$),{},{x:Xa(Ne.x,$.x,I),y:Xa(Ne.y,$.y,I)})}return $}),I>0&&(i.current=V,o.current=z),j.createElement(WP,{points:V,baseLine:z,needClip:e,clipPathId:n,props:r})}return I>0&&(i.current=c,o.current=u),j.createElement(ps,null,f&&j.createElement("defs",null,j.createElement("clipPath",{id:"animationClipPath-".concat(n)},j.createElement(ige,{alpha:I,points:c,baseLine:u,layout:N,strokeWidth:r.strokeWidth}))),j.createElement(ps,{clipPath:"url(#animationClipPath-".concat(n,")")},j.createElement(WP,{points:c,baseLine:u,needClip:e,clipPathId:n,props:r})))}),j.createElement(khe,{label:r.label}))}function sge(t){var{needClip:e,clipPathId:n,props:r}=t,i=j.useRef(null),o=j.useRef();return j.createElement(age,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o})}class oge extends j.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:o,left:c,needClip:u,xAxisId:f,yAxisId:h,width:p,height:g,id:x,baseLine:b,zIndex:_}=this.props;if(e)return null;var S=Xt("recharts-area",i),N=x,{r:T,strokeWidth:O}=Bpe(n),C=Iz(n),M=T*2+O,R=u?"url(#clipPath-".concat(C?"":"dots-").concat(N,")"):void 0;return j.createElement(jo,{zIndex:_},j.createElement(ps,{className:S},u&&j.createElement("defs",null,j.createElement(_me,{clipPathId:N,xAxisId:f,yAxisId:h}),!C&&j.createElement("clipPath",{id:"clipPath-dots-".concat(N)},j.createElement("rect",{x:c-M/2,y:o-M/2,width:p+M,height:g+M}))),j.createElement(sge,{needClip:u,clipPathId:N,props:this.props})),j.createElement(zP,{points:r,mainColor:Wy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:R}),this.props.isRange&&Array.isArray(b)&&j.createElement(zP,{points:b,mainColor:Wy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:R}))}}var Wz={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Jr.area};function lge(t){var e,n=Li(t,Wz),{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:c,connectNulls:u,dot:f,fill:h,fillOpacity:p,hide:g,isAnimationActive:x,legendType:b,stroke:_,xAxisId:S,yAxisId:N}=n,T=Kz(n,Kpe),O=um(),C=cz(),{needClip:M}=Mz(S,N),R=gi(),{points:F,isRange:E,baseLine:I}=(e=We(se=>Hpe(se,S,N,R,t.id)))!==null&&e!==void 0?e:{},D=U_();if(O!=="horizontal"&&O!=="vertical"||D==null||C!=="AreaChart"&&C!=="ComposedChart")return null;var{height:V,width:z,x:$,y:L}=D;return!F||!F.length?null:j.createElement(oge,Cc({},T,{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:c,baseLine:I,connectNulls:u,dot:f,fill:h,fillOpacity:p,height:V,hide:g,layout:O,isAnimationActive:x==="auto"?!Gc.isSsr:x,isRange:E,legendType:b,needClip:M,points:F,stroke:_,width:z,left:$,top:L,xAxisId:S,yAxisId:N}))}var cge=(t,e,n,r,i)=>{var o=n??e;if(Ge(o))return o;var c=t==="horizontal"?i:r,u=c.scale.domain();if(c.type==="number"){var f=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return o==="dataMin"?h:o==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]};function uge(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:o,chartBaseValue:c,xAxis:u,yAxis:f,displayedData:h,dataStartIndex:p,xAxisTicks:g,yAxisTicks:x,bandSize:b}=t,_=i&&i.length,S=cge(o,c,n,u,f),N=o==="horizontal",T=!1,O=h.map((M,R)=>{var F;_?F=i[p+R]:(F=Dr(M,r),Array.isArray(F)?T=!0:F=[S,F]);var E=F[1]==null||_&&!e&&Dr(M,r)==null;return N?{x:jO({axis:u,ticks:g,bandSize:b,entry:M,index:R}),y:E?null:f.scale(F[1]),value:F,payload:M}:{x:E?null:u.scale(F[1]),y:jO({axis:f,ticks:x,bandSize:b,entry:M,index:R}),value:F,payload:M}}),C;return _||T?C=O.map(M=>{var R=Array.isArray(M.value)?M.value[0]:null;return N?{x:M.x,y:R!=null&&M.y!=null?f.scale(R):null,payload:M.payload}:{x:R!=null?u.scale(R):null,y:M.y,payload:M.payload}}):C=N?f.scale(S):u.scale(S),{points:O,baseLine:C,isRange:T}}function dge(t){var e=Li(t,Wz),n=gi();return j.createElement(Vhe,{id:e.id,type:"area"},r=>j.createElement(j.Fragment,null,j.createElement(Mhe,{legendPayload:Jpe(e)}),j.createElement(Zpe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),j.createElement(Khe,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:Xre(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),j.createElement(lge,Cc({},e,{id:r}))))}var Yz=j.memo(dge,V_);Yz.displayName="Area";var fge=["domain","range"],hge=["domain","range"];function YP(t,e){if(t==null)return{};var n,r,i=mge(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function QP(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function Qz(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=YP(t,fge),{domain:o,range:c}=e,u=YP(e,hge);return!QP(n,o)||!QP(r,c)?!1:V_(i,u)}var pge=["dangerouslySetInnerHTML","ticks"],gge=["id"];function Wj(){return Wj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wj.apply(null,arguments)}function XP(t,e){if(t==null)return{};var n,r,i=yge(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xge(t){var e=ur(),n=j.useRef(null);return j.useLayoutEffect(()=>{n.current===null?e(ome(t)):n.current!==t&&e(lme({prev:n.current,next:t})),n.current=t},[t,e]),j.useLayoutEffect(()=>()=>{n.current&&(e(cme(n.current)),n.current=null)},[e]),null}var vge=t=>{var{xAxisId:e,className:n}=t,r=We(P5),i=gi(),o="xAxis",c=We(N=>Ld(N,o,e,i)),u=We(N=>V9(N,o,e,i)),f=We(N=>nue(N,e)),h=We(N=>lue(N,e)),p=We(N=>s9(N,e));if(f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=t,b=XP(t,pge),{id:_}=p,S=XP(p,gge);return j.createElement($_,Wj({},b,S,{scale:c,x:h.x,y:h.y,width:f.width,height:f.height,className:Xt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:u,axisType:o}))},bge={allowDataOverflow:sr.allowDataOverflow,allowDecimals:sr.allowDecimals,allowDuplicatedCategory:sr.allowDuplicatedCategory,angle:sr.angle,axisLine:ro.axisLine,height:sr.height,hide:!1,includeHidden:sr.includeHidden,interval:sr.interval,minTickGap:sr.minTickGap,mirror:sr.mirror,orientation:sr.orientation,padding:sr.padding,reversed:sr.reversed,scale:sr.scale,tick:sr.tick,tickCount:sr.tickCount,tickLine:ro.tickLine,tickSize:ro.tickSize,type:sr.type,xAxisId:0},wge=t=>{var e=Li(t,bge);return j.createElement(j.Fragment,null,j.createElement(xge,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),j.createElement(vge,e))},Xz=j.memo(wge,Qz);Xz.displayName="XAxis";var jge=["dangerouslySetInnerHTML","ticks"],Nge=["id"];function Yj(){return Yj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yj.apply(null,arguments)}function JP(t,e){if(t==null)return{};var n,r,i=_ge(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Sge(t){var e=ur(),n=j.useRef(null);return j.useLayoutEffect(()=>{n.current===null?e(ume(t)):n.current!==t&&e(dme({prev:n.current,next:t})),n.current=t},[t,e]),j.useLayoutEffect(()=>()=>{n.current&&(e(fme(n.current)),n.current=null)},[e]),null}var Ege=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,o=j.useRef(null),c=j.useRef(null),u=We(P5),f=gi(),h=ur(),p="yAxis",g=We(R=>Ld(R,p,e,f)),x=We(R=>due(R,e)),b=We(R=>uue(R,e)),_=We(R=>V9(R,p,e,f)),S=We(R=>o9(R,e));if(j.useLayoutEffect(()=>{if(!(r!=="auto"||!x||z_(i)||j.isValidElement(i)||S==null)){var R=o.current;if(R){var F=R.getCalculatedWidth();Math.round(x.width)!==Math.round(F)&&h(hme({id:e,width:F}))}}},[_,x,h,i,e,r,S]),x==null||b==null||S==null)return null;var{dangerouslySetInnerHTML:N,ticks:T}=t,O=JP(t,jge),{id:C}=S,M=JP(S,Nge);return j.createElement($_,Yj({},O,M,{ref:o,labelRef:c,scale:g,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:x.width,height:x.height,className:Xt("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:_,axisType:p}))},Age={allowDataOverflow:or.allowDataOverflow,allowDecimals:or.allowDecimals,allowDuplicatedCategory:or.allowDuplicatedCategory,angle:or.angle,axisLine:ro.axisLine,hide:!1,includeHidden:or.includeHidden,interval:or.interval,minTickGap:or.minTickGap,mirror:or.mirror,orientation:or.orientation,padding:or.padding,reversed:or.reversed,scale:or.scale,tick:or.tick,tickCount:or.tickCount,tickLine:ro.tickLine,tickSize:ro.tickSize,type:or.type,width:or.width,yAxisId:0},Tge=t=>{var e=Li(t,Age);return j.createElement(j.Fragment,null,j.createElement(Sge,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),j.createElement(Ege,e))},Jz=j.memo(Tge,Qz);Jz.displayName="YAxis";var Cge=(t,e)=>e,q_=ve([Cge,Gt,i9,Jn,rz,wo,Sde,Er],Ode),H_=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},Zz=oa("mouseClick"),eU=lm();eU.startListening({actionCreator:Zz,effect:(t,e)=>{var n=t.payload,r=q_(e.getState(),H_(n));r?.activeIndex!=null&&e.dispatch(_ue({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Qj=oa("mouseMove"),tU=lm(),mg=null;tU.startListening({actionCreator:Qj,effect:(t,e)=>{var n=t.payload;mg!==null&&cancelAnimationFrame(mg);var r=H_(n);mg=requestAnimationFrame(()=>{var i=e.getState(),o=A_(i,i.tooltip.settings.shared);if(o==="axis"){var c=q_(i,r);c?.activeIndex!=null?e.dispatch(Y9({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):e.dispatch(W9())}mg=null})}});var ZP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},nU=pi({name:"rootProps",initialState:ZP,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:ZP.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),kge=nU.reducer,{updateOptions:Ige}=nU.actions,rU=pi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:p0e}=rU.actions,Oge=rU.reducer,iU=oa("keyDown"),aU=oa("focus"),G_=lm();G_.startListening({actionCreator:iU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var c=T_(i,Ud(n),xm(n),Nm(n)),u=c==null?-1:Number(c);if(!(!Number.isFinite(u)||u<0)){var f=wo(n);if(o==="Enter"){var h=$y(n,"axis","hover",String(i.index));e.dispatch(Fj({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:h}));return}var p=pue(n),g=p==="left-to-right"?1:-1,x=o==="ArrowRight"?1:-1,b=u+x*g;if(!(f==null||b>=f.length||b<0)){var _=$y(n,"axis","hover",String(b));e.dispatch(Fj({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}}});G_.startListening({actionCreator:aU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",c=$y(n,"axis","hover",String(o));e.dispatch(Fj({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:c}))}}}});var Ji=oa("externalEvent"),sU=lm(),d1=new Map;sU.startListening({actionCreator:Ji,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,o=d1.get(i);o!==void 0&&cancelAnimationFrame(o);var c=requestAnimationFrame(()=>{try{var u=e.getState(),f={activeCoordinate:ude(u),activeDataKey:lde(u),activeIndex:Uh(u),activeLabel:sz(u),activeTooltipIndex:Uh(u),isTooltipActive:dde(u)};n(f,r)}finally{d1.delete(i)}});d1.set(i,c)}}});var Rge=ve([zd],t=>t.tooltipItemPayloads),Pge=ve([Rge,wm,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var c=e(o,n);return c}}}),oU=oa("touchMove"),lU=lm();lU.startListening({actionCreator:oU,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=A_(r,r.tooltip.settings.shared);if(i==="axis"){var o=q_(r,H_({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&e.dispatch(Y9({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var c,u=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(iie),p=(c=f.getAttribute(aie))!==null&&c!==void 0?c:void 0,g=Pge(e.getState(),h,p);e.dispatch(Nue({activeDataKey:p,activeIndex:h,activeCoordinate:g}))}}}});var Dge=t5({brush:Gme,cartesianAxis:mme,chartData:ufe,errorBars:Nme,graphicalItems:Hhe,layout:Bre,legend:Jie,options:afe,polarAxis:Ohe,polarOptions:Oge,referenceElements:Zme,rootProps:kge,tooltip:Sue,zIndex:Gde}),Mge=function(e){return fre({reducer:Dge,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([eU.middleware,tU.middleware,G_.middleware,sU.middleware,lU.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(g5({type:"raf"}))},devTools:Gc.devToolsEnabled})};function Lge(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=gi(),o=j.useRef(null);if(i)return n;o.current==null&&(o.current=Mge(e));var c=E2;return j.createElement(Fme,{context:c,store:o.current},n)}function zge(t){var{layout:e,margin:n}=t,r=ur(),i=gi();return j.useEffect(()=>{i||(r(zre(e)),r(Lre(n)))},[r,i,e,n]),null}var Uge=j.memo(zge,V_);function Vge(t){var e=ur();return j.useEffect(()=>{e(Ige(t))},[e,t]),null}function e4(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=Oz("".concat(r).concat(e)),o=ur();return j.useLayoutEffect(()=>(o(qde({zIndex:e,elementId:i,isPanorama:n})),()=>{o(Hde({zIndex:e,isPanorama:n}))}),[o,e,i,n]),j.createElement("g",{id:i})}function t4(t){var{children:e,isPanorama:n}=t,r=We(Pde);if(!r||r.length===0)return e;var i=r.filter(c=>c<0),o=r.filter(c=>c>0);return j.createElement(j.Fragment,null,i.map(c=>j.createElement(e4,{key:c,zIndex:c,isPanorama:n})),e,o.map(c=>j.createElement(e4,{key:c,zIndex:c,isPanorama:n})))}var Bge=["children"];function Fge(t,e){if(t==null)return{};var n,r,i=$ge(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $ge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yy(){return Yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yy.apply(null,arguments)}var qge={width:"100%",height:"100%",display:"block"},Hge=j.forwardRef((t,e)=>{var n=V5(),r=B5(),i=Y5();if(!xs(n)||!xs(r))return null;var{children:o,otherAttributes:c,title:u,desc:f}=t,h,p;return c!=null&&(typeof c.tabIndex=="number"?h=c.tabIndex:h=i?0:void 0,typeof c.role=="string"?p=c.role:p=i?"application":void 0),j.createElement(j3,Yy({},c,{title:u,desc:f,role:p,tabIndex:h,width:n,height:r,style:qge,ref:e}),o)}),Gge=t=>{var{children:e}=t,n=We(B0);if(!n)return null;var{width:r,height:i,y:o,x:c}=n;return j.createElement(j3,{width:r,height:i,x:c,y:o},e)},n4=j.forwardRef((t,e)=>{var{children:n}=t,r=Fge(t,Bge),i=gi();return i?j.createElement(Gge,null,j.createElement(t4,{isPanorama:!0},n)):j.createElement(Hge,Yy({ref:e},r),j.createElement(t4,{isPanorama:!1},n))});function Kge(){var t=ur(),[e,n]=j.useState(null),r=We(rie);return j.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;jn(o)&&o!==r&&t(Vre(o))}},[e,t,r]),n}function r4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r4(Object(n),!0).forEach(function(r){Yge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yge(t,e,n){return(e=Qge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qge(t){var e=Xge(t,"string");return typeof e=="symbol"?e:e+""}function Xge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vc(){return Vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vc.apply(null,arguments)}var Jge=()=>(vfe(),null);function Qy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Zge=j.forwardRef((t,e)=>{var n,r,i=j.useRef(null),[o,c]=j.useState({containerWidth:Qy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Qy((r=t.style)===null||r===void 0?void 0:r.height)}),u=j.useCallback((h,p)=>{c(g=>{var x=Math.round(h),b=Math.round(p);return g.containerWidth===x&&g.containerHeight===b?g:{containerWidth:x,containerHeight:b}})},[]),f=j.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();u(p,g);var x=_=>{var{width:S,height:N}=_[0].contentRect;u(S,N)},b=new ResizeObserver(x);b.observe(h),i.current=b}},[e,u]);return j.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[u]),j.createElement(j.Fragment,null,j.createElement($0,{width:o.containerWidth,height:o.containerHeight}),j.createElement("div",Vc({ref:f},t)))}),eye=j.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,o]=j.useState({containerWidth:Qy(n),containerHeight:Qy(r)}),c=j.useCallback((f,h)=>{o(p=>{var g=Math.round(f),x=Math.round(h);return p.containerWidth===g&&p.containerHeight===x?p:{containerWidth:g,containerHeight:x}})},[]),u=j.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();c(h,p)}},[e,c]);return j.createElement(j.Fragment,null,j.createElement($0,{width:i.containerWidth,height:i.containerHeight}),j.createElement("div",Vc({ref:u},t)))}),tye=j.forwardRef((t,e)=>{var{width:n,height:r}=t;return j.createElement(j.Fragment,null,j.createElement($0,{width:n,height:r}),j.createElement("div",Vc({ref:e},t)))}),nye=j.forwardRef((t,e)=>{var{width:n,height:r}=t;return oo(n)||oo(r)?j.createElement(eye,Vc({},t,{ref:e})):j.createElement(tye,Vc({},t,{ref:e}))});function rye(t){return t===!0?Zge:nye}var iye=j.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:c,onDoubleClick:u,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:x,onTouchEnd:b,onTouchMove:_,onTouchStart:S,style:N,width:T,responsive:O,dispatchTouchEvents:C=!0}=t,M=j.useRef(null),R=ur(),[F,E]=j.useState(null),[I,D]=j.useState(null),V=Kge(),z=D2(),$=z?.width>0?z.width:T,L=z?.height>0?z.height:i,se=j.useCallback(Z=>{V(Z),typeof e=="function"&&e(Z),E(Z),D(Z),Z!=null&&(M.current=Z)},[V,e,E,D]),Ne=j.useCallback(Z=>{R(Zz(Z)),R(Ji({handler:o,reactEvent:Z}))},[R,o]),G=j.useCallback(Z=>{R(Qj(Z)),R(Ji({handler:h,reactEvent:Z}))},[R,h]),H=j.useCallback(Z=>{R(W9()),R(Ji({handler:p,reactEvent:Z}))},[R,p]),ee=j.useCallback(Z=>{R(Qj(Z)),R(Ji({handler:g,reactEvent:Z}))},[R,g]),W=j.useCallback(()=>{R(aU())},[R]),K=j.useCallback(Z=>{R(iU(Z.key))},[R]),B=j.useCallback(Z=>{R(Ji({handler:c,reactEvent:Z}))},[R,c]),J=j.useCallback(Z=>{R(Ji({handler:u,reactEvent:Z}))},[R,u]),ie=j.useCallback(Z=>{R(Ji({handler:f,reactEvent:Z}))},[R,f]),ye=j.useCallback(Z=>{R(Ji({handler:x,reactEvent:Z}))},[R,x]),ke=j.useCallback(Z=>{R(Ji({handler:S,reactEvent:Z}))},[R,S]),Le=j.useCallback(Z=>{C&&R(oU(Z)),R(Ji({handler:_,reactEvent:Z}))},[R,C,_]),de=j.useCallback(Z=>{R(Ji({handler:b,reactEvent:Z}))},[R,b]),we=rye(O);return j.createElement(mz.Provider,{value:F},j.createElement(mte.Provider,{value:I},j.createElement(we,{width:$??N?.width,height:L??N?.height,className:Xt("recharts-wrapper",r),style:Wge({position:"relative",cursor:"default",width:$,height:L},N),onClick:Ne,onContextMenu:B,onDoubleClick:J,onFocus:W,onKeyDown:K,onMouseDown:ie,onMouseEnter:G,onMouseLeave:H,onMouseMove:ee,onMouseUp:ye,onTouchEnd:de,onTouchMove:Le,onTouchStart:ke,ref:se},j.createElement(Jge,null),n)))}),aye=["width","height","responsive","children","className","style","compact","title","desc"];function sye(t,e){if(t==null)return{};var n,r,i=oye(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lye=j.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:o,className:c,style:u,compact:f,title:h,desc:p}=t,g=sye(t,aye),x=Ma(g);return f?j.createElement(j.Fragment,null,j.createElement($0,{width:n,height:r}),j.createElement(n4,{otherAttributes:x,title:h,desc:p},o)):j.createElement(iye,{className:c,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},j.createElement(n4,{otherAttributes:x,title:h,desc:p,ref:e},j.createElement(tpe,null,o)))});function Xj(){return Xj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xj.apply(null,arguments)}var cye={top:5,right:5,bottom:5,left:5},uye={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:cye,reverseStackOrder:!1,syncMethod:"index",responsive:!1},dye=j.forwardRef(function(e,n){var r,i=Li(e.categoricalChartProps,uye),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return j.createElement(Lge,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:o},j.createElement(Hme,{chartData:h.data}),j.createElement(Uge,{layout:i.layout,margin:i.margin}),j.createElement(Vge,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),j.createElement(lye,Xj({},i,{ref:n})))}),fye=["axis"],hye=j.forwardRef((t,e)=>j.createElement(dye,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fye,tooltipPayloadSearcher:rfe,categoricalChartProps:t,ref:e}));function mye(){const[t,e]=j.useState({revenue:0,students:0,courses:0,orders:0,thisMonth:0,lastMonth:0}),[n,r]=j.useState([]),[i,o]=j.useState([]),[c,u]=j.useState("7d"),[f,h]=j.useState([]),[p,g]=j.useState(!1),[x,b]=j.useState(!0),[_,S]=j.useState(null);j.useEffect(()=>{async function R(){try{const I=await(await ze("/api/orders",{headers:{"x-admin-token":localStorage.getItem("admin_token")}})).json();if(I.ok&&I.orders){o(I.orders);let D=0,V=new Set;const z=new Date,$=z.getMonth(),L=z.getFullYear();let se=0,Ne=0;I.orders.forEach(H=>{let ee=0;if(H.amount){const B=String(H.amount).replace(/[^0-9]/g,"");ee=parseInt(B)||0}D+=ee,H.email&&V.add(H.email);const W=new Date(H.createdAt);isNaN(W.getTime())||(W.getMonth()===$&&W.getFullYear()===L&&se++,W.getMonth()===$-1&&W.getFullYear()===L&&Ne++)}),e({revenue:D,students:V.size,courses:12,orders:I.orders.length,thisMonth:se,lastMonth:Ne});const G=[...I.orders].sort((H,ee)=>new Date(ee.createdAt)-new Date(H.createdAt));r(G.slice(0,5))}}catch(E){console.error("Error fetching metrics:",E)}}R();const F=setInterval(R,5e3);return()=>clearInterval(F)},[]),j.useEffect(()=>{const R=O(i,c);h(R)},[i,c]);const N=[{icon:ts,title:"Boost Enrollment",message:"Students who watch preview lectures are 3x more likely to enroll. Make sure to add engaging preview content!",action:"Update Courses",link:"/admin/courses"},{icon:vl,title:"Engage Your Students",message:"Regular communication increases course completion rates by 40%. Send updates and encouragement to your students!",action:"View Users",link:"/admin/users"},{icon:gl,title:"Optimize Pricing",message:"Courses priced between Rs. 5,000-15,000 have the highest conversion rates. Consider your target audience when pricing.",action:"Manage Courses",link:"/admin/courses"},{icon:bn,title:"Quality Content",message:"Courses with 10+ lectures and 2+ hours of content receive 60% more positive reviews. Quality over quantity!",action:"Add Content",link:"/admin/drive"},{icon:ts,title:"Student Success",message:"Providing downloadable resources increases student satisfaction by 35%. Add PDFs, worksheets, and templates!",action:"Upload Resources",link:"/admin/drive"},{icon:gl,title:"Marketing Tip",message:"Courses with clear learning outcomes in descriptions convert 50% better. Be specific about what students will learn!",action:"Edit Courses",link:"/admin/courses"}],[T]=j.useState(()=>N[Math.floor(Math.random()*N.length)]);function O(R,F){const E=new Date;let I=new Date;switch(F){case"7d":I.setDate(E.getDate()-6);break;case"28d":I.setDate(E.getDate()-27);break;case"90d":I.setDate(E.getDate()-89);break;case"365d":I.setDate(E.getDate()-364);break;case"all":if(R.length>0){const L=R.map(se=>new Date(se.createdAt)).filter(se=>!isNaN(se.getTime()));L.length>0?I=new Date(Math.min(...L)):I.setDate(E.getDate()-30)}else I.setDate(E.getDate()-30);break;default:I.setDate(E.getDate()-6)}I.setHours(0,0,0,0),E.setHours(23,59,59,999);const D=new Map,V=new Date(I),z=365*5;let $=0;for(;V<=E&&$<z;){const L=V.toLocaleDateString("en-US",{month:"short",day:"numeric"});D.set(L,0),V.setDate(V.getDate()+1),$++}return R.forEach(L=>{const se=new Date(L.createdAt);if(!isNaN(se.getTime())&&se>=I&&se<=E){const Ne=se.toLocaleDateString("en-US",{month:"short",day:"numeric"});let G=0;if(L.amount){const ee=String(L.amount).replace(/[^0-9]/g,"");G=parseInt(ee)||0}D.has(Ne)&&D.set(Ne,D.get(Ne)+G)}}),Array.from(D).map(([L,se])=>({date:L,amount:se}))}const C=t.lastMonth>0?((t.thisMonth-t.lastMonth)/t.lastMonth*100).toFixed(1):0,M={"7d":"Last 7 days","28d":"Last 28 days","90d":"Last 90 days","365d":"Last 365 days",all:"Lifetime"};return s.jsxs(Lr,{children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center gap-3",children:[s.jsx(H4,{className:"text-[#0d9c06]"}),"Dashboard Overview"]}),s.jsx("p",{className:"text-gray-600",children:"Welcome back! Here's what's happening with your courses."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-linear-to-br from-[#0d9c06] to-[#0b7e05] text-white rounded-md shadow-lg p-6 transform hover:scale-102 transition-transform",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-white/20 rounded-md backdrop-blur-sm",children:s.jsx(B4,{size:24})}),s.jsx(gl,{size:20,className:"opacity-80"})]}),s.jsx("h3",{className:"text-sm font-medium opacity-90 mb-1",children:"Total Revenue"}),s.jsxs("p",{className:"text-3xl font-bold",children:["Rs. ",t.revenue.toLocaleString()]}),s.jsx("p",{className:"text-xs mt-2 opacity-80",children:"Lifetime earnings"})]}),s.jsxs("div",{className:"bg-linear-to-br from-[#5022C3] to-[#3d1a99] text-white rounded-md shadow-lg p-6 transform hover:scale-102 transition-transform",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-white/20 rounded-md backdrop-blur-sm",children:s.jsx(vl,{size:24})}),s.jsx(gl,{size:20,className:"opacity-80"})]}),s.jsx("h3",{className:"text-sm font-medium opacity-90 mb-1",children:"Total Students"}),s.jsx("p",{className:"text-3xl font-bold",children:t.students}),s.jsx("p",{className:"text-xs mt-2 opacity-80",children:"Unique enrollments"})]}),s.jsxs("div",{className:"bg-linear-to-br from-[#f4c150] to-[#d4a840] text-white rounded-md shadow-lg p-6 transform hover:scale-102 transition-transform",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"p-3 bg-white/20 rounded-md backdrop-blur-sm",children:s.jsx(bn,{size:24})})}),s.jsx("h3",{className:"text-sm font-medium opacity-90 mb-1",children:"Active Courses"}),s.jsx("p",{className:"text-3xl font-bold",children:t.courses}),s.jsx("p",{className:"text-xs mt-2 opacity-80",children:"Published courses"})]}),s.jsxs("div",{className:"bg-linear-to-br from-[#1c1d1f] to-[#2d2e30] text-white rounded-md shadow-lg p-6 transform hover:scale-102 transition-transform",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-white/20 rounded-md backdrop-blur-sm",children:s.jsx(cd,{size:24})}),C>=0?s.jsx(il,{size:20,className:"text-green-400"}):s.jsx(il,{size:20,className:"text-red-400 rotate-90"})]}),s.jsx("h3",{className:"text-sm font-medium opacity-90 mb-1",children:"This Month"}),s.jsx("p",{className:"text-3xl font-bold",children:t.thisMonth}),s.jsxs("p",{className:`text-xs mt-2 flex items-center gap-1 ${C>=0?"text-green-400":"text-red-400"}`,children:[C>=0?"":""," ",Math.abs(C),"% from last month"]})]})]}),x&&s.jsxs("div",{className:"bg-linear-to-br from-[#0d9c06]/10 to-[#0d9c06]/5 border border-[#0d9c06]/30 rounded-md p-6 mb-8 relative",children:[s.jsx("button",{onClick:()=>b(!1),className:"absolute top-4 right-4 p-1.5 text-gray-500 hover:text-gray-700 hover:bg-white/50 rounded-md transition-colors cursor-pointer",title:"Dismiss tip",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),s.jsxs("div",{className:"flex items-start gap-4 pr-8",children:[s.jsx("div",{className:"p-3 bg-[#0d9c06] rounded-md shrink-0",children:s.jsx(T.icon,{size:24,className:"text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:T.title}),s.jsx("p",{className:"text-gray-700 text-sm mb-4",children:T.message}),s.jsx(Pe,{to:T.link,className:"inline-block bg-[#0d9c06] text-white px-4 py-2 rounded-md font-medium hover:bg-[#0b7e05] transition-colors text-sm cursor-pointer",children:T.action})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-md shadow-sm p-6 mb-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Revenue Analytics"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Track your earnings over time"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>g(!p),className:"flex items-center gap-2 px-4 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 transition-colors",children:[M[c],s.jsx(Hh,{size:16,className:`transition-transform ${p?"rotate-180":""}`})]}),p&&s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-md shadow-xl z-20 py-1 animate-in fade-in zoom-in-95 duration-100",children:Object.entries(M).map(([R,F])=>s.jsx("button",{onClick:()=>{u(R),g(!1)},className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-50 transition-colors ${c===R?"text-[#0d9c06] font-medium bg-green-50":"text-gray-700"}`,children:F},R))})]})]}),s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Rie,{width:"100%",height:"100%",children:s.jsxs(hye,{data:f,margin:{top:10,right:10,left:0,bottom:0},children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#0d9c06",stopOpacity:.2}),s.jsx("stop",{offset:"95%",stopColor:"#0d9c06",stopOpacity:0})]})}),s.jsx(Bz,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),s.jsx(Xz,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12},dy:10}),s.jsx(Jz,{axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12},tickFormatter:R=>`Rs.${R/1e3}k`}),s.jsx(Afe,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:R=>[`Rs. ${R.toLocaleString()}`,"Revenue"]}),s.jsx(Yz,{type:"monotone",dataKey:"amount",stroke:"#0d9c06",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white border border-gray-200 rounded-md shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Recent Orders"}),s.jsx(Pe,{to:"/admin/orders",className:"text-sm text-[#0d9c06] hover:underline font-semibold cursor-pointer",children:"View All"})]}),s.jsx("div",{className:"overflow-x-auto",children:n.length===0?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"No orders yet"}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{className:"text-xs uppercase text-gray-500 font-semibold",children:[s.jsx("th",{className:"p-4 text-left",children:"Student"}),s.jsx("th",{className:"p-4 text-left",children:"Course"}),s.jsx("th",{className:"p-4 text-left",children:"Amount"}),s.jsx("th",{className:"p-4 text-left",children:"Payment SS"}),s.jsx("th",{className:"p-4 text-left",children:"Date"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:n.map(R=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsxs("td",{className:"p-4",children:[s.jsxs("div",{className:"font-medium text-gray-900 text-sm",children:[R.firstName," ",R.lastName]}),s.jsx("div",{className:"text-xs text-gray-500",children:R.email})]}),s.jsx("td",{className:"p-4 text-sm text-gray-700",children:R.courseTitle||"N/A"}),s.jsx("td",{className:"p-4 text-sm font-semibold text-gray-900",children:R.amount?String(R.amount).includes("Rs.")?R.amount:`Rs. ${parseInt(R.amount).toLocaleString()}`:"Rs. 0"}),s.jsx("td",{className:"p-4",children:R.paymentScreenshot?s.jsxs("button",{onClick:()=>{const F=R.paymentScreenshot.startsWith("http")?R.paymentScreenshot:`${ad.apiUrl}${R.paymentScreenshot}`;S(F)},className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-md text-xs font-medium transition-colors cursor-pointer",children:[s.jsx(Ws,{size:14}),"View"]}):s.jsx("span",{className:"text-xs text-gray-400",children:"No screenshot"})}),s.jsx("td",{className:"p-4 text-sm text-gray-600",children:R.createdAt?new Date(R.createdAt).toLocaleDateString():"N/A"})]},R.id))})]})})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white border border-gray-200 rounded-md p-6 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Pe,{to:"/admin/courses",className:"flex items-center justify-between p-3 border border-gray-200 rounded-md hover:bg-gray-50 hover:border-[#0d9c06] transition-all group cursor-pointer",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-[#0d9c06]/10 rounded-md group-hover:bg-[#0d9c06]/20 transition-colors",children:s.jsx(bn,{size:18,className:"text-[#0d9c06]"})}),s.jsx("span",{className:"font-medium text-gray-700",children:"Add New Course"})]}),s.jsx(il,{size:16,className:"text-gray-400 group-hover:text-[#0d9c06]"})]}),s.jsxs(Pe,{to:"/admin/drive",className:"flex items-center justify-between p-3 border border-gray-200 rounded-md hover:bg-gray-50 hover:border-[#5022C3] transition-all group cursor-pointer",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-[#5022C3]/10 rounded-md group-hover:bg-[#5022C3]/20 transition-colors",children:s.jsx(hN,{size:18,className:"text-[#5022C3]"})}),s.jsx("span",{className:"font-medium text-gray-700",children:"Manage Resources"})]}),s.jsx(il,{size:16,className:"text-gray-400 group-hover:text-[#5022C3]"})]}),s.jsxs(Pe,{to:"/admin/users",className:"flex items-center justify-between p-3 border border-gray-200 rounded-md hover:bg-gray-50 hover:border-[#f4c150] transition-all group cursor-pointer",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-[#f4c150]/10 rounded-md group-hover:bg-[#f4c150]/20 transition-colors",children:s.jsx(vl,{size:18,className:"text-[#f4c150]"})}),s.jsx("span",{className:"font-medium text-gray-700",children:"View Users"})]}),s.jsx(il,{size:16,className:"text-gray-400 group-hover:text-[#f4c150]"})]})]})]})})]}),_&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>S(null),children:s.jsxs("div",{className:"relative bg-white rounded-md shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:R=>R.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Ws,{size:20,className:"text-[#0d9c06]"}),"Payment Screenshot"]}),s.jsx("button",{onClick:()=>S(null),className:"p-2 hover:bg-gray-200 rounded-md transition-colors cursor-pointer",children:s.jsx(ot,{size:20,className:"text-gray-600"})})]}),s.jsxs("div",{className:"p-6 overflow-auto max-h-[calc(90vh-80px)]",children:[s.jsx("div",{className:"flex items-center justify-center bg-gray-100 rounded-md p-4",children:s.jsx("img",{src:_,alt:"Payment Screenshot",className:"max-w-full h-auto rounded-md shadow-lg",onError:R=>{R.target.src="https://via.placeholder.com/400x300?text=Image+Not+Found"}})}),s.jsx("div",{className:"mt-4 flex items-center justify-center gap-3",children:s.jsxs("a",{href:_,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0d9c06] hover:bg-[#0b7e05] text-white rounded-md font-medium transition-colors cursor-pointer",children:[s.jsx(il,{size:16}),"Open in New Tab"]})})]})]})})]})}function pye({value:t,onChange:e,placeholder:n}){const r=j.useRef(null),i=j.useRef(null),[o,c]=j.useState(!1),[u,f]=j.useState({bold:!1,italic:!1,underline:!1,unorderedList:!1,orderedList:!1});j.useEffect(()=>{r.current&&t&&!r.current.innerHTML&&(r.current.innerHTML=t)},[]);const h=()=>{r.current&&f({bold:document.queryCommandState("bold"),italic:document.queryCommandState("italic"),underline:document.queryCommandState("underline"),unorderedList:document.queryCommandState("insertUnorderedList"),orderedList:document.queryCommandState("insertOrderedList")})},p=()=>{const C=window.getSelection();C.rangeCount>0&&(i.current=C.getRangeAt(0))},g=()=>{if(i.current){const C=window.getSelection();C.removeAllRanges(),C.addRange(i.current)}},x=(C,M=null)=>{document.execCommand(C,!1,M),_(),setTimeout(()=>{r.current?.focus(),h()},0)},b=C=>{g();const M=window.getSelection();if(!M||!M.rangeCount){alert("Please select some text first"),r.current?.focus();return}const R=M.getRangeAt(0);if(!R.toString().trim()){alert("Please select some text first"),r.current?.focus();return}try{const E=document.createElement("span");E.style.fontSize=C;const I=R.extractContents();E.appendChild(I),R.insertNode(E),R.setStartAfter(E),R.setEndAfter(E),R.collapse(!0),M.removeAllRanges(),M.addRange(R),_()}catch(E){console.error("Font size application error:",E),alert("Failed to apply font size. Please try again.")}r.current?.focus()},_=()=>{e&&r.current&&e(r.current.innerHTML)},S=C=>{C.preventDefault();const M=C.clipboardData.getData("text/plain");document.execCommand("insertText",!1,M),_()},N=()=>{document.activeElement===r.current&&(h(),p())};j.useEffect(()=>(document.addEventListener("selectionchange",N),()=>{document.removeEventListener("selectionchange",N)}),[]);const T=[{label:"12px - Small",value:"12px"},{label:"14px - Normal",value:"14px"},{label:"16px - Medium",value:"16px"},{label:"18px - Large",value:"18px"},{label:"24px - Extra Large",value:"24px"},{label:"32px - Huge",value:"32px"}],O=C=>`p-2 rounded transition-colors cursor-pointer flex items-center justify-center min-w-[32px] min-h-[32px] ${C?"bg-green-100 text-[#0d9c06] hover:bg-green-200":"hover:bg-gray-200"}`;return s.jsxs("div",{className:"border-2 border-gray-300 rounded-md overflow-hidden focus-within:border-green-500 focus-within:ring-2 focus-within:ring-green-200 transition-all",children:[s.jsxs("div",{className:"bg-gray-50 border-b border-gray-300 p-2 flex items-center gap-1 flex-wrap",children:[s.jsx("button",{type:"button",onMouseDown:C=>{C.preventDefault(),x("bold")},className:O(u.bold),title:"Bold (Ctrl+B)",children:s.jsx(RB,{size:16,className:"shrink-0"})}),s.jsx("button",{type:"button",onMouseDown:C=>{C.preventDefault(),x("italic")},className:O(u.italic),title:"Italic (Ctrl+I)",children:s.jsx(jF,{size:16,className:"shrink-0"})}),s.jsx("button",{type:"button",onMouseDown:C=>{C.preventDefault(),x("underline")},className:O(u.underline),title:"Underline (Ctrl+U)",children:s.jsx(S$,{size:16,className:"shrink-0"})}),s.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),s.jsx("button",{type:"button",onMouseDown:C=>{C.preventDefault(),x("insertUnorderedList")},className:O(u.unorderedList),title:"Bullet List",children:s.jsx(PF,{size:16,className:"shrink-0"})}),s.jsx("button",{type:"button",onMouseDown:C=>{C.preventDefault(),x("insertOrderedList")},className:O(u.orderedList),title:"Numbered List",children:s.jsx(OF,{size:16,className:"shrink-0"})}),s.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{type:"button",onMouseDown:C=>{C.preventDefault(),p(),c(!o)},className:"p-2 hover:bg-gray-200 rounded transition-colors cursor-pointer flex items-center gap-1.5",title:"Text Size",children:[s.jsx(N$,{size:16,className:"shrink-0"}),s.jsx("span",{className:"text-xs leading-none",children:"Size"})]}),o&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onMouseDown:()=>c(!1)}),s.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-20 min-w-[150px]",children:T.map(C=>s.jsx("button",{type:"button",onMouseDown:M=>{M.preventDefault(),M.stopPropagation(),b(C.value),c(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 transition-colors cursor-pointer text-sm",children:C.label},C.value))})]})]}),s.jsx("div",{className:"flex-1"}),s.jsx("button",{type:"button",onMouseDown:C=>{C.preventDefault(),r.current&&(r.current.innerHTML="",_(),r.current.focus())},className:"text-xs text-gray-500 hover:text-gray-700 px-2 py-1.5 hover:bg-gray-200 rounded transition-colors cursor-pointer leading-none",children:"Clear"})]}),s.jsx("div",{ref:r,contentEditable:!0,suppressContentEditableWarning:!0,onInput:_,onPaste:S,className:"p-3 min-h-[100px] max-h-[300px] overflow-y-auto focus:outline-none",style:{wordWrap:"break-word",overflowWrap:"break-word"},"data-placeholder":n}),s.jsx("style",{children:`
        [contenteditable]:empty:before {
          content: attr(data-placeholder);
          color: #9ca3af;
          pointer-events: none;
        }
        
        [contenteditable] ul,
        [contenteditable] ol {
          margin-left: 20px;
          margin-top: 8px;
          margin-bottom: 8px;
        }
        
        [contenteditable] li {
          margin-bottom: 4px;
        }
      `})]})}function gye(){const{addNotification:t}=js(),[e,n]=j.useState([]),[r,i]=j.useState([]),[o,c]=j.useState(!1),[u,f]=j.useState(!1),[h,p]=j.useState(null),[g,x]=j.useState([]),[b,_]=j.useState(null),[S,N]=j.useState(!1),[T,O]=j.useState({id:"",title:"",excerpt:"",price:"",rating:"4.5",ratingCount:"0 ratings",duration:"2 Months",language:"Urdu / Hindi",badge:"",companyLogo:"",whatYouWillLearn:[""],includes:[""],fullDescription:[""]}),[C,M]=j.useState(null),[R,F]=j.useState(null),[E,I]=j.useState(null),[D,V]=j.useState(null),[z,$]=j.useState(!1),[L,se]=j.useState(null),[Ne,G]=j.useState([]),[H,ee]=j.useState(""),[W,K]=j.useState(!1),[B,J]=j.useState(0),[ie,ye]=j.useState(null),[ke,Le]=j.useState(null),[de,we]=j.useState(!1),[Z,De]=j.useState(null),[Ee,xe]=j.useState([]),[jt,Je]=j.useState(!1),[xt,Vt]=j.useState(null),[fr,Ur]=j.useState(!1),[Jt,Zt]=j.useState(""),[zi,Ns]=j.useState(!1),[ni,Bt]=j.useState(!1),[yi,fa]=j.useState(null),[cn,en]=j.useState([]);function No(Y){const oe=Ee.find(ae=>ae.id===Y);oe&&(fa(Y),en(oe.quiz||[]),Bt(!0))}function _s(){en([...cn,{id:Date.now(),question:"",options:["","","",""],answer:""}])}function ha(Y,oe,ae){const me=[...cn];me[Y]={...me[Y],[oe]:ae},en(me)}function _o(Y,oe,ae){const me=[...cn],Oe=[...me[Y].options];Oe[oe]=ae,me[Y].options=Oe,en(me)}function un(Y){const oe=cn.filter((ae,me)=>me!==Y);en(oe)}function mn(){yi&&(xe(Y=>Y.map(oe=>oe.id===yi?{...oe,quiz:cn}:oe)),t({type:"success",title:"Quiz Saved",message:'Quiz questions saved to section temporarily. Click "Save Curriculum" to persist changes.'}),Bt(!1))}function hr(Y){De(Y),xe(JSON.parse(JSON.stringify(Y.lectures||[]))),we(!0)}function Ft(){xe([...Ee,{id:`sec-${Date.now()}`,title:"New Section",lectures:[]}])}function So(Y,oe){xe(ae=>ae.map(me=>me.id===Y?{...me,title:oe}:me))}function ma(Y){Vt(Y),Je(!0)}function pa(){xt&&(xe(Y=>Y.filter(oe=>oe.id!==xt)),Je(!1),Vt(null))}function Vr(Y){xe(oe=>oe.map(ae=>ae.id===Y?{...ae,lectures:[...ae.lectures,{id:`lec-${Date.now()}`,title:"New Lecture",description:"",resources:[],duration:"10:00",type:"video",videoUrl:""}]}:ae))}function er(Y,oe,ae,me){xe(Oe=>Oe.map(Ze=>Ze.id===Y?{...Ze,lectures:Ze.lectures.map(ct=>ct.id===oe?{...ct,[ae]:me}:ct)}:Ze))}function tn(Y,oe){xe(ae=>ae.map(me=>me.id===Y?{...me,lectures:me.lectures.filter(Oe=>Oe.id!==oe)}:me))}async function Br(){try{const oe=await(await ze("/api/courses/curriculum",{method:"POST",headers:{"Content-Type":"application/json","x-admin-token":localStorage.getItem("admin_token")},body:JSON.stringify({courseId:Z.id,lectures:Ee})})).json();oe.ok?(t({type:"success",title:"Curriculum Saved",message:"Course curriculum updated successfully"}),we(!1),tr()):alert(oe.message)}catch(Y){console.error("Error saving curriculum:",Y),alert("Failed to save curriculum")}}j.useEffect(()=>{tr();const Y=setInterval(tr,5e3);return()=>clearInterval(Y)},[]);async function tr(){try{const Y=new Date().getTime(),[oe,ae]=await Promise.all([ze(`/api/courses/onsite?t=${Y}`),ze(`/api/courses/online?t=${Y}`)]),me=await oe.json(),Oe=await ae.json();me.ok?n(me.courses||[]):n(es),Oe.ok?i(Oe.courses||[]):i(Sh)}catch(Y){console.error("Error fetching dynamic courses:",Y),n(es),i(Sh)}}function Ar(Y){const oe=Y.target.files[0];oe&&(M(oe),F(URL.createObjectURL(oe)),Le(null))}const[ga,xi]=j.useState(null);function Fr(Y,oe=null){se(Y),xi(oe||null);const ae=localStorage.getItem("importedResources");if(ae){const me=JSON.parse(ae);G(me),$(!0)}else confirm("No resources imported yet. Go to Resources tab to import files from Google Drive?")&&(window.location.href="/admin/drive")}function ya(Y){if(ga){const{sectionId:oe,lectureId:ae}=ga;er(oe,ae,"videoUrl",Y.webViewLink),xi(null)}else L==="video"?(ye(Y.webViewLink),V(Y.name+" (from Resources)"),I(null)):L==="image"&&(Le(Y.thumbnailLink||Y.webViewLink),F(Y.thumbnailLink||Y.webViewLink),M(null));$(!1),ee("")}async function X(Y){if(Y.preventDefault(),!C&&!ke&&!R){alert("Please select a course image or import one from resources");return}K(!0),J(0);try{const oe=new FormData;oe.append("courseType",h),oe.append("id",T.id),oe.append("title",T.title),oe.append("excerpt",T.excerpt),oe.append("price",T.price),oe.append("rating",T.rating),oe.append("ratingCount",T.ratingCount),oe.append("duration",T.duration),oe.append("language",T.language),oe.append("badge",T.badge),oe.append("companyLogo",T.companyLogo||""),oe.append("whatYouWillLearn",JSON.stringify(T.whatYouWillLearn.filter(ct=>ct.trim()))),oe.append("includes",JSON.stringify(T.includes.filter(ct=>ct.trim()))),oe.append("fullDescription",JSON.stringify(T.fullDescription.filter(ct=>ct.trim()))),C?oe.append("image",C):ke?oe.append("imageUrl",ke):S&&R&&oe.append("existingImageUrl",R),J(30);const ae=S?`/api/courses/update/${h}/${T.id}`:"/api/courses/upload",Oe=await ze(ae,{method:S?"PUT":"POST",headers:{"x-admin-token":localStorage.getItem("admin_token")},body:oe});J(70);const Ze=await Oe.json();if(!Ze.ok)throw new Error(Ze.message||(S?"Update failed":"Upload failed"));J(100),t({type:"success",title:S?"Course Updated":"Course Added",message:S?`Successfully updated "${T.title}"`:`Successfully added "${T.title}"`}),Zt(S?`Course "${T.title}" has been updated successfully!`:`Course "${T.title}" has been added successfully!`),Ur(!0),ne(),f(!1),N(!1),x([]),await tr()}catch(oe){console.error(S?"Error updating course:":"Error adding course:",oe),alert((S?"Error updating course: ":"Error adding course: ")+oe.message)}finally{K(!1),J(0)}}function ne(){O({id:"",title:"",excerpt:"",price:"",rating:"4.5",ratingCount:"0 ratings",duration:"2 Months",language:"Urdu / Hindi",badge:"",companyLogo:"",whatYouWillLearn:[""],includes:[""],fullDescription:[""]}),M(null),F(null),I(null),V(null),ye(null),Le(null),p(null),N(!1)}function he(Y,oe){const ae=`${oe}-${Y}`;x(me=>me.includes(ae)?me.filter(Oe=>Oe!==ae):[...me,ae])}function Ae(Y){const ae=(Y==="onsite"?e:r).map(me=>`${Y}-${me.id}`);x(me=>ae.every(Ze=>me.includes(Ze))?me.filter(Ze=>!ae.includes(Ze)):[...new Set([...me,...ae])])}async function Ie(){if(g.length===0){t({type:"error",title:"No Selection",message:"Please select at least one course to delete"});return}Ns(!0)}async function Ve(){Ns(!1);try{for(const Y of g){const[oe,ae]=Y.split("-");await ze(`/api/courses/${oe}/${ae}`,{method:"DELETE",headers:{"x-admin-token":localStorage.getItem("admin_token")}})}t({type:"success",title:"Courses Deleted",message:`Successfully deleted ${g.length} course(s)`}),Zt(`Successfully deleted ${g.length} course(s)!`),Ur(!0),x([]),await tr()}catch(Y){console.error("Error deleting courses:",Y),t({type:"error",title:"Delete Failed",message:"Error deleting courses: "+Y.message})}}const qe=Ne.filter(Y=>{const oe=Y.name.toLowerCase().includes(H.toLowerCase()),ae=L==="video"?Y.mimeType.includes("video"):Y.mimeType.includes("image");return oe&&ae});function Me({course:Y,type:oe}){const ae=g.includes(`${oe}-${Y.id}`),me=b===`${oe}-${Y.id}`;return s.jsxs("div",{className:"relative block rounded-md ring-1 ring-slate-200 bg-white hover:shadow-[0_10px_30px_rgba(2,6,23,0.08)] transition-shadow overflow-hidden h-full cursor-pointer",onMouseEnter:()=>_(`${oe}-${Y.id}`),onMouseLeave:()=>_(null),onClick:()=>he(Y.id,oe),children:[(me||ae)&&s.jsx("div",{className:"absolute top-4 right-4 z-10 w-6 h-6 rounded-full border-2 border-green-600 bg-white flex items-center justify-center",children:ae&&s.jsx(Yu,{size:16,className:"text-green-600"})}),s.jsx("div",{className:"p-3 pb-0",children:s.jsx("div",{className:"overflow-hidden rounded-md h-48 bg-gray-100",children:s.jsx("img",{src:Y.image?.startsWith("http")?Y.image:Y.image?.startsWith("/uploads")?`https://spark-lms-backend.vercel.app${Y.image}`:Y.image,alt:Y.title,className:"h-full w-full object-cover",onError:Oe=>{Oe.target.src="https://via.placeholder.com/300x200?text=No+Image"}})})}),s.jsxs("div",{className:"px-4 pt-3 pb-4",children:[Y.badge&&s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-semibold mb-2 ${typeof Y.badge=="string"?"bg-gray-100 text-gray-800":Y.badge.color}`,children:typeof Y.badge=="object"?Y.badge.label:Y.badge}),s.jsx("h3",{className:"text-[18px] font-semibold text-slate-900 leading-snug line-clamp-2",children:Y.title}),s.jsx("p",{className:"mt-1 text-sm text-slate-500 line-clamp-2",children:Y.excerpt}),s.jsx("h4",{className:"mt-1 text-[20px] text-slate-700 font-semibold",children:Y.price}),s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 text-[13px] text-slate-700",children:[s.jsx(Kh,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),Y.rating||4.5]}),s.jsx("span",{className:"text-[12px] text-slate-500 ring-1 ring-slate-200 px-2 py-0.5 rounded-md",children:Y.ratingCount||"0 ratings"}),oe==="onsite"&&s.jsx("span",{className:"text-[12px] text-slate-500 ring-1 ring-slate-200 px-2 py-0.5 rounded-md",children:Y.duration||"Self-paced"})]}),oe==="online"&&s.jsxs("button",{onClick:Oe=>{Oe.stopPropagation(),hr(Y)},className:"mt-4 w-full flex items-center justify-center gap-2 bg-green-50 text-[#0d9c06] hover:bg-green-100 py-2 rounded-md text-sm font-medium transition-colors cursor-pointer",children:[s.jsx(EF,{size:16}),"Manage Curriculum"]})]})]})}return s.jsx(Lr,{children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(bn,{className:"text-[#0d9c06]"}),"Courses"]}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Manage your course catalog (",e.length," onsite, ",r.length," online)"]})]}),s.jsxs("div",{className:"flex gap-2",children:[g.length>0&&s.jsxs(s.Fragment,{children:[g.length===1&&s.jsxs("button",{onClick:()=>{const[Y,oe]=g[0].split("-"),me=(Y==="onsite"?e:r).find(Oe=>Oe.id===oe);me&&(N(!0),O({id:me.id||"",title:me.title||"",excerpt:me.excerpt||"",price:me.price||"",rating:me.rating||"4.5",ratingCount:me.ratingCount||"0 ratings",duration:me.duration||"2 Months",language:me.language||"Urdu / Hindi",badge:typeof me.badge=="object"?me.badge?.label||"":me.badge||"",companyLogo:me.companyLogo||"",whatYouWillLearn:me.whatYouWillLearn||[""],includes:me.includes||[""],fullDescription:me.fullDescription||[""]}),me.image&&F(me.image),p(Y),f(!0))},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition cursor-pointer",children:[s.jsx(m$,{size:20}),"Edit Course"]}),s.jsxs("button",{onClick:Ie,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md transition cursor-pointer",children:[s.jsx(wr,{size:20}),"Delete (",g.length,")"]})]}),s.jsxs("button",{onClick:()=>{N(!1),ne(),f(!0)},className:"flex items-center gap-2 bg-[#0d9c06] hover:bg-[#0b7e05] text-white px-4 py-2 rounded-md transition cursor-pointer",children:[s.jsx(ea,{size:20}),"Add Course"]})]})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-md shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-lg font-semibold",children:["Onsite Courses (",e.length,")"]}),e.length>0&&s.jsx("button",{onClick:()=>Ae("onsite"),className:"text-sm text-[#0d9c06] hover:py-2 hover:px-2 px-2 py-2 hover:bg-[#daffd8] hover:text-[#0d9c06] rounded-md transition-all ease-in-out duration-300 cursor-pointer",children:e.every(Y=>g.includes(`onsite-${Y.id}`))?"Deselect All":"Select All"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(Y=>s.jsx(Me,{course:Y,type:"onsite"},Y.id))})]}),s.jsxs("div",{className:"bg-white rounded-md shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-lg font-semibold",children:["Online Courses (",r.length,")"]}),r.length>0&&s.jsx("button",{onClick:()=>Ae("online"),className:"text-sm text-[#0d9c06] hover:py-2 hover:px-2 px-2 py-2 hover:bg-[#daffd8] hover:text-[#0d9c06] rounded-md transition-all ease-in-out duration-300 cursor-pointer",children:r.every(Y=>g.includes(`online-${Y.id}`))?"Deselect All":"Select All"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(Y=>s.jsx(Me,{course:Y,type:"online"},Y.id))})]})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-md max-w-3xl w-full my-8",children:[s.jsxs("div",{className:"sticky top-0 bg-gray-50 border-b border-gray-200 px-6 py-4 flex items-center justify-between rounded-t-xl z-10",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:S?"Edit Course":"Add New Course"}),s.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600 transition-colors cursor-pointer",children:s.jsx(ot,{size:24})})]}),s.jsx("div",{className:"p-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:h?s.jsxs("form",{onSubmit:X,className:"space-y-5",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:s.jsxs("p",{className:"text-sm text-blue-900",children:["Creating: ",s.jsx("strong",{className:"text-blue-700",children:h==="online"?"Online":"Onsite"})," Course",s.jsx("button",{type:"button",onClick:()=>p(null),className:"ml-3 text-blue-600 hover:text-blue-800 underline text-xs font-medium cursor-pointer",children:"Change Type"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Course Image *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:Ar,className:"flex-1 border-2 border-gray-300 rounded-md p-3 focus:border-green-500 focus:ring-2 focus:ring-green-200"}),s.jsxs("button",{type:"button",onClick:()=>Fr("image"),className:"px-4 py-2 bg-[#0d9c06] text-white rounded-md hover:bg-[#0b7e05] transition-colors whitespace-nowrap cursor-pointer flex items-center gap-2",children:[s.jsx(ih,{size:18}),"Import from Resources"]})]}),R&&s.jsx("img",{src:R.startsWith("blob:")||R.startsWith("/courses/")||R.startsWith("http")?R:R.startsWith("/uploads")?`https://spark-lms-backend.vercel.app${R}`:R,alt:"Preview",className:"mt-3 w-full h-auto max-h-96 object-contain rounded-md border-2 border-gray-200",onError:Y=>{console.error("Image preview failed to load:",R),Y.target.src="https://via.placeholder.com/400x300?text=Image+Preview+Failed"}})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Course ID *"}),s.jsx("input",{type:"text",value:T.id,onChange:Y=>O({...T,id:Y.target.value}),className:"w-full border-2 border-gray-300 rounded-md p-3 focus:border-green-500 focus:ring-2 focus:ring-green-200",placeholder:"e.g., web-development-2026",disabled:S,required:!0}),S&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Course ID cannot be changed when editing"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Price *"}),s.jsx("input",{type:"text",value:T.price,onChange:Y=>O({...T,price:Y.target.value}),className:"w-full border-2 border-gray-300 rounded-md p-3 focus:border-green-500 focus:ring-2 focus:ring-green-200",placeholder:"e.g., Rs. 25,000",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Course Title *"}),s.jsx("input",{type:"text",value:T.title,onChange:Y=>O({...T,title:Y.target.value}),className:"w-full border-2 border-gray-300 rounded-md p-3 focus:border-green-500 focus:ring-2 focus:ring-green-200",placeholder:"e.g., Web Development Masterclass 2026",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Short Description (Excerpt) *"}),s.jsx("textarea",{value:T.excerpt,onChange:Y=>O({...T,excerpt:Y.target.value}),className:"w-full border-2 border-gray-300 rounded-md p-3 focus:border-green-500 focus:ring-2 focus:ring-green-200",rows:"3",placeholder:"Brief description of the course...",required:!0})]}),s.jsxs("div",{className:`grid grid-cols-1 gap-4 ${h==="onsite"?"md:grid-cols-3":"md:grid-cols-2"}`,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Rating"}),s.jsx("input",{type:"number",step:"0.1",min:"0",max:"5",value:T.rating,onChange:Y=>O({...T,rating:Y.target.value}),className:"w-full border-2 border-gray-300 rounded-md p-3 focus:border-green-500 focus:ring-2 focus:ring-green-200"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Rating Count"}),s.jsx("input",{type:"text",value:T.ratingCount,onChange:Y=>O({...T,ratingCount:Y.target.value}),className:"w-full border-2 border-gray-300 rounded-md p-3 focus:border-green-500 focus:ring-2 focus:ring-green-200",placeholder:"e.g., 1,234 ratings"})]}),h==="onsite"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Duration"}),s.jsx("input",{type:"text",value:T.duration,onChange:Y=>O({...T,duration:Y.target.value}),className:"w-full border-2 border-gray-300 rounded-md p-3 focus:border-green-500 focus:ring-2 focus:ring-green-200",placeholder:"e.g., 2 Months"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Language"}),s.jsx("input",{type:"text",value:T.language,onChange:Y=>O({...T,language:Y.target.value}),className:"w-full border-2 border-gray-300 rounded-md p-3 focus:border-green-500 focus:ring-2 focus:ring-green-200",placeholder:"e.g., Urdu / Hindi"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Badge Label"}),s.jsx("input",{type:"text",value:T.badge,onChange:Y=>O({...T,badge:Y.target.value}),className:"w-full border-2 border-gray-300 rounded-md p-3 focus:border-green-500 focus:ring-2 focus:ring-green-200",placeholder:"e.g., Premium, Best Seller"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Company Logo",s.jsx("span",{className:"text-gray-500 text-xs font-normal ml-2",children:"(Optional - Logo to display with Spark Trainings)"})]}),s.jsxs("select",{value:T.companyLogo||"",onChange:Y=>O({...T,companyLogo:Y.target.value}),className:"w-full border-2 border-gray-300 rounded-md p-3 focus:border-green-500 focus:ring-2 focus:ring-green-200",children:[s.jsx("option",{value:"",children:"None (Spark Trainings only)"}),s.jsx("option",{value:"uk",children:" UK Flag (English/IELTS)"}),s.jsx("option",{value:"wordpress",children:"WordPress"}),s.jsx("option",{value:"adobe",children:"Adobe"}),s.jsx("option",{value:"shopify",children:"Shopify"}),s.jsx("option",{value:"meta",children:"Meta"}),s.jsx("option",{value:"youtube",children:"YouTube"}),s.jsx("option",{value:"tiktok",children:"TikTok"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select a platform logo to display alongside Spark Trainings logo in the course player header"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"What You Will Learn"}),s.jsxs("div",{className:"space-y-2",children:[T.whatYouWillLearn.map((Y,oe)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:Y,onChange:ae=>{const me=[...T.whatYouWillLearn];me[oe]=ae.target.value,O({...T,whatYouWillLearn:me})},className:"flex-1 border-2 border-gray-300 rounded-md p-3 focus:border-green-500 focus:ring-2 focus:ring-green-200",placeholder:"e.g., Master the fundamentals of..."}),T.whatYouWillLearn.length>1&&s.jsx("button",{type:"button",onClick:()=>{const ae=T.whatYouWillLearn.filter((me,Oe)=>Oe!==oe);O({...T,whatYouWillLearn:ae})},className:"px-3 py-2 bg-red-100 text-red-600 rounded-md hover:bg-red-200 transition-colors cursor-pointer",children:s.jsx(ot,{size:20})})]},oe)),s.jsxs("button",{type:"button",onClick:()=>{O({...T,whatYouWillLearn:[...T.whatYouWillLearn,""]})},className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-md text-gray-600 hover:border-[#0d9c06] hover:text-[#0d9c06] transition-colors cursor-pointer flex items-center justify-center gap-2",children:[s.jsx(ea,{size:18}),"Add Learning Point"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Course Includes"}),s.jsxs("div",{className:"space-y-2",children:[T.includes.map((Y,oe)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:Y,onChange:ae=>{const me=[...T.includes];me[oe]=ae.target.value,O({...T,includes:me})},className:"flex-1 border-2 border-gray-300 rounded-md p-3 focus:border-green-500 focus:ring-2 focus:ring-green-200",placeholder:"e.g., Certificate of completion"}),T.includes.length>1&&s.jsx("button",{type:"button",onClick:()=>{const ae=T.includes.filter((me,Oe)=>Oe!==oe);O({...T,includes:ae})},className:"px-3 py-2 bg-red-100 text-red-600 rounded-md hover:bg-red-200 transition-colors cursor-pointer",children:s.jsx(ot,{size:20})})]},oe)),s.jsxs("button",{type:"button",onClick:()=>{O({...T,includes:[...T.includes,""]})},className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-md text-gray-600 hover:border-[#0d9c06] hover:text-[#0d9c06] transition-colors cursor-pointer flex items-center justify-center gap-2",children:[s.jsx(ea,{size:18}),"Add Include Item"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Course Description (Paragraphs)"}),s.jsxs("div",{className:"space-y-2",children:[T.fullDescription.map((Y,oe)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1",children:s.jsx(pye,{value:Y,onChange:ae=>{const me=[...T.fullDescription];me[oe]=ae,O({...T,fullDescription:me})},placeholder:"Write a detailed paragraph about the course..."})}),T.fullDescription.length>1&&s.jsx("button",{type:"button",onClick:()=>{const ae=T.fullDescription.filter((me,Oe)=>Oe!==oe);O({...T,fullDescription:ae})},className:"px-3 py-2 bg-red-100 text-red-600 rounded-md hover:bg-red-200 transition-colors cursor-pointer h-fit",children:s.jsx(ot,{size:20})})]},oe)),s.jsxs("button",{type:"button",onClick:()=>{O({...T,fullDescription:[...T.fullDescription,""]})},className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-md text-gray-600 hover:border-[#0d9c06] hover:text-[#0d9c06] transition-colors cursor-pointer flex items-center justify-center gap-2",children:[s.jsx(ea,{size:18}),"Add Paragraph"]})]})]}),W&&s.jsxs("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-md p-5",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(e0,{className:"animate-spin text-blue-600",size:24}),s.jsxs("span",{className:"text-sm font-semibold text-blue-900",children:["Uploading... ",B,"%"]})]}),s.jsx("div",{className:"w-full bg-blue-200 rounded-full h-3",children:s.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${B}%`}})})]}),s.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:()=>f(!1),disabled:W,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md transition-colors cursor-pointer font-medium border border-gray-300",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:W,className:"flex-1 bg-[#0d9c06] hover:bg-[#0b8005] text-white py-2 px-6 rounded-md font-medium shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-all cursor-pointer",children:W?S?"Saving...":"Uploading...":S?"Save Changes":"Add Course"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-700 font-medium mb-6",children:"Select course type to continue:"}),s.jsxs("button",{onClick:()=>p("online"),className:"w-full p-8 border-2 border-[#0d9c06] rounded-md hover:bg-green-50 transition group cursor-pointer",children:[s.jsx("h3",{className:"text-xl font-bold text-[#0d9c06] mb-2",children:"Online Course"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Manage curriculum and lectures online"})]}),s.jsxs("button",{onClick:()=>p("onsite"),className:"w-full p-8 border-2 border-[#0d9c06] rounded-md hover:bg-green-50 transition group cursor-pointer",children:[s.jsx("h3",{className:"text-xl font-bold text-[#0d9c06] mb-2",children:"Onsite Course"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Physical location course in Pakistan"})]})]})})]})}),z&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-60 p-4",children:s.jsxs("div",{className:"bg-white rounded-md max-w-4xl w-full max-h-[80vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Select ",L==="video"?"Video":"Image"," from Resources"]}),s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Choose a file from your imported resources"})]}),s.jsx("button",{onClick:()=>$(!1),className:"text-gray-500 hover:text-gray-700 p-2 hover:bg-gray-100 rounded-md transition-colors cursor-pointer",children:s.jsx(ot,{size:24})})]}),s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"relative",children:[s.jsx(Di,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:`Search ${L}s...`,value:H,onChange:Y=>ee(Y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0d9c06] focus:border-transparent"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:qe.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-300 mb-4",children:L==="video"?s.jsx(Hs,{size:48,className:"mx-auto"}):s.jsx(ih,{size:48,className:"mx-auto"})}),s.jsxs("p",{className:"text-gray-500",children:["No ",L,"s found in resources."]}),s.jsx("button",{onClick:()=>{$(!1),window.location.href="/admin/drive"},className:"mt-4 text-[#0d9c06] hover:underline font-medium cursor-pointer",children:"Go to Resources to import files"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:qe.map(Y=>s.jsxs("div",{onClick:()=>ya(Y),className:"border-2 border-gray-200 rounded-md p-4 cursor-pointer hover:border-[#0d9c06] hover:shadow-md transition-all",children:[s.jsx("div",{className:"flex items-center justify-center h-32 bg-gray-50 rounded-md mb-3",children:Y.thumbnailLink?s.jsx("img",{src:Y.thumbnailLink,alt:Y.name,className:"h-full object-contain rounded"}):L==="video"?s.jsx(Hs,{size:48,className:"text-[#5022C3]"}):s.jsx(ih,{size:48,className:"text-[#0d9c06]"})}),s.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",title:Y.name,children:Y.name}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to select"})]},Y.id))})}),s.jsx("div",{className:"p-6 border-t border-gray-200",children:s.jsx("button",{onClick:()=>$(!1),className:"w-full px-6 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"})})]})}),de&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-md max-w-4xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Manage Curriculum"}),s.jsx("p",{className:"text-sm text-gray-500",children:Z?.title})]}),s.jsx("button",{onClick:()=>we(!1),className:"text-gray-500 hover:text-gray-700 cursor-pointer",children:s.jsx(ot,{size:24})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:s.jsxs("div",{className:"space-y-6",children:[Ee.map((Y,oe)=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-md overflow-hidden",children:[s.jsx("div",{className:"bg-gray-100 p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Section Name"}),s.jsx("input",{type:"text",value:Y.title,onChange:ae=>So(Y.id,ae.target.value),className:"w-full bg-white border border-gray-300 rounded-md px-3 py-2 text-sm font-semibold text-gray-900 focus:outline-none focus:border-[#0d9c06] focus:ring-1 focus:ring-[#0d9c06]",placeholder:"e.g. Introduction to Course"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[s.jsxs("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:[Y.lectures.length," lectures"]}),s.jsx("button",{onClick:()=>ma(Y.id),className:"text-red-500 hover:bg-[#ffd8d8] p-2 rounded-md transition-colors cursor-pointer",children:s.jsx(wr,{size:18})})]}),s.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200 flex justify-end",children:s.jsxs("button",{onClick:()=>No(Y.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-xs font-medium transition-colors cursor-pointer ${Y.quiz&&Y.quiz.length>0?"bg-purple-100 text-purple-700 hover:bg-purple-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[s.jsx(vg,{size:14}),Y.quiz&&Y.quiz.length>0?`Edit Quiz (${Y.quiz.length})`:"Add Quiz"]})})]})}),s.jsxs("div",{className:"p-4 space-y-4",children:[Y.lectures.map((ae,me)=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-md overflow-hidden group hover:border-gray-300 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white cursor-pointer hover:bg-gray-50",onClick:()=>{const Oe=document.getElementById(`lecture-content-${ae.id}`);Oe&&Oe.classList.toggle("hidden")},children:[s.jsx("div",{className:"text-gray-400 group-hover:text-gray-600",children:s.jsx(Zs,{size:16})}),s.jsxs("div",{className:"flex-1 font-medium text-sm text-gray-700 flex items-center gap-2",children:[s.jsxs("span",{children:["Lecture ",me+1,":"]}),s.jsx("span",{className:"text-gray-900",children:ae.title}),ae.videoUrl&&s.jsx(Hs,{size:14,className:"text-[#0d9c06]"}),ae.resources&&ae.resources.length>0&&s.jsx(FileText,{size:14,className:"text-blue-500"})]}),s.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:Oe=>{Oe.stopPropagation(),tn(Y.id,ae.id)},className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors",title:"Delete Lecture",children:s.jsx(wr,{size:14})}),s.jsx(Hh,{size:16,className:"text-gray-400"})]})]}),s.jsx("div",{id:`lecture-content-${ae.id}`,className:"hidden border-t border-gray-100 bg-gray-50/50 p-4 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-1 md:col-span-2",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Lecture Title"}),s.jsx("input",{type:"text",value:ae.title,onChange:Oe=>er(Y.id,ae.id,"title",Oe.target.value),className:"w-full bg-white border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-[#0d9c06] focus:ring-1 focus:ring-[#0d9c06]",placeholder:"e.g. Introduction to the topic"})]}),s.jsxs("div",{className:"col-span-1 md:col-span-2",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:ae.description||"",onChange:Oe=>er(Y.id,ae.id,"description",Oe.target.value),className:"w-full bg-white border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-[#0d9c06] focus:ring-1 focus:ring-[#0d9c06]",placeholder:"What will students learn in this lecture?",rows:"2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Video Content"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1 bg-white border border-gray-300 rounded-md px-3 py-2 text-sm text-gray-600 truncate flex items-center h-[38px]",children:ae.videoUrl?s.jsxs("span",{className:"flex items-center gap-2 text-[#0d9c06] font-medium text-xs",children:[s.jsx(Hs,{size:14}),"Video Selected"]}):s.jsx("span",{className:"text-gray-400 italic text-xs",children:"No content"})}),s.jsxs("button",{onClick:()=>Fr("video",{sectionId:Y.id,lectureId:ae.id}),className:"px-3 py-2 bg-white border border-gray-300 text-gray-700 rounded-md text-xs font-medium hover:bg-gray-50 hover:text-[#0d9c06] hover:border-[#0d9c06] transition-all flex items-center gap-1 whitespace-nowrap cursor-pointer h-[38px]",children:[s.jsx(Hs,{size:14}),"Select Video"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Duration"}),s.jsx("input",{type:"text",value:ae.duration,onChange:Oe=>er(Y.id,ae.id,"duration",Oe.target.value),className:"w-full bg-white border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-[#0d9c06] focus:ring-1 focus:ring-[#0d9c06]",placeholder:"e.g. 10:00"})]}),s.jsxs("div",{className:"col-span-1 md:col-span-2",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Downloadable Resources"}),s.jsxs("div",{className:"space-y-2",children:[ae.resources&&ae.resources.map((Oe,Ze)=>s.jsxs("div",{className:"flex items-center gap-2 bg-white border border-gray-200 p-2 rounded-md group/res",children:[s.jsx(FileText,{size:14,className:"text-gray-400"}),s.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-medium text-gray-700 truncate",children:Oe.title}),s.jsx("span",{className:"text-[10px] text-gray-400 truncate border-l border-gray-200 pl-2",children:Oe.url})]}),s.jsx("button",{onClick:()=>{const ct=ae.resources.filter((dn,ft)=>ft!==Ze);er(Y.id,ae.id,"resources",ct)},className:"text-gray-400 hover:text-red-500 opacity-0 group-hover/res:opacity-100 transition-opacity cursor-pointer",children:s.jsx(ot,{size:14})})]},Ze)),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",placeholder:"Title",className:"flex-1 bg-white border border-gray-300 rounded-md px-3 py-2 text-xs focus:outline-none focus:border-[#0d9c06] focus:ring-1 focus:ring-[#0d9c06]",id:`res-title-${ae.id}`}),s.jsx("input",{type:"text",placeholder:"URL",className:"flex-2 bg-white border border-gray-300 rounded-md px-3 py-2 text-xs focus:outline-none focus:border-[#0d9c06] focus:ring-1 focus:ring-[#0d9c06]",id:`res-url-${ae.id}`}),s.jsx("button",{onClick:()=>{const Oe=document.getElementById(`res-title-${ae.id}`),Ze=document.getElementById(`res-url-${ae.id}`);if(Oe.value&&Ze.value){const ct={title:Oe.value,url:Ze.value},dn=ae.resources||[];er(Y.id,ae.id,"resources",[...dn,ct]),Oe.value="",Ze.value=""}},className:"px-3 py-2 bg-gray-800 text-white rounded-md text-xs font-medium hover:bg-gray-900 transition-colors cursor-pointer",children:"Add Resource"})]})]})]})]})})]},ae.id)),s.jsxs("button",{onClick:()=>Vr(Y.id),className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-md text-gray-500 hover:border-[#0d9c06] hover:text-[#0d9c06] transition-colors text-sm font-medium flex items-center justify-center gap-2 cursor-pointer",children:[s.jsx(ea,{size:16}),"Add Lecture"]})]})]},Y.id)),s.jsxs("button",{onClick:Ft,className:"w-full py-4 bg-white border-2 border-dashed border-gray-300 rounded-md text-gray-600 hover:border-[#0d9c06] hover:text-[#0d9c06] transition-colors font-semibold flex items-center justify-center gap-2 shadow-sm cursor-pointer",children:[s.jsx(ea,{size:20}),"Add New Section"]})]})}),s.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>we(!1),className:"px-6 py-2 border border-gray-300 rounded-md hover:bg-gray-50 font-medium cursor-pointer",children:"Cancel"}),s.jsxs("button",{onClick:Br,className:"px-6 py-2 bg-[#0d9c06] text-white rounded-md hover:bg-[#0b7e05] font-medium flex items-center gap-2 cursor-pointer",children:[s.jsx(Bg,{size:18}),"Save Changes"]})]})]})}),jt&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-60 p-4",children:s.jsxs("div",{className:"bg-white rounded-md max-w-md w-full p-6 shadow-2xl transform transition-all scale-100",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:s.jsx(wr,{className:"text-red-600",size:24})}),s.jsx("h3",{className:"text-xl font-bold text-center text-gray-900 mb-2",children:"Delete Section?"}),s.jsx("p",{className:"text-center text-gray-500 mb-6",children:"Are you sure you want to delete this section? All lectures within it will also be permanently removed."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>Je(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 font-medium transition-colors cursor-pointer",children:"Cancel"}),s.jsx("button",{onClick:pa,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 font-medium transition-colors shadow-sm cursor-pointer",children:"Delete Section"})]})]})}),ni&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-70 p-4",children:s.jsxs("div",{className:"bg-white rounded-md shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-purple-50 rounded-t-xl",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(vg,{className:"text-[#0d9c06]"}),"Quiz Editor"]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Add checklist/MCQs for this section"})]}),s.jsx("button",{onClick:()=>Bt(!1),className:"text-gray-400 hover:text-gray-600 cursor-pointer p-2 rounded-full hover:bg-white/50",children:s.jsx(ot,{size:24})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:cn.length===0?s.jsxs("div",{className:"text-center py-10 bg-white rounded-md border-2 border-dashed border-gray-300",children:[s.jsx(vg,{size:48,className:"mx-auto text-gray-300 mb-3"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"No questions added yet"}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Create a quiz to test student knowledge"}),s.jsx("button",{onClick:_s,className:"px-4 py-2 bg-[#0d9c06] text-white rounded-md hover:bg-[#0d9c06] transition-colors font-medium text-sm cursor-pointer",children:"+ Add First Question"})]}):s.jsxs("div",{className:"space-y-6",children:[cn.map((Y,oe)=>s.jsxs("div",{className:"bg-white p-5 rounded-md border border-gray-200 shadow-sm relative group",children:[s.jsx("div",{className:"absolute right-4 top-4 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("button",{onClick:()=>un(oe),className:"text-red-400 hover:text-red-600 p-1 hover:bg-red-50 rounded cursor-pointer",title:"Delete Question",children:s.jsx(wr,{size:18})})}),s.jsxs("div",{className:"mb-4 pr-8",children:[s.jsxs("label",{className:"block text-xs font-bold text-gray-700 uppercase mb-1",children:["Question ",oe+1]}),s.jsx("input",{type:"text",value:Y.question,onChange:ae=>ha(oe,"question",ae.target.value),className:"w-full border-b-2 border-gray-200 focus:border-[#0d9c06] focus:outline-none py-2 text-gray-800 font-medium transition-colors bg-transparent placeholder-gray-400",placeholder:"Enter your question here..."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Y.options.map((ae,me)=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"radio",name:`correct-answer-${Y.id}`,checked:Y.answer===ae&&ae!=="",onChange:()=>ha(oe,"answer",ae),className:"w-4 h-4 text-[#0d9c06] focus:ring-[#0d9c06] cursor-pointer",title:"Mark as correct answer",disabled:!ae}),s.jsx("input",{type:"text",value:ae,onChange:Oe=>_o(oe,me,Oe.target.value),className:`flex-1 border border-gray-200 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-1 transition-all ${Y.answer===ae&&ae!==""?"border-[#0d9c06] ring-[#0d9c06] bg-[#0d9c06]":"focus:border-[#0d9c06] focus:ring-[#0d9c06]"}`,placeholder:`Option ${me+1}`})]},me))}),s.jsxs("div",{className:"mt-3 text-xs text-gray-500 flex items-center justify-between",children:[s.jsx("span",{children:"Select the radio button next to the correct answer."}),(!Y.answer||!Y.options.includes(Y.answer))&&s.jsxs("span",{className:"text-amber-600 font-medium flex items-center gap-1",children:[s.jsx(Fg,{size:12}),"Select a correct answer"]})]})]},Y.id)),s.jsxs("button",{onClick:_s,className:"w-full py-3 border-2 border-dashed border-gray-300 rounded-md text-gray-500 hover:border-[#0d9c06] hover:text-[#0d9c06] hover:bg-[#0c8506] transition-all font-medium flex items-center justify-center gap-2 cursor-pointer",children:[s.jsx(ea,{size:18}),"Add Another Question"]})]})}),s.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3 bg-white rounded-b-xl",children:[s.jsx("button",{onClick:()=>Bt(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-md font-medium transition-colors cursor-pointer",children:"Cancel"}),s.jsxs("button",{onClick:mn,className:"px-6 py-2 bg-[#0d9c06] hover:bg-[#0c8506] text-white rounded-md font-bold shadow-sm transition-colors cursor-pointer flex items-center gap-2",children:[s.jsx(Bg,{size:18}),"Save Quiz"]})]})]})}),fr&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-md shadow-2xl w-full max-w-md overflow-hidden transform transition-all scale-100",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 bg-linear-to-r from-green-50 to-emerald-50",children:[s.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto bg-green-100 rounded-full mb-4",children:s.jsx(Nr,{className:"text-green-600",size:32})}),s.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900",children:"Success!"})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("p",{className:"text-center text-gray-700 text-lg",children:Jt}),s.jsx("button",{onClick:()=>Ur(!1),className:"w-full bg-[#0d9c06] text-white px-4 py-3 rounded-md hover:bg-[#0b7e05] font-medium transition-colors cursor-pointer shadow-sm",children:"Done"})]})]})}),zi&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-md shadow-2xl w-full max-w-md overflow-hidden transform transition-all scale-100",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 bg-linear-to-r from-red-50 to-orange-50",children:[s.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto bg-red-100 rounded-full mb-4",children:s.jsx(Fg,{className:"text-red-600",size:32})}),s.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900",children:"Delete Courses?"})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("p",{className:"text-center text-gray-700",children:["Are you sure you want to delete ",s.jsx("strong",{children:g.length})," course(s)?"]}),s.jsx("p",{className:"text-center text-sm text-gray-500",children:"This action cannot be undone. All course data will be permanently removed."}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{onClick:()=>Ns(!1),className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 font-medium transition-colors cursor-pointer",children:"Cancel"}),s.jsx("button",{onClick:Ve,className:"flex-1 bg-red-600 text-white px-4 py-2.5 rounded-md hover:bg-red-700 font-medium shadow-sm transition-colors cursor-pointer",children:"Delete Courses"})]})]})]})})]})})}function i4(){return localStorage.getItem("admin_token")}function yye(){const[t,e]=j.useState([]),[n,r]=j.useState(!1),[i,o]=j.useState([]),[c,u]=j.useState(!1),[f,h]=j.useState(""),[p,g]=j.useState("all"),[x,b]=j.useState(!1),[_,S]=j.useState([]),[N,T]=j.useState(!1),[O,C]=j.useState([]),[M,R]=j.useState("");j.useEffect(()=>{F()},[]);async function F(){r(!0);const ee=i4();try{const K=await(await ze("/api/drive/list",{headers:{"x-admin-token":ee}})).json();K.ok?e(K.files||[]):console.error(K.message)}catch(W){console.error(W),alert(` Could not connect to server. Make sure the backend is running.

Error: `+W.message)}finally{r(!1)}}async function E(){T(!0);const ee=i4();try{const K=await(await ze("/api/drive/list",{headers:{"x-admin-token":ee}})).json();if(K.ok){const B=K.files||[];S(B),K.mock&&(console.warn(" Using mock Google Drive data"),console.log(" To connect your Google Drive, follow: GOOGLE_DRIVE_SETUP.md"))}else console.error(K.message),K.hint&&console.log("",K.hint)}catch(W){console.error(W),alert(` Could not connect to server. Make sure the backend is running.

Error: `+W.message)}finally{T(!1)}}function I(){b(!0),C([]),E()}function D(ee){C(W=>W.includes(ee)?W.filter(K=>K!==ee):[...W,ee])}function V(){if(O.length===0){alert("Please select at least one file to import");return}const ee=_.filter(K=>O.includes(K.id)),W=[...t];ee.forEach(K=>{W.find(B=>B.id===K.id)||W.push(K)}),e(W),b(!1),C([]),alert(`Successfully imported ${ee.length} file(s) to Resources!`)}function z(ee){return ee.includes("video")?s.jsx(Hs,{size:40,className:"text-[#5022C3]"}):ee.includes("image")?s.jsx(ih,{size:40,className:"text-[#0d9c06]"}):s.jsx(Ug,{size:40,className:"text-[#f4c150]"})}function $(ee){return ee.includes("video")?"video":ee.includes("image")?"image":"document"}function L(ee){o(W=>W.includes(ee)?W.filter(K=>K!==ee):[...W,ee])}function se(){if(i.length===0){alert("Please select at least one file to import");return}const ee=t.filter(W=>i.includes(W.id));localStorage.setItem("importedResources",JSON.stringify(ee)),u(!0)}function Ne(){o([])}const G=t.filter(ee=>{const W=ee.name.toLowerCase().includes(f.toLowerCase()),K=p==="all"||$(ee.mimeType)===p;return W&&K}),H=_.filter(ee=>ee.name.toLowerCase().includes(M.toLowerCase()));return s.jsxs(Lr,{children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center gap-3",children:[s.jsx(ah,{className:"text-[#0d9c06]"}),"Resources Library"]}),s.jsx("p",{className:"text-gray-600",children:"Manage your Google Drive resources and import them to courses"})]}),s.jsxs("button",{onClick:I,className:"bg-[#0d9c06] text-white px-6 py-3 rounded-md font-medium hover:bg-[#0b7e05] transition-colors flex items-center gap-2 shadow-md cursor-pointer",children:[s.jsx(WT,{size:20}),"Import from Google Drive"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white border border-gray-200 rounded-md p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-[#5022C3]/10 rounded-md",children:s.jsx(Hs,{size:20,className:"text-[#5022C3]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Videos"}),s.jsx("p",{className:"text-xl font-bold text-gray-800",children:t.filter(ee=>ee.mimeType.includes("video")).length})]})]})}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-md p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-[#0d9c06]/10 rounded-md",children:s.jsx(ih,{size:20,className:"text-[#0d9c06]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Images"}),s.jsx("p",{className:"text-xl font-bold text-gray-800",children:t.filter(ee=>ee.mimeType.includes("image")).length})]})]})}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-md p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-[#f4c150]/10 rounded-md",children:s.jsx(Ug,{size:20,className:"text-[#f4c150]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Documents"}),s.jsx("p",{className:"text-xl font-bold text-gray-800",children:t.filter(ee=>!ee.mimeType.includes("video")&&!ee.mimeType.includes("image")).length})]})]})}),s.jsx("div",{className:"bg-linear-to-br from-[#0d9c06] to-[#0b7e05] text-white rounded-md p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-white/20 rounded-md",children:s.jsx(Ia,{size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Selected"}),s.jsx("p",{className:"text-xl font-bold",children:i.length})]})]})})]}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-md p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Di,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search files...",value:f,onChange:ee=>h(ee.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0d9c06] focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($4,{size:20,className:"text-gray-600"}),s.jsxs("select",{value:p,onChange:ee=>g(ee.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0d9c06] focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Files"}),s.jsx("option",{value:"video",children:"Videos Only"}),s.jsx("option",{value:"image",children:"Images Only"}),s.jsx("option",{value:"document",children:"Documents Only"})]})]}),i.length>0&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:Ne,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors flex items-center gap-2 cursor-pointer",children:[s.jsx(ot,{size:16}),"Clear"]}),s.jsxs("button",{onClick:se,className:"px-4 py-2 bg-[#0d9c06] text-white rounded-md hover:bg-[#0b7e05] transition-colors flex items-center gap-2 cursor-pointer",children:[s.jsx(Ia,{size:16}),"Export (",i.length,")"]})]})]})}),G.length===0?s.jsxs("div",{className:"text-center py-12 bg-white border border-gray-200 rounded-md",children:[s.jsx(Hs,{size:48,className:"mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500 mb-4",children:f||p!=="all"?"No files match your search":"No resources imported yet"}),s.jsxs("button",{onClick:I,className:"inline-flex items-center gap-2 bg-[#0d9c06] text-white px-6 py-3 rounded-md hover:bg-[#11c50a] transition-colors cursor-pointer",children:[s.jsx(WT,{size:20}),"Import from Google Drive"]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:G.map(ee=>{const W=i.includes(ee.id);return s.jsxs("div",{className:`bg-white border-2 rounded-md p-4 hover:shadow-lg transition-all cursor-pointer ${W?"border-[#0d9c06] ring-2 ring-[#0d9c06]/20":"border-gray-200 hover:border-[#0d9c06]/50"}`,onClick:()=>L(ee.id),children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${W?"bg-[#0d9c06] border-[#0d9c06]":"border-gray-300"}`,children:W&&s.jsx(Yu,{size:14,className:"text-white"})}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${$(ee.mimeType)==="video"?"bg-[#5022C3]/10 text-[#5022C3]":$(ee.mimeType)==="image"?"bg-[#0d9c06]/10 text-[#0d9c06]":"bg-[#f4c150]/10 text-[#f4c150]"}`,children:$(ee.mimeType)})]}),s.jsx("div",{className:"flex items-center justify-center h-32 bg-gray-50 rounded-md mb-3",children:ee.thumbnailLink?s.jsx("img",{src:ee.thumbnailLink,alt:ee.name,className:"h-full object-contain rounded"}):z(ee.mimeType)}),s.jsx("h3",{className:"font-semibold text-gray-800 truncate mb-2",title:ee.name,children:ee.name}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("a",{href:ee.webViewLink,target:"_blank",rel:"noreferrer",onClick:K=>K.stopPropagation(),className:"flex-1 text-sm text-[#0d9c06] hover:bg-[#0d9c06]/10 py-2 px-3 rounded-md transition-colors flex items-center justify-center gap-1 border border-[#0d9c06]/30",children:["View ",s.jsx(x1,{size:14})]}),s.jsx("button",{onClick:K=>{K.stopPropagation(),navigator.clipboard.writeText(ee.id),alert("File ID copied!")},className:"text-xs bg-gray-100 hover:bg-gray-200 text-gray-600 px-3 py-2 rounded-md transition-colors",children:"Copy ID"})]})]},ee.id)})}),x&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-md max-w-6xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gray-50 rounded-t-xl",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Import from Google Drive"}),s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Select files to import to your resources library"})]}),s.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-200 rounded-md transition-colors cursor-pointer",children:s.jsx(ot,{size:24})})]}),s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"relative",children:[s.jsx(Di,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search Google Drive files...",value:M,onChange:ee=>R(ee.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0d9c06] focus:border-transparent"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:N?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(e0,{className:"animate-spin h-12 w-12 text-[#0d9c06] mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading Google Drive files..."})]}):H.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Hs,{size:48,className:"mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No files found in Google Drive"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:H.map(ee=>{const W=O.includes(ee.id);return s.jsxs("div",{onClick:()=>D(ee.id),className:`border-2 rounded-md p-4 cursor-pointer transition-all ${W?"border-[#0d9c06] bg-[#0d9c06]/5 ring-2 ring-[#0d9c06]/20":"border-gray-200 hover:border-[#0d9c06]/50 hover:shadow-md"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${W?"bg-[#0d9c06] border-[#0d9c06]":"border-gray-300"}`,children:W&&s.jsx(Yu,{size:14,className:"text-white"})}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${$(ee.mimeType)==="video"?"bg-[#5022C3]/10 text-[#5022C3]":$(ee.mimeType)==="image"?"bg-[#0d9c06]/10 text-[#0d9c06]":"bg-[#f4c150]/10 text-[#f4c150]"}`,children:$(ee.mimeType)})]}),s.jsx("div",{className:"flex items-center justify-center h-24 bg-gray-50 rounded-md mb-3",children:ee.thumbnailLink?s.jsx("img",{src:ee.thumbnailLink,alt:ee.name,className:"h-full object-contain rounded"}):z(ee.mimeType)}),s.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",title:ee.name,children:ee.name})]},ee.id)})})}),s.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-xl flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:[O.length," file(s) selected"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md transition-colors cursor-pointer font-medium border border-gray-300",children:"Cancel"}),s.jsxs("button",{onClick:V,disabled:O.length===0,className:"px-6 py-2 bg-[#0d9c06] text-white rounded-md hover:bg-[#0b7e05] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 cursor-pointer font-medium shadow-sm hover:shadow-md",children:[s.jsx(Ia,{size:18}),"Import ",O.length>0&&`(${O.length})`]})]})]})]})}),c&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-md p-6 max-w-md w-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-[#0d9c06]/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Yu,{size:32,className:"text-[#0d9c06]"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Files Exported Successfully!"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:[i.length," file(s) have been exported and are ready to use in course creation."]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{u(!1),Ne()},className:"flex-1 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md transition-colors cursor-pointer font-medium border border-gray-300",children:"Close"}),s.jsx("button",{onClick:()=>{u(!1),window.location.href="/admin/courses"},className:"flex-1 px-4 py-2 bg-[#0d9c06] text-white rounded-md hover:bg-[#0b7e05] transition-colors cursor-pointer font-medium shadow-sm hover:shadow-md",children:"Add to Course"})]})]})})})]})}function xye(){const[t,e]=j.useState([]),[n,r]=j.useState(!0),[i,o]=j.useState({totalOrders:0,totalRevenue:0,averageOrderValue:0,thisMonthOrders:0,lastMonthOrders:0,courseBreakdown:{}}),[c,u]=j.useState(null),[f,h]=j.useState({show:!1,order:null,newStatus:""});j.useEffect(()=>{p();const S=setInterval(p,5e3);return()=>clearInterval(S)},[]);async function p(){try{const N=await(await ze("/api/orders",{headers:{"x-admin-token":localStorage.getItem("admin_token")}})).json();if(N.ok&&N.orders){const T=N.orders.sort((O,C)=>{const M=new Date(O.createdAt||0);return new Date(C.createdAt||0)-M});e(T),b(T)}}catch(S){console.error("Error fetching orders:",S)}}function g(S,N){h({show:!0,order:S,newStatus:N})}async function x(){const{order:S,newStatus:N}=f;if(S)try{const O=await(await ze(`/api/admin/orders/${S._id}/status`,{method:"PUT",headers:{"Content-Type":"application/json","x-admin-token":localStorage.getItem("admin_token")},body:JSON.stringify({status:N})})).json();O.ok?(p(),h({show:!1,order:null,newStatus:""})):alert("Failed to update status: "+O.message)}catch(T){console.error("Error updating status:",T),alert("Error updating status")}}function b(S){const N=new Date,T=N.getMonth(),O=N.getFullYear();let C=0,M=0,R=0,F=0;const E={};S.forEach(D=>{const V=String(D.amount||"0"),z=parseInt(V.replace(/[^0-9]/g,""))||0;C+=z,(D.status==="Pending"||!D.status)&&F++;const $=new Date(D.createdAt);$.getMonth()===T&&$.getFullYear()===O&&M++,$.getMonth()===T-1&&$.getFullYear()===O&&R++;const L=D.courseTitle||"Unknown";E[L]=(E[L]||0)+1});const I=S.length>0?C/S.length:0;o({totalOrders:S.length,totalRevenue:C,averageOrderValue:I,pendingOrders:F,thisMonthOrders:M,lastMonthOrders:R,courseBreakdown:E})}const _=i.lastMonthOrders>0?((i.thisMonthOrders-i.lastMonthOrders)/i.lastMonthOrders*100).toFixed(1):0;return s.jsxs(Lr,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center gap-3",children:[s.jsx(cd,{className:"text-[#0d9c06]"}),"Orders Analytics"]}),s.jsx("p",{className:"text-gray-600",children:"Track and analyze your student enrollments and revenue"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-linear-to-br from-[#0d9c06] to-[#0b7e05] text-white rounded-md shadow-lg p-6 transform hover:scale-102 transition-transform",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-white/20 rounded-md backdrop-blur-sm",children:s.jsx(cd,{size:24})}),s.jsx(gl,{size:20,className:"opacity-80"})]}),s.jsx("h3",{className:"text-sm font-medium opacity-90 mb-1",children:"Total Orders"}),s.jsx("p",{className:"text-3xl font-bold",children:i.totalOrders}),s.jsx("p",{className:"text-xs mt-2 opacity-80",children:"All time enrollments"})]}),s.jsxs("div",{className:"bg-linear-to-br from-[#5022C3] to-[#3d1a99] text-white rounded-md shadow-lg p-6 transform hover:scale-102 transition-transform",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-white/20 rounded-md backdrop-blur-sm",children:s.jsx(B4,{size:24})}),s.jsx(gl,{size:20,className:"opacity-80"})]}),s.jsx("h3",{className:"text-sm font-medium opacity-90 mb-1",children:"Total Revenue"}),s.jsxs("p",{className:"text-3xl font-bold",children:["Rs. ",i.totalRevenue.toLocaleString()]}),s.jsx("p",{className:"text-xs mt-2 opacity-80",children:"Total earnings"})]}),s.jsxs("div",{className:"bg-linear-to-br from-[#f4c150] to-[#d4a840] text-white rounded-md shadow-lg p-6 transform hover:scale-102 transition-transform",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"p-3 bg-white/20 rounded-md backdrop-blur-sm",children:s.jsx(hN,{size:24})})}),s.jsx("h3",{className:"text-sm font-medium opacity-90 mb-1",children:"Pending Orders"}),s.jsx("p",{className:"text-3xl font-bold",children:i.pendingOrders}),s.jsx("p",{className:"text-xs mt-2 opacity-80",children:"Needs approval"})]}),s.jsxs("div",{className:"bg-linear-to-br from-[#1c1d1f] to-[#2d2e30] text-white rounded-md shadow-lg p-6 transform hover:scale-102 transition-transform",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-white/20 rounded-md backdrop-blur-sm",children:s.jsx(vl,{size:24})}),_>=0?s.jsx(il,{size:20,className:"text-green-400"}):s.jsx(jB,{size:20,className:"text-red-400"})]}),s.jsx("h3",{className:"text-sm font-medium opacity-90 mb-1",children:"This Month"}),s.jsx("p",{className:"text-3xl font-bold",children:i.thisMonthOrders}),s.jsxs("p",{className:`text-xs mt-2 flex items-center gap-1 ${_>=0?"text-green-400":"text-red-400"}`,children:[_>=0?"":""," ",Math.abs(_),"% from last month"]})]})]}),s.jsxs("div",{className:"bg-white rounded-md shadow-sm border border-gray-200 p-6 mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Orders by Course"}),s.jsxs("div",{className:"space-y-4",children:[Object.entries(i.courseBreakdown).map(([S,N])=>{const T=(N/i.totalOrders*100).toFixed(1);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:S}),s.jsxs("span",{className:"text-sm text-gray-500",children:[N," orders (",T,"%)"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-linear-to-r from-[#0d9c06] to-[#5022C3] h-2.5 rounded-full transition-all duration-500",style:{width:`${T}%`}})})]},S)}),Object.keys(i.courseBreakdown).length===0&&s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No course data available"})]})]}),s.jsxs("div",{className:"bg-white rounded-md shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Recent Orders"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200 text-xs uppercase text-gray-500 font-semibold",children:[s.jsx("th",{className:"p-4",children:"Student Name"}),s.jsx("th",{className:"p-4",children:"City"}),s.jsx("th",{className:"p-4",children:"Course"}),s.jsx("th",{className:"p-4",children:"Date"}),s.jsx("th",{className:"p-4",children:"Amount"}),s.jsx("th",{className:"p-4",children:"Payment SS"}),s.jsx("th",{className:"p-4",children:"Access"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:t.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"p-8 text-center text-gray-500",children:"No orders found."})}):t.slice(0,10).map(S=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsxs("td",{className:"p-4",children:[s.jsxs("div",{className:"font-medium text-[14px] text-gray-900",children:[S.firstName," ",S.lastName]}),s.jsx("div",{className:"text-xs text-gray-500",children:S.email})]}),s.jsx("td",{className:"p-4 text-[12px] text-gray-700",children:S.city||"N/A"}),s.jsx("td",{className:"p-4 text-[12px] text-gray-700",children:S.courseTitle||"N/A"}),s.jsx("td",{className:"p-4 text-[13px] text-gray-600",children:S.createdAt?new Date(S.createdAt).toLocaleDateString():"N/A"}),s.jsx("td",{className:"p-4 font-medium text-gray-900",children:S.amount?String(S.amount).includes("Rs.")?S.amount:`Rs. ${parseInt(S.amount).toLocaleString()}`:"Rs. 0"}),s.jsx("td",{className:"p-4",children:S.paymentScreenshot?s.jsxs("button",{onClick:()=>{let N=S.paymentScreenshot;!N.startsWith("http://")&&!N.startsWith("https://")&&(N.startsWith("/uploads")?N=`${ad.apiUrl}${N}`:N.startsWith("uploads")?N=`${ad.apiUrl}/${N}`:N=`${ad.apiUrl}/${N}`),console.log("Screenshot URL:",N),u(N)},className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-md text-xs font-medium transition-colors cursor-pointer",children:[s.jsx(Ws,{size:14}),"View"]}):s.jsx("span",{className:"text-xs text-gray-400",children:"No screenshot"})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${S.status==="Approved"?"bg-green-100 text-green-800":S.status==="Pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:S.status||"Pending"}),S.status!=="Approved"?s.jsx("button",{onClick:()=>g(S,"Approved"),className:"px-3 py-1.5 bg-[#0d9c06] text-white text-xs font-medium rounded-md hover:bg-[#0b7e05] transition-colors shadow-sm cursor-pointer",children:"Give Access"}):s.jsx("button",{onClick:()=>g(S,"Pending"),className:"px-3 py-1.5 bg-red-50 text-red-600 border border-red-200 text-xs font-medium rounded-md hover:bg-red-100 transition-colors cursor-pointer",children:"Revoke"})]})})]},S._id))})]})}),t.length>10&&s.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Showing 10 of ",t.length," orders"]})})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>u(null),children:s.jsxs("div",{className:"relative bg-white rounded-md shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:S=>S.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Ws,{size:20,className:"text-[#0d9c06]"}),"Payment Screenshot"]}),s.jsx("button",{onClick:()=>u(null),className:"p-2 hover:bg-gray-200 rounded-md transition-colors cursor-pointer",children:s.jsx(ot,{size:20,className:"text-gray-600"})})]}),s.jsxs("div",{className:"p-6 overflow-auto max-h-[calc(90vh-80px)]",children:[s.jsx("div",{className:"flex items-center justify-center bg-gray-100 rounded-md p-4",children:s.jsx("img",{src:c,alt:"Payment Screenshot",className:"max-w-full h-auto rounded-md shadow-lg",onError:S=>{S.target.src="https://via.placeholder.com/400x300?text=Image+Not+Found"}})}),s.jsx("div",{className:"mt-4 flex items-center justify-center gap-3",children:s.jsxs("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0d9c06] hover:bg-[#0b7e05] text-white rounded-md font-medium transition-colors cursor-pointer",children:[s.jsx(il,{size:16}),"Open in New Tab"]})})]})]})}),f.show&&f.order&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-md shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:`p-6 border-b border-gray-100 flex justify-between items-center ${f.newStatus==="Approved"?"bg-linear-to-r from-[#0d9c06] to-[#0b7e05]":"bg-linear-to-r from-red-600 to-red-700"} text-white`,children:[s.jsx("h2",{className:"text-xl font-bold flex items-center gap-2",children:f.newStatus==="Approved"?"Confirm Access":"Revoke Access"}),s.jsx("button",{onClick:()=>h({show:!1,order:null,newStatus:""}),className:"text-white hover:bg-white/20 p-2 rounded-md transition-colors cursor-pointer",children:s.jsx(ot,{size:20})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("p",{className:"text-gray-600 text-lg",children:["Are you sure you want to ",s.jsx("span",{className:"font-bold",children:f.newStatus==="Approved"?"give access":"revoke access"})," for:"]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-md space-y-2 border border-gray-200",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Student:"}),s.jsxs("span",{className:"font-medium text-gray-900",children:[f.order.firstName," ",f.order.lastName]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Enrolled Course:"}),s.jsx("span",{className:"font-medium text-gray-900",children:f.order.courseTitle})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Paid Amount:"}),s.jsx("span",{className:"font-medium text-gray-900",children:f.order.amount})]})]}),f.newStatus==="Approved"&&s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 text-green-800 rounded-md text-sm",children:[s.jsx(Nr,{size:18,className:"mt-0.5 shrink-0"}),s.jsx("p",{children:"This will immediately allow the student to access the course content from their dashboard."})]}),f.newStatus==="Pending"&&s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 text-red-800 rounded-md text-sm",children:[s.jsx(ot,{size:18,className:"mt-0.5 shrink-0"}),s.jsx("p",{children:"The student will lose access to the course content immediately."})]})]}),s.jsxs("div",{className:"p-6 border-t border-gray-100 flex justify-end gap-3 bg-gray-50",children:[s.jsx("button",{onClick:()=>h({show:!1,order:null,newStatus:""}),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-100 font-medium transition-colors cursor-pointer",children:"Cancel"}),s.jsxs("button",{onClick:x,className:`px-6 py-2 text-white rounded-md font-medium transition-colors shadow-sm cursor-pointer ${f.newStatus==="Approved"?"bg-[#0d9c06] hover:bg-[#0b7e05]":"bg-red-600 hover:bg-red-700"}`,children:["Confirm ",f.newStatus==="Approved"?"Access":"Revoke"]})]})]})})]})}function vye(){const{addNotification:t}=js(),[e,n]=j.useState([]),[r,i]=j.useState(!0),[o,c]=j.useState(""),[u,f]=j.useState(!1),[h,p]=j.useState({email:"",displayName:""}),[g,x]=j.useState({isOpen:!1,email:"",password:"",referenceNumber:""}),[b,_]=j.useState(!1),[S,N]=j.useState({type:"",text:""}),[T,O]=j.useState({isOpen:!1,type:null,user:null,title:"",message:"",confirmText:"",confirmColor:""}),C=e.filter(W=>W.email.toLowerCase().includes(o.toLowerCase())||W.displayName&&W.displayName.toLowerCase().includes(o.toLowerCase()));j.useEffect(()=>{M()},[]),j.useEffect(()=>{function W(K){b&&!K.target.closest(".export-dropdown")&&_(!1)}return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[b]);async function M(){i(!0);try{const K=await(await ze("/api/admin/users",{headers:{"x-admin-token":localStorage.getItem("admin_token")}})).json();K.ok&&K.users?n(K.users):N({type:"error",text:K.message||"Failed to fetch users"})}catch(W){console.error("Error fetching users:",W),N({type:"error",text:"Failed to fetch users: "+W.message})}finally{i(!1)}}async function R(){if(window.confirm("This will import all users from Firebase into MongoDB and sync their status. Proceed?")){i(!0);try{const K=await(await ze("/api/admin/users/sync-firebase",{method:"POST",headers:{"x-admin-token":localStorage.getItem("admin_token")}})).json();K.ok?(t({type:"success",title:"Sync Complete",message:K.message}),M()):t({type:"error",title:"Sync Failed",message:K.message})}catch(W){console.error("Sync error:",W),t({type:"error",title:"Error",message:"Failed to connect to backend"})}finally{i(!1)}}}async function F(W){W.preventDefault(),N({type:"",text:""});try{const K=await ze("/api/admin/users/create",{method:"POST",headers:{"Content-Type":"application/json","x-admin-token":localStorage.getItem("admin_token")},body:JSON.stringify(h)}),B=await K.json();K.ok&&B.ok?(x({isOpen:!0,email:B.user.email,password:B.user.temporaryPassword,referenceNumber:B.user.referenceNumber}),f(!1),p({email:"",displayName:""}),M()):N({type:"error",text:B.message||"Failed to create user"})}catch(K){console.error("Error creating user:",K),N({type:"error",text:"Failed to create user"})}}const[E,I]=j.useState({isOpen:!1,recipient:"",subject:"",body:"",loading:!1});async function D(W){N({type:"",text:""}),I(K=>({...K,loading:!0,isOpen:!0,recipient:W.email}));try{const K=await ze("/api/admin/users/reset-password",{method:"POST",headers:{"Content-Type":"application/json","x-admin-token":localStorage.getItem("admin_token")},body:JSON.stringify({email:W.email})}),B=await K.json();if(K.ok&&B.ok){const ie=`Hello ${W.displayName?W.displayName.split(" ")[0]:"User"},

We received a request to reset your password for your Spark Trainings account.
You can reset your password by clicking the link below:

${B.resetLink}

If you didn't ask for a password reset, you can ignore this email.

Best regards,
Spark Trainings Team`;I({isOpen:!0,recipient:W.email,subject:"Password Reset Request",body:ie,loading:!1})}else N({type:"error",text:B.message||"Failed to generate reset link"}),I(J=>({...J,isOpen:!1,loading:!1}))}catch(K){console.error("Error generating reset link:",K),N({type:"error",text:"Failed to generate reset link"}),I(B=>({...B,isOpen:!1,loading:!1}))}}async function V(W){W.preventDefault(),I(K=>({...K,loading:!0}));try{const K=await ze("/api/admin/send-email",{method:"POST",headers:{"Content-Type":"application/json","x-admin-token":localStorage.getItem("admin_token")},body:JSON.stringify({email:E.recipient,subject:E.subject,body:E.body})}),B=await K.json();K.ok&&B.ok?(t({type:"success",title:"Email Sent",message:`Password reset email sent to ${E.recipient}`}),N({type:"success",text:`Email sent to ${E.recipient}`}),I({isOpen:!1,recipient:"",subject:"",body:"",loading:!1})):N({type:"error",text:B.message||"Failed to send email"})}catch(K){console.error("Error sending email:",K),N({type:"error",text:"Failed to send email"})}finally{I(K=>({...K,loading:!1}))}}function z(W){const K=!W.disabled;O({isOpen:!0,type:"toggle",user:W,title:K?"Disable User Account":"Enable User Account",message:K?`Are you sure you want to disable ${W.email}? They will no longer be able to sign in.`:`Are you sure you want to enable ${W.email}? They will regain access to their account.`,confirmText:K?"Disable User":"Enable User",confirmColor:K?"red":"green"})}function $(W){O({isOpen:!0,type:"delete",user:W,title:"Delete User Account",message:`Are you sure you want to PERMANENTLY delete ${W.email}? This action cannot be undone and all user data will be lost.`,confirmText:"Delete User",confirmColor:"red"})}async function L(){const{type:W,user:K}=T;K&&(W==="toggle"?await se(K.uid,K.disabled,K.email):W==="delete"&&await Ne(K.uid,K.email),O(B=>({...B,isOpen:!1})))}async function se(W,K,B){try{const J=await ze("/api/admin/users/toggle-status",{method:"POST",headers:{"Content-Type":"application/json","x-admin-token":localStorage.getItem("admin_token")},body:JSON.stringify({uid:W,disabled:!K})}),ie=await J.json();J.ok&&ie.ok?(t({type:K?"success":"info",title:`User ${K?"Enabled":"Disabled"}`,message:`User ${B} has been ${K?"enabled":"disabled"}`}),M()):N({type:"error",text:ie.message||"Failed to update user status"})}catch(J){console.error("Error updating user status:",J),N({type:"error",text:"Failed to update user status"})}}async function Ne(W,K){try{const B=await ze(`/api/admin/users/${W}`,{method:"DELETE",headers:{"x-admin-token":localStorage.getItem("admin_token")}}),J=await B.json();B.ok&&J.ok?(t({type:"success",title:"User Deleted",message:`User ${K} has been permanently deleted`}),M()):N({type:"error",text:J.message||"Failed to delete user"})}catch(B){console.error("Error deleting user:",B),N({type:"error",text:"Failed to delete user"})}}function G(){const W=["Name","Email","Reference Number","UID","Created","Last Sign In","Status","Email Verified"],K=C.map(J=>[J.displayName||"No name",J.email||"N/A",J.referenceNumber||"Not assigned",J.uid||"N/A",J.metadata?.creationTime?new Date(J.metadata.creationTime).toLocaleDateString():"N/A",J.metadata?.lastSignInTime?new Date(J.metadata.lastSignInTime).toLocaleString():"Never",J.disabled?"Disabled":"Active",J.emailVerified?"Yes":"No"]),B=[W.join(","),...K.map(J=>J.map(ie=>`"${ie}"`).join(","))].join(`
`);ee(B,"users.csv","text/csv"),t({type:"success",title:"Export Successful",message:`${C.length} users exported to CSV`}),_(!1)}function H(){const W=C.map(B=>({name:B.displayName||"No name",email:B.email||"N/A",referenceNumber:B.referenceNumber||"Not assigned",uid:B.uid||"N/A",created:B.metadata?.creationTime?new Date(B.metadata.creationTime).toLocaleDateString():"N/A",lastSignIn:B.metadata?.lastSignInTime?new Date(B.metadata.lastSignInTime).toLocaleString():"Never",status:B.disabled?"Disabled":"Active",emailVerified:B.emailVerified?"Yes":"No"})),K=JSON.stringify(W,null,2);ee(K,"users.json","application/json"),t({type:"success",title:"Export Successful",message:`${C.length} users exported to JSON`}),_(!1)}function ee(W,K,B){const J=new Blob([W],{type:B}),ie=URL.createObjectURL(J),ye=document.createElement("a");ye.href=ie,ye.download=K,document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),URL.revokeObjectURL(ie)}return s.jsxs(Lr,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(vl,{className:"text-[#0d9c06]"})," User Management"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:R,className:"flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-all font-medium whitespace-nowrap shadow-sm cursor-pointer",title:"Import/Sync missing users from Firebase Auth",children:[s.jsx(v1,{size:18,className:r&&!e.length?"animate-spin":""}),"Sync Firebase"]}),s.jsxs("button",{onClick:()=>f(!0),className:"bg-[#0d9c06] text-white px-4 py-2 rounded-md hover:bg-[#0b8a05] transition-colors flex items-center gap-2 shadow-sm cursor-pointer",children:[s.jsx(j1,{size:20})," Add User"]})]})]}),S.text&&s.jsx("div",{className:`p-3 rounded-md text-sm mb-4 ${S.type==="error"?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:S.text}),s.jsxs("div",{className:"mb-6 flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Di,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search by email or name...",value:o,onChange:W=>c(W.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0d9c06]"})]}),s.jsxs("button",{onClick:M,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 flex items-center gap-2 cursor-pointer",children:[s.jsx(v1,{size:18})," Refresh"]}),s.jsxs("div",{className:"relative export-dropdown",children:[s.jsxs("button",{onClick:()=>_(!b),className:"px-4 py-2 bg-[#0d9c06] text-white rounded-md hover:bg-[#0b7e05] flex items-center gap-2 cursor-pointer transition-colors",children:[s.jsx(Ia,{size:18}),"Export",s.jsx(Hh,{size:16,className:`transition-transform ${b?"rotate-180":""}`})]}),b&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-md shadow-lg z-10 overflow-hidden",children:[s.jsxs("button",{onClick:G,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 cursor-pointer transition-colors border-b border-gray-100",children:[s.jsx(Ia,{size:16,className:"text-[#0d9c06]"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Export as CSV"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Excel compatible"})]})]}),s.jsxs("button",{onClick:H,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 cursor-pointer transition-colors",children:[s.jsx(Ia,{size:16,className:"text-[#0d9c06]"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Export as JSON"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Developer friendly"})]})]})]})]})]}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-md shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200 text-xs uppercase text-gray-500 font-semibold",children:[s.jsx("th",{className:"p-4",children:"User"}),s.jsx("th",{className:"p-4",children:"Reference Number"}),s.jsx("th",{className:"p-4",children:"UID"}),s.jsx("th",{className:"p-4",children:"Created"}),s.jsx("th",{className:"p-4",children:"Last Sign In"}),s.jsx("th",{className:"p-4",children:"Status"}),s.jsx("th",{className:"p-4",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:r?s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"p-12 text-center",children:s.jsx("div",{className:"flex justify-center items-center",children:s.jsx(sh,{className:"w-8 h-8 text-[#0d9c06] animate-spin"})})})}):C.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"p-8 text-center text-gray-500",children:"No users found."})}):C.map(W=>s.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${W.disabled?"bg-gray-50 opacity-75":""}`,children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-100 shrink-0 border border-gray-200",children:W.profilePicture?s.jsx("img",{src:W.profilePicture,alt:"",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-linear-to-br from-[#0d9c06] to-[#0b7e05] flex items-center justify-center text-white font-bold text-sm",children:W.displayName?.charAt(0)||"U"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:W.displayName||"No name"}),s.jsx("div",{className:"text-xs text-gray-500",children:W.email})]})]})}),s.jsx("td",{className:"p-4",children:W.referenceNumber?s.jsx("code",{className:"text-xs bg-[#daffd8] text-[#0d9c06] px-2 py-1 rounded font-semibold",children:W.referenceNumber}):s.jsx("span",{className:"text-xs text-gray-400",children:"Not assigned"})}),s.jsx("td",{className:"p-4",children:s.jsxs("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:[W.uid.substring(0,12),"..."]})}),s.jsx("td",{className:"p-4 text-sm text-gray-600",children:W.metadata?.creationTime?new Date(W.metadata.creationTime).toLocaleDateString():"N/A"}),s.jsx("td",{className:"p-4 text-sm text-gray-600",children:W.metadata?.lastSignInTime?new Date(W.metadata.lastSignInTime).toLocaleString():"Never"}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase ${W.disabled?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:W.disabled?"Disabled":"Active"}),W.source==="both"?s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase bg-blue-100 text-blue-700",children:"Linked"}):s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase bg-amber-100 text-amber-700",title:"User exists in database but sync status unknown or missing in Firebase",children:"DB Only"})]})}),s.jsxs("td",{className:"p-4 flex items-center gap-2",children:[s.jsx("button",{onClick:()=>D(W),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded-md transition-colors cursor-pointer",title:"Send password reset email",children:s.jsx(hi,{size:18})}),s.jsx("button",{onClick:()=>z(W),className:`p-1.5 rounded-md transition-colors cursor-pointer ${W.disabled?"text-[#0d9c06] hover:bg-[#daffd8]":"text-[#9c0606] hover:bg-[#ffd8d8]"}`,title:W.disabled?"Enable User":"Disable User",children:W.disabled?s.jsx(Nr,{size:18}):s.jsx(CB,{size:18})}),s.jsx("button",{onClick:()=>$(W),className:"p-1.5 text-red-600 hover:bg-[#ffd8d8] rounded-md transition-colors cursor-pointer",title:"Delete user",children:s.jsx(wr,{size:18})})]})]},W.uid))})]})})}),u&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-md shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Add New User"}),s.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600 transition-colors cursor-pointer",children:s.jsx(ot,{size:20})})]}),s.jsxs("form",{onSubmit:F,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),s.jsx("input",{type:"text",value:h.displayName,onChange:W=>p({...h,displayName:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0d9c06] focus:border-transparent transition-all",placeholder:"John Doe"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),s.jsx("input",{type:"email",value:h.email,onChange:W=>p({...h,email:W.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0d9c06] focus:border-transparent transition-all",placeholder:"user@example.com"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{f(!1),p({email:"",displayName:""})},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 font-medium transition-colors cursor-pointer",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 bg-[#0d9c06] text-white px-4 py-2 rounded-md hover:bg-[#0b8a05] font-medium shadow-sm transition-colors cursor-pointer",children:"Create User"})]})]})]})}),E.isOpen&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-md shadow-xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(hi,{className:"text-[#0d9c06]",size:20})," Send Reset Email"]}),s.jsx("button",{onClick:()=>I(W=>({...W,isOpen:!1})),className:"text-gray-400 hover:text-gray-600 transition-colors cursor-pointer",children:s.jsx(ot,{size:20})})]}),s.jsx("form",{onSubmit:V,className:"p-6 space-y-4",children:E.loading&&!E.body?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(sh,{className:"w-8 h-8 text-[#0d9c06] animate-spin"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To"}),s.jsx("input",{type:"email",value:E.recipient,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),s.jsx("input",{type:"text",value:E.subject,onChange:W=>I(K=>({...K,subject:W.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0d9c06]"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),s.jsx("textarea",{value:E.body,onChange:W=>I(K=>({...K,body:W.target.value})),required:!0,rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0d9c06] font-mono text-sm"})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{type:"button",onClick:()=>I(W=>({...W,isOpen:!1})),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 font-medium transition-colors cursor-pointer",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:E.loading,className:"flex-1 bg-[#0d9c06] text-white px-4 py-2 rounded-md hover:bg-[#0b8a05] font-medium shadow-sm transition-colors flex justify-center items-center gap-2 cursor-pointer",children:[E.loading?s.jsx(sh,{className:"w-4 h-4 animate-spin"}):s.jsx(hi,{size:18}),"Send Email"]})]})]})})]})}),T.isOpen&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:s.jsx("div",{className:"bg-white rounded-md shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 border border-gray-100",children:s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:`mx-auto flex items-center justify-center h-12 w-12 rounded-full mb-4 ${T.confirmColor==="red"?"bg-red-100":"bg-green-100"}`,children:T.confirmColor==="red"?s.jsx(Fg,{className:"h-6 w-6 text-red-600"}):s.jsx(Nr,{className:"h-6 w-6 text-green-600"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:T.title}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:T.message}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{type:"button",onClick:()=>O(W=>({...W,isOpen:!1})),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 font-medium transition-colors cursor-pointer",children:"Cancel"}),s.jsx("button",{type:"button",onClick:L,className:`flex-1 px-4 py-2 text-white rounded-md font-medium shadow-sm transition-colors cursor-pointer ${T.confirmColor==="red"?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:T.confirmText})]})]})})}),g.isOpen&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-md shadow-2xl w-full max-w-md overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 bg-linear-to-r from-green-50 to-emerald-50",children:[s.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto bg-green-100 rounded-full mb-4",children:s.jsx(Nr,{className:"text-green-600",size:32})}),s.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900",children:"User Created Successfully!"})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-4",children:[s.jsx("p",{className:"text-sm text-amber-800 font-medium mb-2",children:" Important: Save these credentials"}),s.jsx("p",{className:"text-xs text-amber-700",children:"The temporary password will not be shown again. Make sure to copy it and send it to the user."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Email"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:g.email,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-800 font-medium"}),s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(g.email),t({type:"success",title:"Copied!",message:"Email copied to clipboard"})},className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors cursor-pointer",title:"Copy email",children:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Temporary Password"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:g.password,readOnly:!0,className:"flex-1 px-3 py-2 bg-green-50 border border-green-300 rounded-md text-green-800 font-bold text-lg"}),s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(g.password),t({type:"success",title:"Copied!",message:"Password copied to clipboard"})},className:"px-3 py-2 bg-green-100 hover:bg-green-200 rounded-md transition-colors cursor-pointer",title:"Copy password",children:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Reference Number"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:g.referenceNumber,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-800 font-medium"}),s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(g.referenceNumber),t({type:"success",title:"Copied!",message:"Reference number copied to clipboard"})},className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors cursor-pointer",title:"Copy reference number",children:""})]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 mt-4",children:[s.jsx("p",{className:"text-sm text-blue-800",children:s.jsx("strong",{children:"Next steps:"})}),s.jsxs("ul",{className:"text-xs text-blue-700 mt-2 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Send these credentials to the user via email or WhatsApp"}),s.jsx("li",{children:"User must change password on first login"}),s.jsx("li",{children:"Temporary password expires after first use"})]})]}),s.jsx("button",{onClick:()=>{x({isOpen:!1,email:"",password:"",referenceNumber:""}),t({type:"success",title:"User Created",message:"User account created successfully"})},className:"w-full bg-[#0d9c06] text-white px-4 py-3 rounded-md hover:bg-[#0b7e05] font-medium transition-colors cursor-pointer shadow-sm",children:"Done"})]})]})})]})}function bye(){const t=zr(),e=localStorage.getItem("admin_token");return j.useEffect(()=>{e||t("/admin/login")},[e,t]),e?s.jsx(cN,{}):null}function wye(){const{addNotification:t}=js(),[e,n]=j.useState([]),[r,i]=j.useState(!0),[o,c]=j.useState(""),[u,f]=j.useState(null),[h,p]=j.useState(!1),[g,x]=j.useState(!1),[b,_]=j.useState(!1),[S,N]=j.useState(null);j.useEffect(()=>{T();const D=setInterval(T,5e3);return()=>clearInterval(D)},[]),j.useEffect(()=>{function D(V){g&&!V.target.closest(".export-dropdown")&&x(!1)}return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[g]);async function T(){try{const V=await(await ze("/api/contacts",{headers:{"x-admin-token":localStorage.getItem("admin_token")}})).json();V.ok&&V.contacts&&n(V.contacts)}catch(D){console.error("Error fetching contacts:",D)}finally{i(!1)}}function O(D){N(D),_(!0)}async function C(){if(S)try{const D=await ze(`/api/contacts/${S.id}`,{method:"DELETE",headers:{"x-admin-token":localStorage.getItem("admin_token")}}),V=await D.json();D.ok&&V.ok?(t({type:"success",title:"Deleted",message:"Contact submission deleted successfully"}),T(),_(!1),N(null)):t({type:"error",title:"Error",message:V.message||"Failed to delete contact"})}catch(D){console.error("Error deleting contact:",D),t({type:"error",title:"Error",message:"Failed to delete contact submission"})}}function M(D){f(D),p(!0)}function R(){const D=["Name","Phone","Course Interest","Message","Date"],V=I.map($=>[$.name||"N/A",$.phone||"N/A",$.course||"N/A",($.message||"N/A").replace(/"/g,'""'),$.createdAt?new Date($.createdAt).toLocaleString():"N/A"]),z=[D.join(","),...V.map($=>$.map(L=>`"${L}"`).join(","))].join(`
`);E(z,"contacts.csv","text/csv"),t({type:"success",title:"Export Successful",message:`${I.length} contacts exported to CSV`}),x(!1)}function F(){const D=I.map(z=>({name:z.name||"N/A",phone:z.phone||"N/A",courseInterest:z.course||"N/A",message:z.message||"N/A",submittedOn:z.createdAt?new Date(z.createdAt).toLocaleString():"N/A"})),V=JSON.stringify(D,null,2);E(V,"contacts.json","application/json"),t({type:"success",title:"Export Successful",message:`${I.length} contacts exported to JSON`}),x(!1)}function E(D,V,z){const $=new Blob([D],{type:z}),L=URL.createObjectURL($),se=document.createElement("a");se.href=L,se.download=V,document.body.appendChild(se),se.click(),document.body.removeChild(se),URL.revokeObjectURL(L)}const I=e.filter(D=>D.name?.toLowerCase().includes(o.toLowerCase())||D.phone?.toLowerCase().includes(o.toLowerCase())||D.course?.toLowerCase().includes(o.toLowerCase())||D.message?.toLowerCase().includes(o.toLowerCase()));return r?s.jsx(Lr,{children:s.jsxs("div",{className:"relative min-h-screen",children:[s.jsx(u3,{}),s.jsxs("div",{className:"opacity-50 pointer-events-none",children:[s.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[s.jsx(hi,{className:"text-[#0d9c06]"}),"Contact Form Submissions"]}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"View and manage contact form submissions from your website"})]})}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-md shadow-sm overflow-hidden h-96"})]})]})}):s.jsxs(Lr,{children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[s.jsx(hi,{className:"text-[#0d9c06]"}),"Contact Form Submissions"]}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"View and manage contact form submissions from your website"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:"text-sm text-gray-600",children:["Total: ",s.jsx("span",{className:"font-bold text-[#0d9c06]",children:e.length})]})})]}),s.jsxs("div",{className:"mb-6 flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Di,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search by name, phone, course, or message...",value:o,onChange:D=>c(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0d9c06]"})]}),s.jsxs("button",{onClick:T,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 flex items-center gap-2 cursor-pointer transition-colors",children:[s.jsx(v1,{size:18})," Refresh"]}),s.jsxs("div",{className:"relative export-dropdown",children:[s.jsxs("button",{onClick:()=>x(!g),className:"px-4 py-2 bg-[#0d9c06] text-white rounded-md hover:bg-[#0b7e05] flex items-center gap-2 cursor-pointer transition-colors",children:[s.jsx(Ia,{size:18}),"Export",s.jsx(Hh,{size:16,className:`transition-transform ${g?"rotate-180":""}`})]}),g&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-md shadow-lg z-10 overflow-hidden",children:[s.jsxs("button",{onClick:R,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 cursor-pointer transition-colors border-b border-gray-100",children:[s.jsx(Ia,{size:16,className:"text-[#0d9c06]"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Export as CSV"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Excel compatible"})]})]}),s.jsxs("button",{onClick:F,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 cursor-pointer transition-colors",children:[s.jsx(Ia,{size:16,className:"text-[#0d9c06]"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Export as JSON"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Developer friendly"})]})]})]})]})]}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-md shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200 text-xs uppercase text-gray-500 font-semibold",children:[s.jsx("th",{className:"p-4",children:"Name"}),s.jsx("th",{className:"p-4",children:"Phone"}),s.jsx("th",{className:"p-4",children:"Course Interest"}),s.jsx("th",{className:"p-4",children:"Message Preview"}),s.jsx("th",{className:"p-4",children:"Date"}),s.jsx("th",{className:"p-4",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:I.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"p-8 text-center text-gray-500",children:o?"No contacts found matching your search.":"No contact submissions yet."})}):I.map(D=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"p-4",children:s.jsx("div",{className:"font-medium text-gray-900",children:D.name||"N/A"})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[s.jsx(ld,{size:14,className:"text-gray-400"}),D.phone||"N/A"]})}),s.jsx("td",{className:"p-4",children:s.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-[#daffd8] text-[#0d9c06]",children:[s.jsx(bn,{size:12}),D.course||"N/A"]})}),s.jsx("td",{className:"p-4",children:s.jsx("div",{className:"text-sm text-gray-600 max-w-xs truncate",children:D.message?D.message.substring(0,50)+"...":"N/A"})}),s.jsx("td",{className:"p-4 text-sm text-gray-600",children:D.createdAt?new Date(D.createdAt).toLocaleDateString():"N/A"}),s.jsxs("td",{className:"p-4 flex items-center gap-2",children:[s.jsx("button",{onClick:()=>M(D),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded-md transition-colors cursor-pointer",title:"View details",children:s.jsx(as,{size:18})}),s.jsx("button",{onClick:()=>O(D),className:"p-1.5 text-red-600 hover:bg-[#ffd8d8] rounded-md transition-colors cursor-pointer",title:"Delete",children:s.jsx(wr,{size:18})})]})]},D.id))})]})})}),h&&u&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-md shadow-2xl w-full max-w-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-linear-to-r from-[#0d9c06] to-[#0b7e05] text-white",children:[s.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(t0,{size:24}),"Contact Submission Details"]}),s.jsx("button",{onClick:()=>p(!1),className:"text-white hover:bg-white/20 p-2 rounded-md transition-colors cursor-pointer",children:s.jsx(ot,{size:20})})]}),s.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Full Name"}),s.jsx("p",{className:"text-gray-900 font-medium",children:u.name||"N/A"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Phone Number"}),s.jsxs("p",{className:"text-gray-900 font-medium flex items-center gap-2",children:[s.jsx(ld,{size:16,className:"text-[#0d9c06]"}),u.phone||"N/A"]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Course Interest"}),s.jsxs("p",{className:"text-gray-900 font-medium flex items-center gap-2",children:[s.jsx(bn,{size:16,className:"text-[#0d9c06]"}),u.course||"N/A"]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Message"}),s.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:u.message||"No message provided"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Submitted On"}),s.jsx("p",{className:"text-gray-900 font-medium",children:u.createdAt?new Date(u.createdAt).toLocaleString():"N/A"})]})]}),s.jsxs("div",{className:"p-6 border-t border-gray-100 flex justify-end gap-3 bg-gray-50",children:[s.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-100 font-medium transition-colors cursor-pointer",children:"Close"}),s.jsxs("button",{onClick:()=>{O(u),p(!1)},className:"px-4 py-2 bg-red-600 text-white hover:bg-red-700 rounded-md font-medium transition-colors flex items-center gap-2 cursor-pointer",children:[s.jsx(wr,{size:16}),"Delete"]})]})]})}),b&&S&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-md shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 bg-linear-to-r from-red-50 to-orange-50",children:[s.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto bg-red-100 rounded-full mb-4",children:s.jsx(wr,{className:"text-red-600",size:32})}),s.jsx("h2",{className:"text-xl font-bold text-center text-gray-900",children:"Delete Contact Submission?"}),s.jsx("p",{className:"text-center text-gray-600 mt-2",children:"This action cannot be undone. The contact submission will be permanently deleted."})]}),s.jsx("div",{className:"p-6 bg-gray-50",children:s.jsx("div",{className:"bg-white border border-gray-200 rounded-md p-4 mb-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Name:"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:S.name})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Phone:"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:S.phone})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Course:"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:S.course})]})]})})}),s.jsxs("div",{className:"p-6 border-t border-gray-100 flex gap-3 bg-gray-50",children:[s.jsx("button",{onClick:()=>{_(!1),N(null)},className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-100 font-medium transition-colors cursor-pointer",children:"Cancel"}),s.jsxs("button",{onClick:C,className:"flex-1 px-4 py-2.5 bg-red-600 text-white hover:bg-red-700 rounded-md font-medium transition-colors flex items-center justify-center gap-2 cursor-pointer",children:[s.jsx(wr,{size:18}),"Delete"]})]})]})})]})}function jye(){const[t,e]=j.useState([]),[n,r]=j.useState(!0),[i,o]=j.useState([]),{addNotification:c}=js(),[u,f]=j.useState(!1),[h,p]=j.useState(!1),[g,x]=j.useState(null),[b,_]=j.useState(null),[S,N]=j.useState(null);j.useEffect(()=>{T()},[]);async function T(){try{const D=await(await ze("/api/courses/online")).json();D.ok&&e(D.courses)}catch(I){console.error("Error fetching courses:",I),c({type:"error",title:"Error",message:"Failed to load courses"})}finally{r(!1)}}function O(I){x(I),N(I.certificateTemplate||null),_(null),f(!0)}function C(I){const D=I.target.files[0];if(D){_(D);const V=new FileReader;V.onloadend=()=>{N(V.result)},V.readAsDataURL(D)}}async function M(){if(!g){c({type:"error",title:"Error",message:"Please select a course"});return}if(!b&&!S){c({type:"error",title:"Error",message:"Please select a certificate image"});return}if(!b&&S){f(!1);return}try{const I=new FormData;I.append("courseId",g.id),I.append("certificate",b);const V=await(await ze("/api/admin/certificates/upload",{method:"POST",headers:{"x-admin-token":localStorage.getItem("admin_token")},body:I})).json();if(V.ok)c({type:"success",title:"Certificate Saved",message:`Certificate template updated for ${g.title}`}),f(!1),T();else throw new Error(V.message)}catch(I){console.error("Error uploading certificate:",I),c({type:"error",title:"Upload Failed",message:I.message})}}function R(I){o(D=>D.includes(I)?D.filter(V=>V!==I):[...D,I])}async function F(){if(i.length===0){c({type:"error",title:"Error",message:"No courses selected"});return}p(!0)}async function E(){try{const D=await(await ze("/api/admin/certificates/delete",{method:"DELETE",headers:{"Content-Type":"application/json","x-admin-token":localStorage.getItem("admin_token")},body:JSON.stringify({courseIds:i})})).json();if(D.ok)c({type:"success",title:"Certificates Deleted",message:`Certificate templates removed for ${i.length} course(s)`}),o([]),p(!1),T();else throw new Error(D.message)}catch(I){console.error("Error deleting certificates:",I),c({type:"error",title:"Delete Failed",message:I.message})}}return n?s.jsx(Lr,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0d9c06]"})})}):s.jsx(Lr,{children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(Xu,{size:24,color:"#0d9c06"}),"Certificate Management"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage completion certificates for your courses"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[i.length>0&&s.jsxs("button",{onClick:F,className:"bg-red-600 text-white px-4 py-2 rounded-md flex items-center gap-2 hover:bg-red-700 transition-colors cursor-pointer shadow-sm hover:shadow-md",children:[s.jsx(wr,{size:20}),"Delete (",i.length,")"]}),s.jsxs("button",{onClick:()=>{x(null),N(null),_(null),f(!0)},className:"bg-[#0d9c06] text-white px-4 py-2 rounded-md flex items-center gap-2 hover:bg-[#0b7e05] transition-colors cursor-pointer shadow-sm hover:shadow-md",children:[s.jsx(ea,{size:20}),"Add Certificate"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(I=>s.jsxs("div",{className:"bg-white rounded-md shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow relative group",children:[s.jsx("div",{className:"absolute top-3 left-3 z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx("input",{type:"checkbox",checked:i.includes(I.id),onChange:()=>R(I.id),className:"w-5 h-5 cursor-pointer accent-[#0d9c06] rounded",onClick:D=>D.stopPropagation()})}),i.includes(I.id)&&s.jsx("div",{className:"absolute top-0 left-0 right-0 bottom-0 bg-[#0d9c06]/10 pointer-events-none z-0"}),s.jsxs("div",{className:"p-6 relative z-5",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"p-3 rounded-md bg-green-100 text-[#0d9c06]",children:s.jsx(Xu,{size:24,color:"#0d9c06"})}),s.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-green-100 text-[#0d9c06]",children:"Online"})]}),s.jsx("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-2 h-14",children:I.title}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:I.id}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Ug,{size:16}),s.jsxs("span",{children:["Template: ",I.certificateTemplate?"Active":"Default"]})]}),s.jsx("button",{onClick:()=>O(I),className:"text-[#0d9c06] font-medium text-sm hover:underline cursor-pointer",children:"Manage"})]})]})]},I.id))}),u&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-md max-w-2xl w-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gray-50 rounded-t-xl",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:g?"Manage Certificate":"Add New Certificate"}),s.jsx("p",{className:"text-sm text-gray-500",children:g?g.title:"Upload a template for an online course"})]}),s.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600 transition-colors cursor-pointer",children:s.jsx(ot,{size:24})})]}),s.jsxs("div",{className:"p-6",children:[!g&&s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Course"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#0d9c06] focus:border-transparent transition-all",onChange:I=>{const D=t.find(V=>V.id===I.target.value);x(D),N(D?.certificateTemplate||null)},defaultValue:"",children:[s.jsx("option",{value:"",disabled:!0,children:"Select an online course..."}),t.map(I=>s.jsx("option",{value:I.id,children:I.title},I.id))]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Certificate Template"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-md p-8 text-center bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer relative",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),S?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:S,alt:"Certificate Preview",className:"max-h-64 mx-auto rounded shadow-lg"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 hover:opacity-100 transition-opacity rounded",children:s.jsxs("p",{className:"text-white font-medium flex items-center gap-2",children:[s.jsx(w1,{size:20})," Change Template"]})})]}):s.jsxs("div",{className:"py-8",children:[s.jsx(w1,{className:"mx-auto text-gray-400 mb-3",size:48}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Click to upload certificate template"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Recommended size: 1920x1080px (Landscape)"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 mb-6",children:[s.jsx("h4",{className:"font-semibold text-blue-900 text-sm mb-2",children:"Dynamic Fields"}),s.jsx("p",{className:"text-xs text-blue-700",children:"The system will automatically overlay the student's name, course title, and completion date onto this template."})]})]}),s.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-xl flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md transition-colors cursor-pointer font-medium border border-gray-300",children:"Cancel"}),s.jsxs("button",{onClick:M,className:"px-6 py-2 bg-[#0d9c06] text-white rounded-md hover:bg-[#0b7e05] font-medium flex items-center gap-2 cursor-pointer shadow-sm hover:shadow-md transition-all",children:[s.jsx(Yu,{size:18}),"Save Template"]})]})]})}),h&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-md max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gray-50 rounded-t-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-md bg-red-100",children:s.jsx(wr,{size:24,className:"text-red-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Delete Certificates"}),s.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]}),s.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 transition-colors cursor-pointer",children:s.jsx(ot,{size:24})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-4",children:[s.jsxs("p",{className:"text-sm text-red-800",children:["Are you sure you want to delete certificate templates for ",s.jsx("strong",{children:i.length})," course(s)?"]}),s.jsx("p",{className:"text-xs text-red-600 mt-2",children:"The certificate template files will be permanently removed from the server."})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-3",children:[s.jsx("p",{className:"text-xs text-gray-600 font-medium mb-2",children:"Selected courses:"}),s.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:t.filter(I=>i.includes(I.id)).map(I=>s.jsxs("div",{className:"text-xs text-gray-700 flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),I.title]},I.id))})]})]}),s.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-xl flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md transition-colors cursor-pointer font-medium border border-gray-300",children:"Cancel"}),s.jsxs("button",{onClick:E,className:"px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 font-medium flex items-center gap-2 cursor-pointer shadow-sm hover:shadow-md transition-all",children:[s.jsx(wr,{size:18}),"Delete ",i.length," Certificate",i.length>1?"s":""]})]})]})})]})})}function Nye(){const[t,e]=j.useState([]),[n,r]=j.useState([]),[i,o]=j.useState(!0),[c,u]=j.useState(!1),[f,h]=j.useState({name:"",icon:"",milestoneType:"percentage",milestoneValue:50,courseId:"all",description:""}),[p,g]=j.useState(null);j.useEffect(()=>{x()},[]);const x=async()=>{try{o(!0);const T=await(await ze("/api/admin/badges")).json();T.ok&&e(T.badges);const C=await(await ze("/api/courses/online")).json();console.log("Fetched online courses:",C),C.ok&&Array.isArray(C.courses)?r(C.courses):(console.warn("Online courses data format unexpected:",C),r([]))}catch(N){console.error("Error fetching data:",N),b("error","Failed to load data")}finally{o(!1)}},b=(N,T)=>{g({type:N,message:T}),setTimeout(()=>g(null),3e3)},_=async N=>{N.preventDefault();try{const O=await(await ze("/api/admin/badges",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)})).json();O.ok?(e([...t,O.badge]),u(!1),h({name:"",icon:"",milestoneType:"percentage",milestoneValue:50,courseId:"all",description:""}),b("success","Badge added successfully")):b("error",O.message||"Failed to add badge")}catch(T){console.error("Error adding badge:",T),b("error","Failed to add badge")}},S=async N=>{if(window.confirm("Are you sure you want to delete this badge?"))try{const O=await(await ze(`/api/admin/badges/${N}`,{method:"DELETE"})).json();O.ok?(e(t.filter(C=>C.id!==N)),b("success","Badge deleted successfully")):b("error",O.message||"Failed to delete badge")}catch(T){console.error("Error deleting badge:",T),b("error","Failed to delete badge")}};return s.jsx(Lr,{children:s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(ts,{size:24,color:"#0d9c06"}),"Badges & Milestones"]}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Manage achievement badges for students"})]}),s.jsxs("button",{onClick:()=>u(!0),className:"bg-[#0d9c06] text-white px-4 py-2 rounded-md flex items-center gap-2 hover:bg-[#0b7e05] transition-colors cursor-pointer",children:[s.jsx(ea,{size:20}),"Add New Badge"]})]}),p&&s.jsxs("div",{className:`fixed top-4 right-4 p-4 rounded-md shadow-lg flex items-center gap-2 z-50 ${p.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[p.type==="success"?s.jsx(Nr,{size:20}):s.jsx(Zy,{size:20}),p.message]}),i?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0d9c06]"})}):t.length===0?s.jsxs("div",{className:"text-center py-12 bg-white rounded-md shadow-sm border border-gray-200",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ts,{className:"text-gray-400",size:32})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No badges yet"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Create your first badge to reward students."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(N=>s.jsxs("div",{className:"bg-white rounded-md shadow-sm border border-gray-200 p-6 flex flex-col",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center text-2xl",children:N.icon}),s.jsx("button",{onClick:()=>S(N.id),className:"text-gray-400 hover:text-red-500 transition-colors cursor-pointer",children:s.jsx(wr,{size:18})})]}),s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-1",children:N.name}),s.jsx("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2",children:N.description}),s.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-100 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Milestone:"}),s.jsxs("span",{className:"font-medium text-gray-900",children:[N.milestoneValue,"% Completion"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Course:"}),s.jsx("span",{className:"font-medium text-gray-900 truncate max-w-[150px]",title:N.courseId==="all"?"All Courses":n.find(T=>T.id===N.courseId)?.title||N.courseId,children:N.courseId==="all"?"All Courses":n.find(T=>T.id===N.courseId)?.title||"Unknown Course"})]})]})]},N.id))}),c&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-md shadow-xl max-w-md w-full overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gray-50",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add New Badge"}),s.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600 transition-colors cursor-pointer",children:s.jsx(ot,{size:24})})]}),s.jsxs("form",{onSubmit:_,children:[s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Badge Name"}),s.jsx("input",{type:"text",required:!0,value:f.name,onChange:N=>h({...f,name:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#0d9c06] focus:border-transparent transition-all",placeholder:"e.g. Course Master"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icon (Emoji)"}),s.jsx("input",{type:"text",required:!0,value:f.icon,onChange:N=>h({...f,icon:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#0d9c06] focus:border-transparent transition-all",placeholder:"e.g. "})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:f.description,onChange:N=>h({...f,description:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#0d9c06] focus:border-transparent transition-all",rows:"2",placeholder:"Brief description of the achievement"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Milestone Type"}),s.jsx("select",{value:f.milestoneType,onChange:N=>h({...f,milestoneType:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#0d9c06] focus:border-transparent transition-all",children:s.jsx("option",{value:"percentage",children:"Percentage"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value (%)"}),s.jsx("input",{type:"number",required:!0,min:"1",max:"100",value:f.milestoneValue,onChange:N=>h({...f,milestoneValue:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#0d9c06] focus:border-transparent transition-all"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),s.jsxs("select",{value:f.courseId,onChange:N=>h({...f,courseId:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#0d9c06] focus:border-transparent transition-all",children:[s.jsx("option",{value:"all",children:"All Courses"}),n.map(N=>s.jsx("option",{value:N.id,children:N.title},N.id))]})]})]}),s.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md transition-colors cursor-pointer font-medium border border-gray-300",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-[#0d9c06] text-white rounded-md hover:bg-[#0b7e05] transition-colors cursor-pointer font-medium shadow-sm hover:shadow-md border border-gray-300",children:"Create Badge"})]})]})]})})]})})}function _ye(){const t=zr(),{user:e}=fV(),[n,r]=j.useState([]),[i,o]=j.useState([]),[c,u]=j.useState(!0),[f,h]=j.useState(!1),[p,g]=j.useState({totalCourses:0,completedCourses:0,inProgressCourses:0,totalHoursLearned:0}),[x,b]=j.useState("in_progress"),_=n.filter(O=>{const C=O.progress||0;return x==="completed"?C>=100:C<100||O.status==="Pending"});j.useEffect(()=>{e&&(S(e.email),N(e.email))},[e]);async function S(O){try{const M=await(await ze("/api/student/courses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:O})})).json();if(M.ok&&M.courses){r(M.courses);const R=M.courses.filter(E=>E.progress>=100).length,F=M.courses.filter(E=>E.progress>0&&E.progress<100).length;g({totalCourses:M.courses.length,completedCourses:R,inProgressCourses:F,totalHoursLearned:M.courses.reduce((E,I)=>E+(I.hoursWatched||0),0)})}}catch(C){console.error("Error fetching enrolled courses:",C)}finally{u(!1)}}async function N(O){try{const M=await(await ze(`/api/student/badges/${O}`)).json();M.ok&&o(M.badges)}catch(C){console.error("Error fetching badges:",C)}}const T=async()=>{try{await $n.signOut(),t("/")}catch(O){console.error("Error signing out:",O)}};return c?s.jsx("div",{className:"min-h-screen bg-linear-to-br from-green-50 via-emerald-50 to-teal-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"animate-spin rounded-full h-20 w-20 border-b-4 border-[#0d9c06] mx-auto mb-4"}),s.jsx(Ja,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-[#0d9c06] animate-pulse",size:32})]}),s.jsx("p",{className:"text-gray-700 font-semibold text-lg",children:"Loading your dashboard..."}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Preparing your learning journey"})]})}):s.jsxs("div",{className:"min-h-screen bg-linear-to-br from-green-50 via-white to-green-50",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-[#0d9c06]/20 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),s.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-[#5022C3]/20 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),s.jsx("div",{className:"absolute -bottom-8 left-1/2 w-72 h-72 bg-[#0d9c06]/20 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),s.jsxs("div",{className:"lg:hidden bg-white/90 backdrop-blur-md border-b border-gray-200 sticky top-0 z-50 shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ja,{className:"text-[#0d9c06]",size:24}),s.jsx("h1",{className:"text-xl font-bold bg-linear-to-r from-[#0d9c06] to-[#0b7e05] bg-clip-text text-transparent",children:"My Learning"})]}),s.jsx("button",{onClick:()=>h(!f),className:"p-2 hover:bg-green-50 rounded-md transition-colors",children:f?s.jsx(ot,{size:24}):s.jsx(mN,{size:24})})]}),f&&s.jsxs("div",{className:"border-t border-gray-200 bg-white/95 backdrop-blur-md",children:[s.jsxs(Pe,{to:"/student/profile",onClick:()=>h(!1),className:"flex items-center gap-3 px-4 py-3 hover:bg-green-50 transition-colors",children:[s.jsx(hs,{size:20,className:"text-[#0d9c06]"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"My Profile"})]}),s.jsxs(Pe,{to:"/",onClick:()=>h(!1),className:"flex items-center gap-3 px-4 py-3 hover:bg-green-50 transition-colors",children:[s.jsx(YT,{size:20,className:"text-[#0d9c06]"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Go to Home"})]}),s.jsxs(Pe,{to:"/courses",onClick:()=>h(!1),className:"flex items-center gap-3 px-4 py-3 hover:bg-green-50 transition-colors",children:[s.jsx(bn,{size:20,className:"text-[#0d9c06]"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Browse Courses"})]}),s.jsxs("button",{onClick:T,className:"flex items-center gap-3 px-4 py-3 hover:bg-red-50 transition-colors w-full text-left text-red-600 font-medium cursor-pointer",children:[s.jsx(Vg,{size:20}),s.jsx("span",{children:"Logout"})]})]})]}),s.jsx("div",{className:"hidden lg:block bg-white/90 backdrop-blur-md border-b border-gray-200 sticky top-0 z-50 shadow-lg",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-5",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-linear-to-br from-[#0d9c06] to-[#0b7e05] rounded-md shadow-lg",children:s.jsx(Ja,{className:"text-white",size:28})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold bg-linear-to-r from-[#0d9c06] to-[#0b7e05] bg-clip-text text-transparent",children:"My Learning Journey"}),s.jsxs("p",{className:"text-gray-600 mt-1 flex items-center gap-2",children:[s.jsx(N1,{size:14,className:"text-[#0d9c06]"}),"Keep learning, keep growing!"]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Pe,{to:"/",className:"px-5 py-2.5 text-gray-700 hover:bg-green-50 rounded-md transition-all font-medium border-2 border-transparent hover:border-green-200 hover:shadow-md flex items-center gap-2 cursor-pointer",children:[s.jsx(YT,{size:18}),"Home"]}),s.jsx(Pe,{to:"/courses",className:"px-5 py-2.5 text-gray-700 hover:bg-green-50 rounded-md transition-all font-medium border-2 border-transparent hover:border-green-200 hover:shadow-md cursor-pointer",children:"Browse Courses"}),s.jsxs(Pe,{to:"/student/profile",className:"flex items-center gap-3 px-4 py-2.5 bg-linear-to-r from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 rounded-md transition-all border-2 border-green-200 hover:shadow-lg cursor-pointer",children:[s.jsx("div",{className:"w-10 h-10 bg-linear-to-br from-[#0d9c06] to-[#0b7e05] rounded-full flex items-center justify-center text-white font-bold shadow-lg ring-2 ring-white",children:e?.photoURL?s.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):e?.displayName?.charAt(0)||e?.email?.charAt(0).toUpperCase()}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-sm font-bold text-gray-900",children:e?.displayName||"Student"}),s.jsx("p",{className:"text-xs text-[#0d9c06] font-medium",children:"View Profile"})]})]}),s.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-5 py-2.5 bg-red-50 hover:bg-red-100 text-red-600 rounded-md transition-all font-medium border-2 border-red-200 hover:shadow-lg hover:scale-105 cursor-pointer",children:[s.jsx(Vg,{size:18}),"Logout"]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8 relative z-10",children:[s.jsxs("div",{className:"mb-8 bg-linear-to-r from-[#0d9c06] to-[#0b7e05] rounded-md p-6 sm:p-8 text-white shadow-2xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-32 -mt-32"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/10 rounded-full -ml-24 -mb-24"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(hb,{className:"text-yellow-300",size:24}),s.jsx("span",{className:"text-yellow-300 font-semibold text-sm uppercase tracking-wide",children:"Your Progress"})]}),s.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold mb-2",children:["Welcome back, ",e?.displayName?.split(" ")[0]||"Student","! "]}),s.jsxs("p",{className:"text-white/90 text-sm sm:text-base",children:["You've completed ",p.completedCourses," course",p.completedCourses!==1?"s":""," and learned ",p.totalHoursLearned," hours. Keep up the amazing work!"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8",children:[s.jsxs("div",{className:"group bg-white rounded-md p-5 sm:p-6 border-2 border-green-100 shadow-lg hover:shadow-2xl transition-all hover:-translate-y-1 cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-linear-to-br from-[#0d9c06] to-[#0b7e05] rounded-md shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(bn,{className:"text-white",size:24})}),s.jsx(Ja,{className:"text-green-300 group-hover:text-[#0d9c06] transition-colors",size:20})]}),s.jsx("h3",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-1",children:p.totalCourses}),s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Courses"})]}),s.jsxs("div",{className:"group bg-white rounded-md p-5 sm:p-6 border-2 border-purple-100 shadow-lg hover:shadow-2xl transition-all hover:-translate-y-1 cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-linear-to-br from-[#5022C3] to-[#3d1a99] rounded-md shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(gl,{className:"text-white",size:24})}),s.jsx(N1,{className:"text-purple-300 group-hover:text-[#5022C3] transition-colors",size:20})]}),s.jsx("h3",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-1",children:p.inProgressCourses}),s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"In Progress"})]}),s.jsxs("div",{className:"group bg-white rounded-md p-5 sm:p-6 border-2 border-green-100 shadow-lg hover:shadow-2xl transition-all hover:-translate-y-1 cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-linear-to-br from-[#0d9c06] to-[#0b7e05] rounded-md shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(Nr,{className:"text-white",size:24})}),s.jsx(ts,{className:"text-green-300 group-hover:text-[#0d9c06] transition-colors",size:20})]}),s.jsx("h3",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-1",children:p.completedCourses}),s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Completed"})]}),s.jsxs("div",{className:"group bg-white rounded-md p-5 sm:p-6 border-2 border-purple-100 shadow-lg hover:shadow-2xl transition-all hover:-translate-y-1 cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-linear-to-br from-[#5022C3] to-[#3d1a99] rounded-md shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(Qu,{className:"text-white",size:24})}),s.jsx(hb,{className:"text-purple-300 group-hover:text-[#5022C3] transition-colors",size:20})]}),s.jsx("h3",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-1",children:p.totalHoursLearned}),s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Hours Learned"})]})]}),i.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(ts,{className:"text-[#0d9c06]"}),"My Achievements"]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:i.map((O,C)=>s.jsxs("div",{className:"bg-white p-4 rounded-md shadow-sm border border-gray-100 flex flex-col items-center text-center hover:shadow-md transition-shadow group cursor-default",children:[s.jsx("div",{className:"w-16 h-16 bg-yellow-50 rounded-full flex items-center justify-center text-3xl mb-3 group-hover:scale-110 transition-transform",children:O.icon}),s.jsx("h3",{className:"font-bold text-gray-900 text-sm mb-1",children:O.name}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(O.awardedAt).toLocaleDateString()})]},O.badgeId||C))})]}),s.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-md border-2 border-gray-200 shadow-2xl overflow-hidden",children:[s.jsx("div",{className:"px-6 py-5 border-b border-gray-200 bg-linear-to-r from-green-50 to-white",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(bn,{className:"text-[#0d9c06]",size:28}),"My Courses"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Continue where you left off"})]}),s.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-md self-start sm:self-auto",children:[s.jsx("button",{onClick:()=>b("in_progress"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${x==="in_progress"?"bg-white text-[#0d9c06] shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"In Progress"}),s.jsx("button",{onClick:()=>b("completed"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${x==="completed"?"bg-white text-[#0d9c06] shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Completed"})]})]})}),_.length===0?s.jsxs("div",{className:"p-12 sm:p-16 text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-linear-to-br from-green-100 to-green-50 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:x==="completed"?s.jsx(ts,{className:"text-[#0d9c06]",size:48}):s.jsx(bn,{className:"text-[#0d9c06]",size:48})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:x==="completed"?"No completed courses yet":"No courses in progress"}),s.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto text-lg",children:x==="completed"?"Keep learning to earn your certificates!":"Start your learning journey today and unlock your potential!"}),s.jsxs(Pe,{to:"/courses",className:"inline-flex items-center gap-2 bg-linear-to-r from-[#0d9c06] to-[#0b7e05] text-white px-8 py-4 rounded-md font-bold hover:shadow-2xl transition-all hover:scale-105 text-lg cursor-pointer",children:[s.jsx(Ja,{size:20}),"Browse Courses"]})]}):s.jsx("div",{className:"divide-y divide-gray-200",children:_.map((O,C)=>{const M=O.status==="Pending";return s.jsx("div",{onClick:()=>!M&&t(`/student/course/${O.id}`),className:`p-6 transition-all group ${M?"bg-gray-50 cursor-not-allowed":"hover:bg-linear-to-r hover:from-green-50/50 hover:to-white/50 cursor-pointer"}`,children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[s.jsxs("div",{className:"relative w-full sm:w-56 lg:w-72 h-40 bg-linear-to-br from-gray-200 to-gray-100 rounded-md overflow-hidden shrink-0 shadow-lg group-hover:shadow-2xl transition-all",children:[O.image?s.jsx("img",{src:O.image,alt:O.title,className:`w-full h-full object-cover transition-transform duration-500 ${M?"grayscale":"group-hover:scale-110"}`}):s.jsx("div",{className:`w-full h-full flex items-center justify-center ${M?"bg-gray-400":"bg-linear-to-br from-[#0d9c06] to-[#0b7e05]"}`,children:s.jsx(bn,{className:"text-white",size:56})}),O.progress===100&&!M&&s.jsxs("div",{className:"absolute top-3 right-3 bg-[#0d9c06] text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg flex items-center gap-1",children:[s.jsx(ts,{size:14}),"Completed"]}),M&&s.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:s.jsxs("div",{className:"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-xs font-bold shadow-lg flex items-center gap-1",children:[s.jsx(Qu,{size:14}),"Pending Approval"]})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"flex items-start justify-between mb-3",children:s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 line-clamp-2 group-hover:text-[#0d9c06] transition-colors",children:O.title})}),s.jsx("p",{className:"text-sm text-gray-600 mb-5 line-clamp-2",children:O.excerpt}),s.jsxs("div",{className:"mb-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm font-semibold text-gray-700 flex items-center gap-1",children:[s.jsx(hb,{size:14,className:"text-[#0d9c06]"}),"Progress"]}),s.jsxs("span",{className:"text-sm font-bold text-[#0d9c06]",children:[O.progress||0,"%"]})]}),s.jsx("div",{className:"relative w-full bg-gray-200 rounded-full h-3 overflow-hidden shadow-inner",children:s.jsx("div",{className:`absolute inset-0 rounded-full transition-all duration-700 shadow-lg ${M?"bg-gray-400":"bg-linear-to-r from-[#0d9c06] to-[#0b7e05]"}`,style:{width:`${O.progress||0}%`},children:!M&&s.jsx("div",{className:"absolute inset-0 bg-white/30 animate-pulse"})})})]}),!M&&O.progress>0&&s.jsxs("div",{className:"mb-5 flex flex-wrap gap-2",children:[O.progress>=25&&s.jsxs("div",{className:"flex items-center gap-1 bg-orange-50 text-orange-700 px-2 py-1 rounded-md text-xs font-semibold border border-orange-100",title:"25% Milestone Reached",children:[s.jsx("span",{children:""})," 25%"]}),O.progress>=50&&s.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 text-gray-700 px-2 py-1 rounded-md text-xs font-semibold border border-gray-200",title:"50% Milestone Reached",children:[s.jsx("span",{children:""})," 50%"]}),O.progress>=75&&s.jsxs("div",{className:"flex items-center gap-1 bg-yellow-50 text-yellow-700 px-2 py-1 rounded-md text-xs font-semibold border border-yellow-100",title:"75% Milestone Reached",children:[s.jsx("span",{children:""})," 75%"]}),O.progress===100&&s.jsxs("div",{className:"flex items-center gap-1 bg-green-50 text-green-700 px-2 py-1 rounded-md text-xs font-bold border border-green-100 shadow-sm",title:"Course Completed",children:[s.jsx("span",{children:""})," Certified"]})]}),M?s.jsxs("button",{disabled:!0,className:"inline-flex items-center gap-2 bg-gray-100 text-gray-500 border border-gray-200 px-6 py-3 rounded-md font-bold cursor-not-allowed w-full sm:w-auto justify-center",children:[s.jsx(Qu,{size:20}),"Waiting for Admin Approval"]}):s.jsxs(Pe,{to:`/student/course/${O.id}`,className:"inline-flex items-center gap-2 bg-linear-to-r from-[#0d9c06] to-[#0b7e05] text-white px-6 py-3 rounded-md font-bold hover:shadow-2xl transition-all hover:scale-105 w-full sm:w-auto justify-center cursor-pointer",children:[s.jsx(Zs,{size:20}),O.progress===100?"Review Course":O.progress>0?"Continue Learning":"Start Course"]})]})]})},O.id)})})]})]}),s.jsx("style",{jsx:!0,children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}function Sye(){const t=zr(),e=j.useRef(null),[n,r]=j.useState(null),[i,o]=j.useState([]),[c,u]=j.useState(!0),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[x,b]=j.useState(!1),[_,S]=j.useState({displayName:"",phone:"",photoURL:""});j.useEffect(()=>{const C=$n.currentUser;C?(r(C),S({displayName:C.displayName||"",phone:C.phoneNumber||"",photoURL:C.photoURL||""}),N(C.email)):t("/login")},[t]);async function N(C){try{const R=await(await ze("/api/student/courses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:C})})).json();R.ok&&R.courses&&o(R.courses)}catch(M){console.error("Error fetching enrolled courses:",M)}finally{u(!1)}}const T=async C=>{const M=C.target.files[0];if(!M||!n)return;if(!M.type.startsWith("image/")){alert("Please upload an image file");return}if(M.size>5*1024*1024){alert("Image size should be less than 5MB");return}g(!0);const R=URL.createObjectURL(M);S(F=>({...F,photoURL:R}));try{const F=cZ(pZ,`profile-photos/${n.uid}/${Date.now()}_${M.name}`),E=await oZ(F,M),I=await lZ(F);URL.revokeObjectURL(R),await Yg($n.currentUser,{photoURL:I}),await $n.currentUser.reload();const D=$n.currentUser;S(V=>({...V,photoURL:I})),r(D);try{await ze("/api/student/update-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:n.uid,photoURL:I})})}catch(V){console.error("Failed to sync profile to DB:",V)}b(!0),setTimeout(()=>b(!1),3e3)}catch(F){console.error("Error uploading photo:",F),S(E=>({...E,photoURL:n?.photoURL||""})),URL.revokeObjectURL(R),alert(`Failed to upload photo: ${F.message}`)}finally{g(!1)}},O=async()=>{if(n)try{await Yg(n,{displayName:_.displayName}),r({...n,displayName:_.displayName}),h(!1),b(!0),setTimeout(()=>b(!1),3e3)}catch(C){console.error("Error updating profile:",C),alert("Failed to update profile. Please try again.")}};return c?s.jsx("div",{className:"min-h-screen bg-linear-to-br from-green-50 via-emerald-50 to-teal-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"animate-spin rounded-full h-20 w-20 border-b-4 border-[#0d9c06] mx-auto mb-4"}),s.jsx(Ja,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-[#0d9c06] animate-pulse",size:32})]}),s.jsx("p",{className:"text-gray-700 font-semibold text-lg",children:"Loading profile..."})]})}):s.jsxs("div",{className:"min-h-screen bg-linear-to-br from-green-50 via-white to-green-50 relative",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-[#0d9c06]/20 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),s.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-[#5022C3]/20 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),s.jsx("div",{className:"absolute -bottom-8 left-1/2 w-72 h-72 bg-[#0d9c06]/20 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),x&&s.jsx("div",{className:"fixed top-24 right-6 z-50 animate-slide-in-right",children:s.jsxs("div",{className:"bg-white rounded-md shadow-2xl border-2 border-green-200 p-4 flex items-center gap-3 min-w-[300px]",children:[s.jsx("div",{className:"w-12 h-12 bg-linear-to-br from-[#0d9c06] to-[#0b7e05] rounded-full flex items-center justify-center shrink-0",children:s.jsx(Yu,{className:"text-white",size:24})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-gray-900",children:"Success!"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Profile updated successfully"})]}),s.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ot,{size:18})})]})}),s.jsx("div",{className:"bg-white/90 backdrop-blur-md border-b border-gray-200 sticky top-0 z-40 shadow-lg",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Pe,{to:"/student/dashboard",className:"p-2 hover:bg-green-50 rounded-md transition-colors cursor-pointer",children:s.jsx(L4,{size:24,className:"text-gray-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-linear-to-r from-[#0d9c06] to-[#0b7e05] bg-clip-text text-transparent",children:"My Profile"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Manage your account information"})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 relative z-10",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-md border-2 border-gray-200 shadow-2xl p-6 hover:shadow-3xl transition-all",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs("div",{className:"relative inline-block group",children:[s.jsxs("div",{className:"w-40 h-40 bg-linear-to-br from-[#0d9c06] to-[#0b7e05] rounded-full flex items-center justify-center text-white text-5xl font-bold mx-auto shadow-2xl overflow-hidden ring-4 ring-white",children:[_.photoURL?s.jsx("img",{src:_.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):n?.displayName?.charAt(0)||n?.email?.charAt(0).toUpperCase(),p&&s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-white"})})]}),s.jsx("input",{ref:e,type:"file",accept:"image/*",onChange:T,className:"hidden"}),s.jsx("button",{onClick:()=>e.current?.click(),disabled:p,className:"absolute bottom-2 right-2 p-3 bg-linear-to-br from-[#0d9c06] to-[#0b7e05] text-white rounded-full hover:scale-110 transition-all shadow-xl cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed group-hover:scale-110",children:s.jsx(y1,{size:22})}),s.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-linear-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:s.jsx(Ja,{className:"text-white",size:16})})]}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-6",children:n?.displayName||"Student"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n?.email}),s.jsxs("p",{className:"text-xs text-[#0d9c06] font-medium mt-3 flex items-center justify-center gap-1",children:[s.jsx(y1,{size:12}),"Click camera to upload photo"]})]}),s.jsxs("div",{className:"border-t-2 border-gray-200 pt-6 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-linear-to-r from-green-50 to-green-100/50 rounded-md hover:shadow-md transition-all",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-[#0d9c06] rounded-md flex items-center justify-center",children:s.jsx(bn,{className:"text-white",size:20})}),s.jsx("span",{className:"text-sm text-gray-700 font-semibold",children:"Enrolled Courses"})]}),s.jsx("span",{className:"text-2xl font-bold text-[#0d9c06]",children:i.length})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-linear-to-r from-green-50 to-green-100/50 rounded-md hover:shadow-md transition-all",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-[#0d9c06] rounded-md flex items-center justify-center",children:s.jsx(ts,{className:"text-white",size:20})}),s.jsx("span",{className:"text-sm text-gray-700 font-semibold",children:"Completed"})]}),s.jsx("span",{className:"text-2xl font-bold text-[#0d9c06]",children:i.filter(C=>C.progress===100).length})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-linear-to-r from-purple-50 to-purple-100/50 rounded-md hover:shadow-md transition-all",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-[#5022C3] rounded-md flex items-center justify-center",children:s.jsx(gl,{className:"text-white",size:20})}),s.jsx("span",{className:"text-sm text-gray-700 font-semibold",children:"In Progress"})]}),s.jsx("span",{className:"text-2xl font-bold text-[#5022C3]",children:i.filter(C=>C.progress>0&&C.progress<100).length})]})]})]})}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-md border-2 border-gray-200 shadow-2xl p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-linear-to-br from-[#0d9c06] to-[#0b7e05] rounded-md",children:s.jsx(hs,{className:"text-white",size:24})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Personal Information"})]}),f?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>{h(!1),S({displayName:n?.displayName||"",phone:n?.phoneNumber||"",photoURL:n?.photoURL||""})},className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 font-medium transition-colors px-4 py-2.5 hover:bg-gray-100 rounded-md",children:[s.jsx(ot,{size:18}),"Cancel"]}),s.jsxs("button",{onClick:O,className:"flex items-center gap-2 bg-linear-to-r from-[#0d9c06] to-[#0b7e05] text-white hover:shadow-xl font-semibold transition-all px-5 py-2.5 rounded-md shadow-lg hover:scale-105 cursor-pointer",children:[s.jsx(Bg,{size:18}),"Save Changes"]})]}):s.jsxs("button",{onClick:()=>h(!0),className:"flex items-center justify-center gap-2 bg-linear-to-r from-[#0d9c06] to-[#0b7e05] text-white font-semibold transition-all px-5 py-2.5 rounded-md shadow-lg hover:shadow-xl hover:scale-105",children:[s.jsx(G4,{size:18}),"Edit Profile"]})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(hs,{size:16,className:"text-[#0d9c06]"}),"Full Name"]}),f?s.jsx("input",{type:"text",value:_.displayName,onChange:C=>S({..._,displayName:C.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0d9c06] focus:border-transparent transition-all",placeholder:"Enter your full name"}):s.jsx("p",{className:"text-gray-900 px-4 py-3 bg-gray-50 rounded-md font-medium",children:n?.displayName||"Not set"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(hi,{size:16,className:"text-[#0d9c06]"}),"Email Address"]}),s.jsx("p",{className:"text-gray-900 px-4 py-3 bg-gray-50 rounded-md font-medium",children:n?.email}),s.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-1",children:"Email cannot be changed"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(ld,{size:16,className:"text-[#0d9c06]"}),"Phone Number"]}),f?s.jsx("input",{type:"tel",value:_.phone,onChange:C=>S({..._,phone:C.target.value}),placeholder:"03001234567",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0d9c06] focus:border-transparent transition-all"}):s.jsx("p",{className:"text-gray-900 px-4 py-3 bg-gray-50 rounded-md font-medium",children:n?.phoneNumber||"Not set"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(hN,{size:16,className:"text-[#0d9c06]"}),"Member Since"]}),s.jsx("p",{className:"text-gray-900 px-4 py-3 bg-gray-50 rounded-md font-medium",children:n?.metadata?.creationTime?new Date(n.metadata.creationTime).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]})]}),s.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-md border-2 border-gray-200 shadow-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 bg-linear-to-br from-[#0d9c06] to-[#0b7e05] rounded-md",children:s.jsx(bn,{className:"text-white",size:24})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Enrolled Courses"})]}),i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 bg-linear-to-br from-green-100 to-green-50 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(bn,{className:"text-[#0d9c06]",size:40})}),s.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-2",children:"No courses enrolled yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Start your learning journey today!"}),s.jsxs(Pe,{to:"/courses",className:"inline-flex items-center gap-2 bg-linear-to-r from-[#0d9c06] to-[#0b7e05] text-white px-6 py-3 rounded-md font-bold hover:shadow-xl transition-all hover:scale-105 cursor-pointer",children:[s.jsx(Ja,{size:18}),"Browse Courses"]})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:i.map(C=>s.jsxs(Pe,{to:`/student/course/${C.id}`,className:"group flex flex-col p-4 border-2 border-gray-200 rounded-md hover:border-[#0d9c06] hover:shadow-xl transition-all bg-white cursor-pointer",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx("div",{className:"w-14 h-14 bg-linear-to-br from-gray-200 to-gray-100 rounded-md overflow-hidden shrink-0 shadow-md",children:C.image?s.jsx("img",{src:C.image,alt:C.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-linear-to-br from-[#0d9c06] to-[#0b7e05]",children:s.jsx(bn,{className:"text-white",size:24})})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("h4",{className:"font-bold text-gray-900 text-sm line-clamp-2 group-hover:text-[#0d9c06] transition-colors",children:C.title})})]}),s.jsxs("div",{className:"mt-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Progress"}),s.jsxs("span",{className:"text-xs font-bold text-[#0d9c06]",children:[C.progress||0,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"bg-linear-to-r from-[#0d9c06] to-[#0b7e05] h-2 rounded-full transition-all duration-500",style:{width:`${C.progress||0}%`}})})]})]},C.id))})]})]})]})}),s.jsx("style",{jsx:!0,children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
        @keyframes slide-in-right {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        .animate-slide-in-right {
          animation: slide-in-right 0.3s ease-out;
        }
      `})]})}function Eye(){const{courseId:t}=sN(),e=zr(),[n,r]=j.useState(null),[i,o]=j.useState(!0),[c,u]=j.useState(null),[f,h]=j.useState({}),[p,g]=j.useState(!0),[x,b]=j.useState("curriculum"),[_,S]=j.useState({}),[N,T]=j.useState(null),[O,C]=j.useState(!1),[M,R]=j.useState(!1),[F,E]=j.useState({sectionId:null,questions:[]}),[I,D]=j.useState({}),[V,z]=j.useState(null);j.useEffect(()=>{(async()=>{try{const we=$n.currentUser;if(!we)return;const De=await(await ze("/api/student/courses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:we.email})})).json();if(De.ok){const Ee=De.courses.find(xe=>xe.id===t);if(Ee){if(r(Ee),Ee.lectures&&Ee.lectures.length>0){const xe=Ee.lectures[0];if(xe.lectures){const jt=xe.lectures[0];u(jt),h({[xe.id]:!0})}else u(xe)}}else e("/student/dashboard")}}catch(we){console.error("Error fetching course:",we)}finally{o(!1)}})()},[t,e]),j.useEffect(()=>{(async()=>{try{const we=$n.currentUser;if(!we)return;const De=await(await ze("/api/student/progress",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:we.email,courseId:t})})).json();De.ok&&S(De.progress||{})}catch(we){console.error("Error fetching progress:",we)}})()},[t]);const $=async()=>{if(!c)return;const de=$n.currentUser;if(de)try{const Z=!_[c.id];S(xe=>({...xe,[c.id]:Z}));const Ee=await(await ze("/api/student/progress/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:de.email,courseId:t,lectureId:c.id,completed:Z})})).json();Ee.ok&&(Ee.certificate&&S(xe=>({...xe,certificate:Ee.certificate})),Ee.newBadges&&Ee.newBadges.length>0&&T(Ee.newBadges[0]))}catch(we){console.error("Error updating progress:",we),S(Z=>({...Z,[c.id]:!Z[c.id]}))}},L=de=>{h(we=>({...we,[de]:!we[de]}))},se=de=>{if(de===0)return!1;for(let we=0;we<de;we++){const Z=n.lectures[we];if(Z.quiz&&Z.quiz.length>0){const De=`quiz-${Z.id}`;if(!_[De])return!0}}return!1},Ne=(de,we)=>{if(se(we)){alert("Please complete the quiz in the previous section to unlock this content.");return}u(de),window.innerWidth<1024&&g(!1)},G=de=>{E({sectionId:de.id,questions:de.quiz}),D({}),z(null),R(!0)},H=(de,we)=>{D(Z=>({...Z,[de]:we}))},ee=async()=>{const de=F.questions;let we=0;de.forEach((Ee,xe)=>{I[xe]===Ee.answer&&we++});const Z=Math.round(we/de.length*100),De=Z>=55;if(z({score:Z,passed:De,total:de.length,correct:we}),De){const Ee=$n.currentUser;if(Ee)try{const xe=`quiz-${F.sectionId}`;S(xt=>({...xt,[xe]:!0}));const Je=await(await ze("/api/student/progress/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:Ee.email,courseId:t,lectureId:xe,completed:!0})})).json();Je.ok&&Je.certificate&&S(xt=>({...xt,certificate:Je.certificate}))}catch(xe){console.error("Error saving quiz progress:",xe)}}},W=()=>{if(!n||!c)return null;let de=[];n.lectures.forEach(Z=>{Z.lectures?de=[...de,...Z.lectures]:de.push(Z)});const we=de.findIndex(Z=>Z.id===c.id);return we!==-1&&we<de.length-1?de[we+1]:null},K=()=>{if(!n||!c)return null;let de=[];n.lectures.forEach(Z=>{Z.lectures?de=[...de,...Z.lectures]:de.push(Z)});const we=de.findIndex(Z=>Z.id===c.id);return we>0?de[we-1]:null},B=()=>{if(!n||!n.lectures)return 0;let de=0;if(n.lectures.forEach(Z=>{Z.lectures?de+=Z.lectures.length:de+=1,Z.quiz&&Z.quiz.length>0&&(de+=1)}),de===0)return 0;const we=Object.keys(_).filter(Z=>Z!=="certificate"&&_[Z]).length;return Math.round(we/de*100)},J=de=>{const we=de.companyLogo;if(we){const Ee={uk:{name:"UK",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Flag_of_the_United_Kingdom_%281-2%29.svg/200px-Flag_of_the_United_Kingdom_%281-2%29.svg.png"},wordpress:{name:"WordPress",logo:"https://s.w.org/style/images/about/WordPress-logotype-wmark.png"},adobe:{name:"Adobe",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6e/Adobe_Corporate_logo.svg/200px-Adobe_Corporate_logo.svg.png"},shopify:{name:"Shopify",logo:"https://cdn.shopify.com/shopifycloud/brochure/assets/brand-assets/shopify-logo-primary-logo-456baa801ee66a0a435671082365958316831c9960c480451dd0330bcdae304f.svg"},meta:{name:"Meta",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7b/Meta_Platforms_Inc._logo.svg/200px-Meta_Platforms_Inc._logo.svg.png"},youtube:{name:"YouTube",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/YouTube_Logo_2017.svg/200px-YouTube_Logo_2017.svg.png"},tiktok:{name:"TikTok",logo:"https://upload.wikimedia.org/wikipedia/en/thumb/a/a9/TikTok_logo.svg/200px-TikTok_logo.svg.png"}}[we];if(Ee)return[{name:"Spark Trainings",logo:null},Ee]}const Z=de.title.toLowerCase();return Z.includes("english")||Z.includes("speaking")||Z.includes("ielts")?[{name:"Spark Trainings",logo:null},{name:"UK",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Flag_of_the_United_Kingdom_%281-2%29.svg/200px-Flag_of_the_United_Kingdom_%281-2%29.svg.png"}]:Z.includes("web")||Z.includes("wordpress")||Z.includes("development")?[{name:"Spark Trainings",logo:null},{name:"WordPress",logo:"https://s.w.org/style/images/about/WordPress-logotype-wmark.png"}]:Z.includes("graphic")||Z.includes("design")||Z.includes("video")||Z.includes("editing")||Z.includes("adobe")?[{name:"Spark Trainings",logo:null},{name:"Adobe",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6e/Adobe_Corporate_logo.svg/200px-Adobe_Corporate_logo.svg.png"}]:Z.includes("shopify")||Z.includes("ecommerce")||Z.includes("e-commerce")?[{name:"Spark Trainings",logo:null},{name:"Shopify",logo:"https://cdn.shopify.com/shopifycloud/brochure/assets/brand-assets/shopify-logo-primary-logo-456baa801ee66a0a435671082365958316831c9960c480451dd0330bcdae304f.svg"}]:Z.includes("social")||Z.includes("marketing")||Z.includes("meta")||Z.includes("facebook")?[{name:"Spark Trainings",logo:null},{name:"Meta",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7b/Meta_Platforms_Inc._logo.svg/200px-Meta_Platforms_Inc._logo.svg.png"}]:Z.includes("youtube")?[{name:"Spark Trainings",logo:null},{name:"YouTube",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/YouTube_Logo_2017.svg/200px-YouTube_Logo_2017.svg.png"}]:Z.includes("tiktok")?[{name:"Spark Trainings",logo:null},{name:"TikTok",logo:"https://upload.wikimedia.org/wikipedia/en/thumb/a/a9/TikTok_logo.svg/200px-TikTok_logo.svg.png"}]:[{name:"Spark Trainings",logo:null}]};if(i)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0d9c06]"})});if(!n)return null;const ie=W(),ye=K(),ke=B(),Le=J(n);return s.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col font-sans",children:[s.jsxs("header",{className:"bg-white text-gray-900 h-16 flex items-center justify-between px-6 sticky top-0 z-50 shadow-sm border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Pe,{to:"/student/dashboard",className:"hover:text-[#0d9c06] transition-colors p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:s.jsx(L4,{size:20})}),s.jsx("div",{className:"flex items-center gap-2 pl-4",children:Le.map((de,we)=>s.jsxs(qt.Fragment,{children:[de.logo?s.jsx("img",{src:de.logo,alt:de.name,className:"h-6 object-contain",onError:Z=>{Z.target.style.display="none"}}):s.jsx("img",{src:X4,alt:"Spark Trainings",className:"h-12 object-contain"}),we<Le.length-1&&s.jsx("div",{className:"h-8 border-l border-gray-300 mx-3"})]},de.name))}),s.jsx("div",{className:"hidden md:block border-l border-gray-300 pl-4 h-8 flex items-center",children:s.jsx("h1",{className:"text-base md:text-lg font-bold truncate max-w-[200px] md:max-w-md text-gray-800",children:n.title})})]}),s.jsx("button",{className:"lg:hidden p-2 hover:bg-gray-100 rounded-full text-gray-700 cursor-pointer",onClick:()=>g(!p),children:p?s.jsx(ot,{size:24}):s.jsx(mN,{size:24})})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[s.jsxs("main",{className:"flex-1 overflow-y-auto bg-white flex flex-col",children:[s.jsx("div",{className:"w-full bg-white py-6 px-6",children:s.jsx("div",{className:"max-w-6xl mx-auto aspect-video bg-black rounded-md overflow-hidden shadow-lg",children:c?c.videoUrl&&(c.videoUrl.endsWith(".mp4")||c.videoUrl.includes("/uploads/videos/"))?s.jsx("video",{src:c.videoUrl,className:"w-full h-full",controls:!0,autoPlay:!0,onEnded:()=>{_[c.id]||$()},children:"Your browser does not support the video tag."}):s.jsx("iframe",{src:(()=>{const de=c.videoUrl;if(!de)return"";if(de.includes("youtube.com")||de.includes("youtu.be")){let we="";if(de.includes("youtube.com/watch")?we=new URLSearchParams(new URL(de).search).get("v"):de.includes("youtu.be/")&&(we=de.split("youtu.be/")[1].split("?")[0]),we)return`https://www.youtube.com/embed/${we}`}if(de.includes("drive.google.com")){let we="";const Z=de.match(/\/d\/([a-zA-Z0-9_-]+)/);Z&&Z[1]&&(we=Z[1]);const De=de.match(/[?&]id=([a-zA-Z0-9_-]+)/);if(De&&De[1]&&(we=De[1]),we)return`https://drive.google.com/file/d/${we}/preview`}return de})(),title:c.title,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-500 p-8",children:[s.jsx("p",{className:"text-lg mb-2",children:"Select a lecture to start watching"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Choose a lecture from the sidebar"})]})})}),s.jsxs("div",{className:"max-w-6xl mx-auto w-full px-4 md:px-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:c?.title}),s.jsx("button",{onClick:$,className:`flex items-center gap-2 px-6 py-2.5 rounded-full font-semibold transition-all shadow-sm hover:shadow-md transform hover:-translate-y-0.5 ${_[c?.id]?"bg-green-100 text-green-700 border border-green-200":"bg-[#0d9c06] text-white hover:bg-[#0b7e05]"}`,children:_[c?.id]?s.jsxs(s.Fragment,{children:[s.jsx(Nr,{size:20}),"Completed"]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-white/80"}),"Mark as Complete"]})})]}),s.jsxs("div",{className:"flex items-center justify-between mb-8 border-b border-gray-200 pb-8",children:[s.jsxs("button",{onClick:()=>ye&&Ne(ye),disabled:!ye,className:`flex items-center gap-2 px-5 py-2.5 rounded-md font-medium transition-all ${ye?"text-gray-700 hover:bg-gray-100 border border-gray-300 hover:border-gray-400":"text-gray-300 cursor-not-allowed border border-gray-100"}`,children:[s.jsx(U4,{size:20}),"Previous"]}),s.jsxs("button",{onClick:()=>ie&&Ne(ie),disabled:!ie,className:`flex items-center gap-2 px-5 py-2.5 rounded-md font-medium transition-all ${ie?"bg-white text-[#0d9c06] border border-[#0d9c06] hover:bg-green-50 shadow-sm hover:shadow-md":"bg-gray-100 text-gray-400 cursor-not-allowed border border-gray-200"}`,children:["Next Lecture",s.jsx(V4,{size:20})]})]}),(()=>{const de=n.lectures.findIndex(we=>we.lectures&&we.lectures.some(Z=>Z.id===c?.id));if(de!==-1){const we=n.lectures[de];if(we.lectures[we.lectures.length-1].id===c?.id&&we.quiz&&we.quiz.length>0){const De=`quiz-${we.id}`,Ee=_[De];return s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-md p-6 mb-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 text-[#0d9c06] rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(vg,{size:32})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:Ee?"Section Quiz Completed!":"Ready for a Challenge?"}),s.jsx("p",{className:"text-gray-600 mb-6 max-w-lg mx-auto",children:Ee?"You've already passed this section's quiz. You can retake it to improve your score.":"Complete the quiz to verify your understanding and unlock the next section. You need 55% to pass."}),s.jsx("button",{onClick:()=>G(we),className:"px-8 py-3 bg-[#0d9c06] text-white rounded-md font-bold hover:bg-[#0b7e05] shadow-md transition-all cursor-pointer",children:Ee?"Retake Quiz":"Start Quiz"})]})}}return null})(),s.jsxs("div",{className:"prose max-w-none",children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-gray-900",children:"About this lecture"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:c?.description||"No description available for this lecture."})]})]})]}),s.jsxs("aside",{className:`
            fixed lg:relative inset-y-0 right-0 w-full lg:w-96 bg-white border-l border-gray-200 transform transition-transform duration-300 ease-in-out z-40 shadow-xl lg:shadow-none
            ${p?"translate-x-0":"translate-x-full lg:translate-x-0"}
            lg:block flex flex-col
          `,style:{height:"calc(100vh - 64px)"},children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Course Progress"}),s.jsxs("span",{className:"text-sm font-bold text-[#0d9c06]",children:[ke,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:s.jsx("div",{className:"bg-[#0d9c06] h-2 rounded-full transition-all duration-500",style:{width:`${ke}%`}})}),ke>=100&&s.jsxs("button",{onClick:()=>C(!0),className:"w-full py-2 bg-linear-to-r from-[#0d9c06] to-[#0b7e05] text-white rounded-md font-bold shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2 cursor-pointer animate-pulse",children:[s.jsx(Xu,{size:18}),"Collect Your Certificate"]})]}),s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsx("button",{onClick:()=>b("curriculum"),className:`flex-1 py-4 text-sm font-semibold text-center transition-colors cursor-pointer ${x==="curriculum"?"text-[#0d9c06] border-b-2 border-[#0d9c06] bg-green-50/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:"Curriculum"}),s.jsx("button",{onClick:()=>b("resources"),className:`flex-1 py-4 text-sm font-semibold text-center transition-colors cursor-pointer ${x==="resources"?"text-[#0d9c06] border-b-2 border-[#0d9c06] bg-green-50/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:"Resources"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:x==="curriculum"?s.jsx("div",{className:"pb-20",children:n.lectures?.map((de,we)=>de.lectures?s.jsxs("div",{className:"border-b border-gray-200 bg-white mb-2 last:mb-0",children:[s.jsxs("button",{onClick:()=>L(de.id),className:"w-full px-4 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"text-left",children:[s.jsx("h4",{className:"font-bold text-sm text-gray-900",children:de.title}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[de.lectures.length," lectures"]})]}),f[de.id]?s.jsx(qB,{size:16}):s.jsx(Hh,{size:16})]}),f[de.id]&&s.jsx("div",{className:"bg-gray-50/50",children:de.lectures.map(Z=>s.jsxs("button",{onClick:()=>Ne(Z,we),className:`w-full px-4 py-3 flex items-start gap-3 cursor-pointer hover:bg-gray-100 transition-all text-left border-l-[3px] ${c?.id===Z.id?"border-[#0d9c06] bg-green-50/60":"border-transparent"}`,children:[s.jsx("div",{className:"mt-0.5",children:se(we)?s.jsx(Qr,{size:16,className:"text-gray-400"}):c?.id===Z.id?s.jsx(Zs,{size:16,className:"text-[#0d9c06]"}):s.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${_[Z.id]?"bg-[#0d9c06] border-[#0d9c06]":"border-gray-400"}`,children:_[Z.id]&&s.jsx(Nr,{size:10,className:"text-white"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-sm truncate ${c?.id===Z.id?"font-semibold text-[#0d9c06]":"text-gray-700"}`,children:Z.title}),s.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1 mt-1",children:[se(we)?s.jsx(Qr,{size:10}):s.jsx(Zs,{size:10}),Z.duration]})]})]},Z.id))})]},de.id||we):s.jsxs("button",{onClick:()=>Ne(de,we),className:`w-full px-4 py-3 flex items-start gap-3 hover:bg-gray-50 transition-all text-left border-l-[3px] border-b border-gray-100 bg-white ${c?.id===de.id?"border-l-[#0d9c06] bg-green-50/60":"border-l-transparent"}`,children:[s.jsx("div",{className:"mt-0.5",children:s.jsx(Zs,{size:16,className:c?.id===de.id?"text-[#0d9c06]":"text-gray-400"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:`text-sm truncate ${c?.id===de.id?"font-semibold text-[#0d9c06]":"text-gray-700"}`,children:de.title})})]},de.id))}):s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ia,{className:"text-gray-400",size:32})}),s.jsx("h3",{className:"text-gray-900 font-bold mb-2",children:"No Resources Yet"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"There are no downloadable resources available for this course yet."})]})})]})]}),N&&s.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 animate-in fade-in duration-300",children:s.jsxs("div",{className:"bg-white rounded-md shadow-2xl max-w-sm w-full p-8 text-center transform scale-100 animate-in zoom-in-95 duration-300 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-linear-to-b from-yellow-50 to-white -z-10"}),s.jsx("div",{className:"w-24 h-24 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-6 text-5xl shadow-inner animate-bounce",children:N.icon}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Badge Unlocked!"}),s.jsx("h3",{className:"text-xl font-bold text-[#0d9c06] mb-4",children:N.name}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Congratulations! You've earned this badge for your progress. Keep up the great work!"}),s.jsx("button",{onClick:()=>T(null),className:"w-full py-3 bg-[#0d9c06] text-white rounded-md font-bold hover:bg-[#0b7e05] shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all",children:"Awesome!"})]})}),M&&s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 animate-in fade-in duration-300",children:s.jsxs("div",{className:"bg-white rounded-md shadow-2xl max-w-2xl w-full max-h-[90vh] flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center bg-gray-50",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:V?"Quiz Result":"Section Quiz"}),s.jsx("button",{onClick:()=>R(!1),className:"text-gray-500 hover:text-gray-700",children:s.jsx(ot,{size:24})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:V?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:`w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6 ${V.passed?"bg-green-100 text-[#0d9c06]":"bg-red-100 text-red-600"}`,children:V.passed?s.jsx(Xu,{size:48}):s.jsx(Zy,{size:48})}),s.jsx("h3",{className:"text-2xl font-bold mb-2",children:V.passed?"Congratulations!":"Keep Trying!"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["You scored ",s.jsxs("span",{className:"font-bold text-gray-900",children:[V.score,"%"]})," (",V.correct," / ",V.total," correct)."]}),V.passed?s.jsx("div",{className:"p-4 bg-green-50 rounded-md border border-green-200 text-green-800 text-sm",children:"You have passed this section! The next section is now unlocked."}):s.jsx("div",{className:"p-4 bg-red-50 rounded-md border border-red-200 text-red-800 text-sm",children:"You need 55% to pass. Please review the material and try again."}),s.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[!V.passed&&s.jsx("button",{onClick:()=>{z(null),D({})},className:"px-6 py-2 bg-[#0d9c06] text-white rounded-md font-bold hover:bg-[#0b7e05] transition-colors cursor-pointer",children:"Try Again"}),s.jsx("button",{onClick:()=>R(!1),className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-md font-bold hover:bg-gray-300 transition-colors cursor-pointer",children:"Close"})]})]}):s.jsx("div",{className:"space-y-8",children:F.questions.map((de,we)=>s.jsxs("div",{className:"bg-gray-50 p-6 rounded-md border border-gray-200",children:[s.jsxs("p",{className:"font-semibold text-gray-900 mb-4 flex gap-3",children:[s.jsxs("span",{className:"text-[#0d9c06]",children:[we+1,"."]}),de.question]}),s.jsx("div",{className:"space-y-3 pl-6",children:de.options.map((Z,De)=>s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ${I[we]===Z?"border-[#0d9c06] bg-white":"border-gray-400 group-hover:border-gray-500"}`,children:I[we]===Z&&s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-[#0d9c06]"})}),s.jsx("input",{type:"radio",name:`q-${we}`,className:"hidden",checked:I[we]===Z,onChange:()=>H(we,Z)}),s.jsx("span",{className:`${I[we]===Z?"text-gray-900 font-medium":"text-gray-600"}`,children:Z})]},De))})]},we))})}),!V&&s.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50 flex justify-end",children:s.jsx("button",{onClick:ee,disabled:Object.keys(I).length<F.questions.length,className:"px-8 py-3 bg-[#0d9c06] text-white rounded-md font-bold hover:bg-[#0b7e05] disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-md",children:"Submit Answers"})})]})}),O&&s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 animate-in fade-in duration-300",children:s.jsxs("div",{className:"bg-white rounded-md shadow-2xl max-w-5xl w-full max-h-[90vh] flex flex-col relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-4 right-4 z-10",children:s.jsx("button",{onClick:()=>C(!1),className:"bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-colors cursor-pointer",children:s.jsx(ot,{size:20})})}),s.jsx("div",{className:"flex-1 overflow-auto p-4 flex items-center justify-center bg-gray-100",children:n.certificateTemplate?s.jsx("div",{className:"relative shadow-lg max-w-full",children:s.jsx(Aye,{templateUrl:n.certificateTemplate,studentName:$n.currentUser?.displayName||"Student Name",courseTitle:n.title,regNo:_.certificate?.regNo||"Generating...",issueDate:_.certificate?.issueDate})}):s.jsxs("div",{className:"aspect-video w-full max-w-3xl bg-white rounded-md flex flex-col items-center justify-center text-gray-500 shadow-sm",children:[s.jsx(Xu,{size:64,className:"mb-4 text-gray-300"}),s.jsx("p",{children:"Certificate template not available yet."})]})}),s.jsx("div",{className:"p-4 border-t border-gray-200 bg-white flex justify-center",children:s.jsxs("button",{onClick:()=>{const de=document.getElementById("certificate-canvas");if(de){const we=document.createElement("a");we.download=`Certificate-${n.title}.png`,we.href=de.toDataURL(),we.click()}},className:`px-8 py-3 bg-[#0d9c06] text-white rounded-md font-bold hover:bg-[#0b7e05] shadow-lg transition-colors flex items-center gap-2 cursor-pointer ${n.certificateTemplate?"":"opacity-50 pointer-events-none"}`,children:[s.jsx(Ia,{size:20}),"Download Certificate"]})})]})})]})}function Aye({templateUrl:t,studentName:e,courseTitle:n,regNo:r,issueDate:i}){const o=qt.useRef(null);return qt.useEffect(()=>{const c=o.current,u=c.getContext("2d"),f=new Image;f.crossOrigin="anonymous",f.src=t,f.onload=()=>{c.width=f.width,c.height=f.height,u.drawImage(f,0,0),u.textAlign="center",u.font='bold 70px "Outfit", sans-serif';const h=n&&n.toLowerCase().includes("skin");u.fillStyle=h?"#C5A059":"#0d9c06",u.fillText(e,c.width/2,c.height/2+15),r&&(u.font='bold 24px "Outfit", sans-serif',u.fillStyle="#4b5563",u.textAlign="right",u.fillText(`Reference No: ${r}`,c.width-60,80))}},[t,e,n,r,i]),s.jsx("canvas",{id:"certificate-canvas",ref:o,className:"w-full rounded-md shadow-inner",style:{maxWidth:"100%",height:"auto"}})}function Tye(){const[t,e]=j.useState([]),[n,r]=j.useState(!0),[i,o]=j.useState(""),[c,u]=j.useState("all");j.useEffect(()=>{f()},[]);async function f(){r(!0);try{const b=await(await ze("/api/admin/activity-logs",{headers:{"x-admin-token":localStorage.getItem("admin_token")}})).json();b.ok&&e(b.logs)}catch(x){console.error("Error fetching activity logs:",x)}finally{r(!1)}}const h=t.filter(x=>{const b=x.title.toLowerCase().includes(i.toLowerCase())||x.message.toLowerCase().includes(i.toLowerCase())||x.user.toLowerCase().includes(i.toLowerCase()),_=c==="all"||x.type===c;return b&&_}),p=x=>{switch(x){case"success":return s.jsx(Nr,{className:"text-green-500",size:20});case"error":return s.jsx(Fg,{className:"text-red-500",size:20});case"order":return s.jsx(cd,{className:"text-blue-500",size:20});default:return s.jsx(bF,{className:"text-gray-500",size:20})}},g=x=>{switch(x){case"success":return"bg-green-100 text-green-800";case"error":return"bg-red-100 text-red-800";case"order":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return n?s.jsx(Lr,{children:s.jsx(RZ,{})}):s.jsxs(Lr,{children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[s.jsx(M4,{className:"text-[#0d9c06]"}),"Activity Log"]}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Track all system events and user actions"})]}),s.jsxs("div",{className:"bg-white p-4 rounded-md shadow-sm border border-gray-200 mb-6 flex flex-col md:flex-row gap-4 justify-between items-center",children:[s.jsxs("div",{className:"relative w-full md:w-96",children:[s.jsx(Di,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search activity...",value:i,onChange:x=>o(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0d9c06]"})]}),s.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[s.jsx($4,{size:20,className:"text-gray-500"}),s.jsxs("select",{value:c,onChange:x=>u(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0d9c06] bg-white",children:[s.jsx("option",{value:"all",children:"All Events"}),s.jsx("option",{value:"success",children:"Success"}),s.jsx("option",{value:"error",children:"Errors"}),s.jsx("option",{value:"order",children:"Orders"}),s.jsx("option",{value:"info",children:"Info"})]})]})]}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-md shadow-sm overflow-hidden",children:h.length===0?s.jsx("div",{className:"p-12 text-center text-gray-500",children:"No activity found."}):s.jsx("div",{className:"divide-y divide-gray-100",children:h.map(x=>s.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors flex items-start gap-4",children:[s.jsx("div",{className:"mt-1 shrink-0",children:p(x.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:x.title}),s.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1 shrink-0",children:[s.jsx(Qu,{size:14}),new Date(x.time).toLocaleString()]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:x.message}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${g(x.type)}`,children:x.type.toUpperCase()}),s.jsxs("span",{className:"text-xs text-gray-400",children:["User: ",x.user]})]})]})]},x.id))})})]})}function Cye(){const t=zr(),[e,n]=j.useState(!0),[r,i]=j.useState(null);return j.useEffect(()=>{const o=vG($n,async c=>{c?i(c):t("/login"),n(!1)});return()=>o()},[t]),e?s.jsx("div",{className:"min-h-screen bg-linear-to-br from-green-50 via-emerald-50 to-teal-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"animate-spin rounded-full h-20 w-20 border-b-4 border-[#0d9c06] mx-auto mb-4"}),s.jsx(Ja,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-[#0d9c06] animate-pulse",size:32})]}),s.jsx("p",{className:"text-gray-700 font-semibold text-lg",children:"Verifying session..."})]})}):s.jsx(cN,{context:{user:r}})}function kye(){const{addNotification:t}=js(),[e,n]=j.useState([]),[r,i]=j.useState([]),[o,c]=j.useState(!0),[u,f]=j.useState(!1),[h,p]=j.useState(""),[g,x]=j.useState(""),[b,_]=j.useState(""),[S,N]=j.useState(!1);j.useEffect(()=>{T(),O()},[]);async function T(){try{const I=await(await ze("/api/admin/roles",{headers:{"x-admin-token":localStorage.getItem("admin_token")}})).json();I.ok&&I.roles&&n(I.roles)}catch(E){console.error("Error fetching roles:",E)}finally{c(!1)}}async function O(){try{const I=await(await ze("/api/admin/roles/available",{headers:{"x-admin-token":localStorage.getItem("admin_token")}})).json();I.ok&&I.roles&&(i(I.roles),I.roles.length>0&&x(I.roles[0].value))}catch(E){console.error("Error fetching available roles:",E)}}async function C(E){E.preventDefault();try{const I=await ze("/api/admin/roles/invite",{method:"POST",headers:{"Content-Type":"application/json","x-admin-token":localStorage.getItem("admin_token")},body:JSON.stringify({email:h,role:g})}),D=await I.json();I.ok&&D.ok?(t({type:"success",title:"Invitation Created",message:`Invitation sent to ${h}`}),_(D.inviteLink),f(!1),N(!0),p(""),T()):t({type:"error",title:"Error",message:D.message||"Failed to create invitation"})}catch(I){console.error("Error creating invitation:",I),t({type:"error",title:"Error",message:"Failed to create invitation"})}}async function M(E,I){if(confirm(`Are you sure you want to revoke access for ${I}?`))try{const D=await ze(`/api/admin/roles/${E}`,{method:"DELETE",headers:{"x-admin-token":localStorage.getItem("admin_token")}}),V=await D.json();D.ok&&V.ok?(t({type:"success",title:"Access Revoked",message:`Access revoked for ${I}`}),T()):t({type:"error",title:"Error",message:V.message||"Failed to revoke access"})}catch(D){console.error("Error revoking access:",D),t({type:"error",title:"Error",message:"Failed to revoke access"})}}function R(){navigator.clipboard.writeText(b),t({type:"success",title:"Copied!",message:"Invitation link copied to clipboard"})}const F=E=>{const I={pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Pending",icon:Qu},active:{bg:"bg-green-100",text:"text-green-800",label:"Active",icon:Nr},revoked:{bg:"bg-red-100",text:"text-red-800",label:"Revoked",icon:Zy}},D=I[E]||I.pending,V=D.icon;return s.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium ${D.bg} ${D.text}`,children:[s.jsx(V,{size:14}),D.label]})};return s.jsxs(Lr,{children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[s.jsx(Gh,{className:"text-[#0d9c06]"}),"Roles & Permissions"]}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Manage admin team members and their access levels"})]}),s.jsxs("button",{onClick:()=>f(!0),className:"bg-[#0d9c06] text-white px-4 py-2 rounded-md hover:bg-[#0b7e05] flex items-center gap-2 cursor-pointer transition-colors shadow-sm",children:[s.jsx(j1,{size:20}),"Invite Team Member"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white p-4 rounded-md border border-gray-200",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Total Team Members"}),s.jsx("div",{className:"text-2xl font-bold text-gray-800",children:e.length})]}),s.jsxs("div",{className:"bg-white p-4 rounded-md border border-gray-200",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Active"}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(E=>E.status==="active").length})]}),s.jsxs("div",{className:"bg-white p-4 rounded-md border border-gray-200",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Pending"}),s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(E=>E.status==="pending").length})]})]}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-md shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200 text-xs uppercase text-gray-500 font-semibold",children:[s.jsx("th",{className:"p-4",children:"Email"}),s.jsx("th",{className:"p-4",children:"Role"}),s.jsx("th",{className:"p-4",children:"Status"}),s.jsx("th",{className:"p-4",children:"Invited By"}),s.jsx("th",{className:"p-4",children:"Last Login"}),s.jsx("th",{className:"p-4",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:o?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"p-8 text-center text-gray-500",children:"Loading..."})}):e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"p-8 text-center text-gray-500",children:'No team members yet. Click "Invite Team Member" to get started.'})}):e.map(E=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hi,{size:16,className:"text-gray-400"}),s.jsx("span",{className:"font-medium text-gray-900",children:E.email})]})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:E.roleDisplay}),s.jsx("div",{className:"text-xs text-gray-500",children:E.roleDescription})]})}),s.jsx("td",{className:"p-4",children:F(E.status)}),s.jsx("td",{className:"p-4 text-sm text-gray-600",children:E.invitedBy}),s.jsx("td",{className:"p-4 text-sm text-gray-600",children:E.lastLogin?new Date(E.lastLogin).toLocaleDateString():"Never"}),s.jsx("td",{className:"p-4",children:E.status!=="revoked"&&s.jsx("button",{onClick:()=>M(E._id,E.email),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-md transition-colors cursor-pointer",title:"Revoke access",children:s.jsx(wr,{size:18})})})]},E._id))})]})})}),u&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-md shadow-2xl w-full max-w-md overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-linear-to-r from-[#0d9c06] to-[#0b7e05] text-white",children:[s.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(j1,{size:24}),"Invite Team Member"]}),s.jsx("button",{onClick:()=>f(!1),className:"text-white hover:bg-white/20 p-2 rounded-md transition-colors cursor-pointer",children:s.jsx(ot,{size:20})})]}),s.jsxs("form",{onSubmit:C,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsx("input",{type:"email",value:h,onChange:E=>p(E.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0d9c06]",placeholder:"colleague@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),s.jsx("select",{value:g,onChange:E=>x(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0d9c06]",children:r.map(E=>s.jsx("option",{value:E.value,children:E.label},E.value))}),g&&r.find(E=>E.value===g)&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r.find(E=>E.value===g).description})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 font-medium transition-colors cursor-pointer",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 bg-[#0d9c06] text-white px-4 py-2 rounded-md hover:bg-[#0b7e05] font-medium shadow-sm transition-colors cursor-pointer",children:"Create Invitation"})]})]})]})}),S&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-md shadow-2xl w-full max-w-lg overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-green-50",children:[s.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-green-800",children:[s.jsx(Nr,{size:24}),"Invitation Created!"]}),s.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600 transition-colors cursor-pointer",children:s.jsx(ot,{size:20})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("p",{className:"text-gray-700",children:"Copy this invitation link and send it to the team member:"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-md border border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("code",{className:"flex-1 text-sm break-all text-gray-800",children:b}),s.jsx("button",{onClick:R,className:"p-2 bg-[#0d9c06] text-white rounded-md hover:bg-[#0b7e05] transition-colors cursor-pointer",title:"Copy to clipboard",children:s.jsx(eF,{size:18})})]})}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:s.jsx("p",{className:"text-sm text-yellow-800",children:" This link expires in 7 days. The recipient will need to set their password to activate their account."})}),s.jsx("button",{onClick:()=>N(!1),className:"w-full bg-[#0d9c06] text-white px-4 py-2 rounded-md hover:bg-[#0b7e05] font-medium transition-colors cursor-pointer",children:"Done"})]})]})})]})}function Iye(){const[t]=P4(),e=zr(),n=t.get("token"),[r,i]=j.useState(!0),[o,c]=j.useState(null),[u,f]=j.useState(""),[h,p]=j.useState(""),[g,x]=j.useState(!1),[b,_]=j.useState(!1),[S,N]=j.useState(""),[T,O]=j.useState(!1);j.useEffect(()=>{if(!n){N("Invalid invitation link"),i(!1);return}C()},[n]);async function C(){try{const R=await fetch(`https://spark-lms-backend.vercel.app/api/admin/roles/verify-token/${n}`),F=await R.json();R.ok&&F.ok?c(F):N(F.message||"Invalid or expired invitation")}catch(R){console.error("Error verifying token:",R),N("Failed to verify invitation")}finally{i(!1)}}async function M(R){if(R.preventDefault(),N(""),u!==h){N("Passwords do not match");return}if(u.length<6){N("Password must be at least 6 characters");return}O(!0);try{const F=await fetch("https://spark-lms-backend.vercel.app/api/admin/roles/accept-invite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n,password:u})}),E=await F.json();F.ok&&E.ok?setTimeout(()=>{e("/admin/login?activated=true&email="+encodeURIComponent(E.email))},2e3):(N(E.message||"Failed to activate account"),O(!1))}catch(F){console.error("Error accepting invitation:",F),N("Failed to activate account"),O(!1)}}return r?s.jsx("div",{className:"min-h-screen bg-linear-to-br from-[#0d9c06] to-[#0b7e05] flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-md shadow-2xl p-8 text-center",children:[s.jsx(sh,{className:"w-12 h-12 text-[#0d9c06] animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Verifying invitation..."})]})}):S&&!o?s.jsx("div",{className:"min-h-screen bg-linear-to-br from-red-500 to-red-600 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-md shadow-2xl p-8 max-w-md w-full text-center",children:[s.jsx(Zy,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Invalid Invitation"}),s.jsx("p",{className:"text-gray-600 mb-6",children:S}),s.jsx("button",{onClick:()=>e("/admin/login"),className:"bg-red-500 text-white px-6 py-2 rounded-md hover:bg-red-600 transition-colors cursor-pointer",children:"Go to Login"})]})}):T&&!S?s.jsx("div",{className:"min-h-screen bg-linear-to-br from-green-500 to-green-600 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-md shadow-2xl p-8 max-w-md w-full text-center",children:[s.jsx(Nr,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Account Activated!"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Redirecting to login..."}),s.jsx(sh,{className:"w-8 h-8 text-green-500 animate-spin mx-auto"})]})}):s.jsx("div",{className:"min-h-screen bg-linear-to-br from-[#0d9c06] to-[#0b7e05] flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-md shadow-2xl w-full max-w-md overflow-hidden",children:[s.jsxs("div",{className:"bg-linear-to-r from-[#0d9c06] to-[#0b7e05] p-8 text-white text-center",children:[s.jsx(Gh,{className:"w-16 h-16 mx-auto mb-4"}),s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Welcome to Spark Trainings!"}),s.jsxs("p",{className:"text-green-100",children:["You've been invited as ",o?.roleDisplay]})]}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-md p-4 mb-6",children:[s.jsxs("p",{className:"text-sm text-green-800",children:[s.jsx("strong",{children:"Email:"})," ",o?.email]}),s.jsxs("p",{className:"text-sm text-green-800 mt-1",children:[s.jsx("strong",{children:"Role:"})," ",o?.roleDisplay]}),s.jsx("p",{className:"text-xs text-green-600 mt-2",children:o?.roleDescription})]}),S&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:s.jsx("span",{className:"block text-sm",children:S})}),s.jsxs("form",{onSubmit:M,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Set Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:g?"text":"password",value:u,onChange:R=>f(R.target.value),required:!0,minLength:6,className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0d9c06]",placeholder:"At least 6 characters"}),s.jsx("button",{type:"button",onClick:()=>x(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g?s.jsx(eo,{size:18}):s.jsx(as,{size:18})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:b?"text":"password",value:h,onChange:R=>p(R.target.value),required:!0,minLength:6,className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0d9c06]",placeholder:"Re-enter password"}),s.jsx("button",{type:"button",onClick:()=>_(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:b?s.jsx(eo,{size:18}):s.jsx(as,{size:18})})]})]}),s.jsx("button",{type:"submit",disabled:T,className:"w-full bg-[#0d9c06] text-white py-3 rounded-md hover:bg-[#0b7e05] font-medium shadow-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:T?"Activating...":"Activate Account"})]}),s.jsxs("p",{className:"text-center text-sm text-gray-500 mt-6",children:["Already have an account?"," ",s.jsx("a",{href:"/admin/login",className:"text-[#0d9c06] hover:underline font-medium cursor-pointer",children:"Sign in"})]})]})]})})}function Oye(){const{addNotification:t}=js(),[e,n]=j.useState(!1),[r,i]=j.useState({name:"Sajid Ali",email:"",recoveryEmail:"",role:"",profilePicture:null}),[o,c]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[u,f]=j.useState({current:!1,new:!1,confirm:!1}),[h,p]=j.useState(null),[g,x]=j.useState(null);j.useEffect(()=>{b()},[]);async function b(){try{const C=localStorage.getItem("admin_email")||"admin",M=localStorage.getItem("admin_role")||"super_admin",R=await ze("/api/admin/profile",{headers:{"x-admin-token":localStorage.getItem("admin_token")}});if(R.ok){const F=await R.json();F.ok&&(i({name:F.profile.name||"Sajid Ali",email:F.profile.email||C,recoveryEmail:F.profile.recoveryEmail||"",role:F.profile.role||M,profilePicture:F.profile.profilePicture||null}),x(F.profile.profilePicture))}else i({name:localStorage.getItem("admin_name")||"Sajid Ali",email:C,recoveryEmail:"",role:M,profilePicture:localStorage.getItem("admin_profile_picture")||null}),x(localStorage.getItem("admin_profile_picture"))}catch(C){console.error("Error loading profile:",C),i({name:localStorage.getItem("admin_name")||"Sajid Ali",email:localStorage.getItem("admin_email")||"admin",recoveryEmail:"",role:localStorage.getItem("admin_role")||"super_admin",profilePicture:localStorage.getItem("admin_profile_picture")||null}),x(localStorage.getItem("admin_profile_picture"))}}function _(C){const M=C.target.files[0];if(M){if(M.size>2*1024*1024){t({type:"error",title:"File Too Large",message:"Profile picture must be less than 2MB"});return}if(!M.type.startsWith("image/")){t({type:"error",title:"Invalid File Type",message:"Please select an image file"});return}p(M),x(URL.createObjectURL(M))}}function S(){p(null),x(r.profilePicture)}async function N(C){C.preventDefault(),n(!0);try{const M=new FormData;M.append("name",r.name),M.append("recoveryEmail",r.recoveryEmail),h&&M.append("profilePicture",h);const R=await ze("/api/admin/profile",{method:"PUT",headers:{"x-admin-token":localStorage.getItem("admin_token")},body:M}),F=R.headers.get("content-type");if(!F||!F.includes("application/json")){const I=await R.text();throw console.error("Non-JSON response received:",I),new Error(`Server returned non-JSON response (${R.status}). Please check backend logs.`)}const E=await R.json();if(E.ok)localStorage.setItem("admin_name",r.name),E.profilePictureUrl&&(localStorage.setItem("admin_profile_picture",E.profilePictureUrl),i(I=>({...I,profilePicture:E.profilePictureUrl})),x(E.profilePictureUrl)),t({type:"success",title:"Profile Updated",message:"Your profile has been updated successfully"}),p(null),window.dispatchEvent(new Event("profileUpdated"));else throw new Error(E.message||"Failed to update profile")}catch(M){console.error("Error updating profile:",M),t({type:"error",title:"Update Failed",message:M.message||"Failed to update profile"})}finally{n(!1)}}async function T(C){if(C.preventDefault(),o.newPassword!==o.confirmPassword){t({type:"error",title:"Password Mismatch",message:"New password and confirm password do not match"});return}if(o.newPassword.length<6){t({type:"error",title:"Password Too Short",message:"Password must be at least 6 characters long"});return}n(!0);try{const R=await(await ze("/api/admin/change-password",{method:"PUT",headers:{"Content-Type":"application/json","x-admin-token":localStorage.getItem("admin_token")},body:JSON.stringify({currentPassword:o.currentPassword,newPassword:o.newPassword})})).json();if(R.ok)t({type:"success",title:"Password Changed",message:"Your password has been changed successfully"}),c({currentPassword:"",newPassword:"",confirmPassword:""});else throw new Error(R.message||"Failed to change password")}catch(M){console.error("Error changing password:",M),t({type:"error",title:"Password Change Failed",message:M.message||"Failed to change password"})}finally{n(!1)}}function O(C){return{super_admin:"Super Admin",content_manager:"Content Manager",instructor:"Instructor",support_staff:"Support Staff",finance_manager:"Finance Manager"}[C]||"Admin"}return s.jsx(Lr,{children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(hs,{className:"text-[#0d9c06]"}),"Admin Profile"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your profile information and security settings"})]}),s.jsxs("div",{className:"bg-white rounded-md shadow-sm border border-gray-200 overflow-hidden mb-6",children:[s.jsx("div",{className:"bg-linear-to-r from-[#0d9c06] to-[#0b7e05] h-32"}),s.jsxs("div",{className:"px-8 pb-8",children:[s.jsxs("div",{className:"relative -mt-16 mb-6",children:[s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{className:"h-32 w-32 rounded-full border-4 border-white shadow-lg overflow-hidden bg-gray-100",children:g?s.jsx("img",{src:g.startsWith("http")||g.startsWith("blob:")?g:`${config.apiUrl}${g}`,alt:"Profile",className:"h-full w-full object-cover"}):s.jsx("div",{className:"h-full w-full bg-linear-to-br from-[#0d9c06] to-[#0b7e05] flex items-center justify-center text-white text-4xl font-bold",children:r.name.charAt(0).toUpperCase()})}),s.jsxs("label",{className:"absolute bottom-0 right-0 h-10 w-10 bg-[#0d9c06] rounded-full flex items-center justify-center text-white cursor-pointer hover:bg-[#0b7e05] transition-colors shadow-lg",children:[s.jsx(y1,{size:20}),s.jsx("input",{type:"file",accept:"image/*",onChange:_,className:"hidden"})]}),h&&s.jsx("button",{onClick:S,className:"absolute -top-2 -right-2 h-8 w-8 bg-red-500 rounded-full flex items-center justify-center text-white hover:bg-red-600 transition-colors shadow-lg cursor-pointer",children:s.jsx(ot,{size:16})})]}),h&&s.jsx("p",{className:"mt-2 text-sm text-green-600 font-medium",children:"New image selected. Click Save to update."})]}),s.jsxs("form",{onSubmit:N,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:"text",value:r.name,onChange:C=>i({...r,name:C.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-md focus:border-[#0d9c06] focus:ring-2 focus:ring-green-200 transition-all",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Login Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(hi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:"email",value:r.email,className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-md bg-gray-50 text-gray-500 cursor-not-allowed",disabled:!0})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Login email cannot be changed"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Recovery Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(hi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:"email",value:r.recoveryEmail,onChange:C=>i({...r,recoveryEmail:C.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-md focus:border-[#0d9c06] focus:ring-2 focus:ring-green-200 transition-all",placeholder:"recovery@example.com"})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Used for password recovery"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Role"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:"text",value:O(r.role),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-md bg-gray-50 text-gray-500 cursor-not-allowed",disabled:!0})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Role is assigned by Super Admin"})]})]}),s.jsx("div",{className:"flex gap-3 pt-6 border-t border-gray-200",children:s.jsxs("button",{type:"submit",disabled:e,className:"flex items-center gap-2 bg-[#0d9c06] hover:bg-[#0b7e05] text-white px-6 py-3 rounded-md font-medium shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-all cursor-pointer",children:[s.jsx(Bg,{size:20}),e?"Saving...":"Save Changes"]})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-md shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"bg-gray-50 border-b border-gray-200 px-6 py-4",children:[s.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(_F,{className:"text-[#0d9c06]",size:20}),"Change Password"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Update your password to keep your account secure"})]}),s.jsx("div",{className:"px-8 py-6",children:s.jsxs("form",{onSubmit:T,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:u.current?"text":"password",value:o.currentPassword,onChange:C=>c({...o,currentPassword:C.target.value}),className:"w-full pl-10 pr-12 py-3 border-2 border-gray-300 rounded-md focus:border-[#0d9c06] focus:ring-2 focus:ring-green-200 transition-all",placeholder:"Enter current password",required:!0}),s.jsx("button",{type:"button",onClick:()=>f({...u,current:!u.current}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u.current?s.jsx(eo,{size:18}):s.jsx(as,{size:18})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:u.new?"text":"password",value:o.newPassword,onChange:C=>c({...o,newPassword:C.target.value}),className:"w-full pl-10 pr-12 py-3 border-2 border-gray-300 rounded-md focus:border-[#0d9c06] focus:ring-2 focus:ring-green-200 transition-all",placeholder:"Enter new password (min 6 characters)",required:!0}),s.jsx("button",{type:"button",onClick:()=>f({...u,new:!u.new}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u.new?s.jsx(eo,{size:18}):s.jsx(as,{size:18})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:u.confirm?"text":"password",value:o.confirmPassword,onChange:C=>c({...o,confirmPassword:C.target.value}),className:"w-full pl-10 pr-12 py-3 border-2 border-gray-300 rounded-md focus:border-[#0d9c06] focus:ring-2 focus:ring-green-200 transition-all",placeholder:"Confirm new password",required:!0}),s.jsx("button",{type:"button",onClick:()=>f({...u,confirm:!u.confirm}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u.confirm?s.jsx(eo,{size:18}):s.jsx(as,{size:18})})]})]})]}),s.jsx("div",{className:"flex gap-3 pt-6 border-t border-gray-200",children:s.jsxs("button",{type:"submit",disabled:e,className:"flex items-center gap-2 bg-[#0d9c06] hover:bg-[#0b7e05] text-white px-6 py-3 rounded-md font-medium shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-all cursor-pointer",children:[s.jsx(Qr,{size:20}),e?"Changing...":"Change Password"]})})]})})]}),s.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-md p-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Security Tips"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Profile picture should be square and less than 2MB"}),s.jsx("li",{children:" Use a strong password with at least 6 characters"}),s.jsx("li",{children:" Add a recovery email to reset your password if forgotten"}),s.jsx("li",{children:" Your name will be displayed in the admin header"})]})]})]})})}const a4="/assets/OnlineCoursesImage-CYCPPoTE.jpg",Rye="/assets/OnlineCoursesImageMobile-DktfHkkC.jpg",Pye=()=>{const[t,e]=j.useState(a4);return j.useEffect(()=>{const n=()=>{window.innerWidth<640?e(Rye):e(a4)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),s.jsxs("div",{className:"w-full mx-auto pb-12 sm:pb-16",children:[s.jsx("div",{className:"h-[250px] sm:h-80 lg:h-[420px] w-full mx-auto max-w-[1440px] bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${t})`}}),s.jsx("div",{className:"block sm:hidden w-full pt-10 pb-10 px-4",children:s.jsx("h1",{className:"text-3xl leading-8 font-bold font-sora text-[#1c1d1f] text-center",children:"Skills For Your Future, Start Today"})}),s.jsx("div",{className:"bg-black h-16 w-full flex justify-center items-center",children:s.jsx(im,{})}),s.jsx("div",{className:"mt-12",children:s.jsx(g2,{})})]})},s4="/assets/OnsiteCoursesImage-B-nKxRAg.jpg",Dye="/assets/OnsiteCoursesImageMobile-Do-TTlfP.jpg",Mye=()=>{const[t,e]=j.useState(s4);return j.useEffect(()=>{const n=()=>{window.innerWidth<640?e(Dye):e(s4)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),s.jsxs("div",{className:"w-full mx-auto pb-12 sm:pb-16",children:[s.jsx("div",{className:"h-[250px] sm:h-80 lg:h-[420px] w-full mx-auto max-w-[1440px] bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${t})`}}),s.jsx("div",{className:"block sm:hidden w-full pt-10 pb-10 px-4",children:s.jsx("h1",{className:"text-3xl leading-8 font-bold font-sora text-[#1c1d1f] text-center",children:"Level Up With Hands-On Training"})}),s.jsx("div",{className:"bg-black h-16 w-full flex justify-center items-center",children:s.jsx(im,{})}),s.jsx("div",{className:"mt-12",children:s.jsx(m2,{})})]})},Lye=["General","Classroom","Students","Setups","Certificates","Events"];function zye(){const[t,e]=j.useState([]),[n,r]=j.useState(!0),[i,o]=j.useState(!1),{addNotification:c}=js(),[u,f]=j.useState({title:"",type:"image",category:"General",externalUrl:"",thumbnail:""}),[h,p]=j.useState(null),[g,x]=j.useState(null),[b,_]=j.useState(!1),[S,N]=j.useState(!1),[T,O]=j.useState([]),[C,M]=j.useState(!1),[R,F]=j.useState(""),[E,I]=j.useState(!1);j.useEffect(()=>{D()},[]);async function D(){try{const ee=await(await ze("/api/gallery")).json();ee.ok&&e(ee.items)}catch(H){console.error("Error fetching gallery:",H)}finally{r(!1)}}async function V(){M(!0);try{const ee=await(await ze("/api/drive/list",{headers:{"x-admin-token":localStorage.getItem("admin_token")}})).json();ee.ok&&O(ee.files||[])}catch(H){console.error("Error fetching drive files:",H)}finally{M(!1)}}async function z(H){H&&H.preventDefault(),_(!0);try{const ee=new FormData;ee.append("title",u.title),ee.append("type",u.type),ee.append("category",u.category),u.externalUrl&&ee.append("externalUrl",u.externalUrl),u.thumbnail&&!g&&ee.append("thumbnail",u.thumbnail),h&&(u.type==="video"?ee.append("video",h):ee.append("file",h)),g&&ee.append("thumbnail",g);const K=await(await ze("/api/admin/gallery/add",{method:"POST",headers:{"x-admin-token":localStorage.getItem("admin_token")},body:ee})).json();K.ok?(c({type:"success",title:"Added",message:"Item added to gallery successfully"}),D(),o(!1),L()):c({type:"error",title:"Error",message:K.message||"Failed to add item"})}catch(ee){console.error("Error adding gallery item:",ee),c({type:"error",title:"Server Error",message:"Failed to connect to server"})}finally{_(!1)}}async function $(H){if(window.confirm("Are you sure you want to delete this item?"))try{(await(await ze(`/api/admin/gallery/${H}`,{method:"DELETE",headers:{"x-admin-token":localStorage.getItem("admin_token")}})).json()).ok&&(c({type:"success",title:"Deleted",message:"Item removed from gallery"}),e(t.filter(K=>K._id!==H)))}catch(ee){console.error("Error deleting item:",ee)}}function L(){f({title:"",type:"image",category:"General",externalUrl:"",thumbnail:""}),p(null),x(null)}const se=H=>H?H.startsWith("http")?H:`${ad.apiUrl}${H}`:"",Ne=H=>{f(E?{...u,thumbnail:H.thumbnailLink||H.webViewLink||""}:{...u,title:H.name,type:H.mimeType.includes("video")?"video":"image",externalUrl:H.webViewLink,thumbnail:H.thumbnailLink||""}),N(!1),I(!1)},G=T.filter(H=>H.name.toLowerCase().includes(R.toLowerCase()));return s.jsxs(Lr,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Gallery Management"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Manage images and videos on the site gallery"})]}),s.jsxs("button",{onClick:()=>o(!0),className:"bg-[#0d9c06] hover:bg-[#0b7e05] text-white px-4 py-2 rounded-md flex items-center gap-2 font-semibold transition-all shadow-sm cursor-pointer",children:[s.jsx(ea,{size:18}),"Add Item"]})]}),n?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0d9c06]"})}):t.length===0?s.jsxs("div",{className:"bg-white rounded-md border border-dashed border-gray-300 p-12 text-center",children:[s.jsx("div",{className:"bg-gray-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ws,{className:"text-gray-400",size:32})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"No gallery items found"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Start by adding your first image or video"}),s.jsx("button",{onClick:()=>o(!0),className:"text-[#0d9c06] font-semibold hover:underline",children:"Add your first item"})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(H=>s.jsxs("div",{className:"bg-white rounded-md border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow group",children:[s.jsxs("div",{className:"aspect-video relative overflow-hidden bg-gray-100",children:[H.type==="video"?s.jsxs("div",{className:"w-full h-full flex items-center justify-center",children:[H.thumbnail?s.jsx("img",{src:se(H.thumbnail),alt:H.title,className:"w-full h-full object-cover"}):s.jsx(fF,{size:48,className:"text-gray-300"}),s.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:s.jsx("div",{className:"bg-white/90 p-3 rounded-full text-[#0d9c06]",children:s.jsx(Yf,{size:24})})})]}):s.jsx("img",{src:se(H.url),alt:H.title,className:"w-full h-full object-cover transition-transform group-hover:scale-110 duration-500"}),s.jsx("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("button",{onClick:()=>$(H._id),className:"p-2 bg-white/90 text-red-600 rounded-md hover:bg-red-50 shadow-sm transition-colors cursor-pointer",title:"Delete",children:s.jsx(wr,{size:16})})}),s.jsx("div",{className:"absolute bottom-2 left-2",children:s.jsx("span",{className:"px-2 py-1 bg-black/60 backdrop-blur-md text-white text-[10px] uppercase font-bold rounded-md tracking-wider",children:H.category})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-gray-800 truncate mb-1",children:H.title}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[H.type==="image"?s.jsx(Ws,{size:12}):s.jsx(Yf,{size:12}),H.type.charAt(0).toUpperCase()+H.type.slice(1)]}),s.jsx("a",{href:se(H.url),target:"_blank",rel:"noopener noreferrer",className:"text-[#0d9c06] hover:text-[#0b7e05] transition-colors cursor-pointer",children:s.jsx(x1,{size:14})})]})]})]},H._id))}),i&&s.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-100 p-4",children:s.jsxs("div",{className:"bg-white rounded-md shadow-2xl w-full max-w-md max-h-[92vh] flex flex-col overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("h3",{className:"font-bold text-gray-800",children:"Add Gallery Item"}),s.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-gray-200 rounded-md transition-colors cursor-pointer",children:s.jsx(ot,{size:20,className:"text-gray-500"})})]}),s.jsxs("form",{onSubmit:z,className:"p-6 space-y-4 overflow-y-auto flex-1",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Title"}),s.jsx("input",{type:"text",required:!0,value:u.title,onChange:H=>f({...u,title:H.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#0d9c06] outline-none transition-all",placeholder:"e.g. Graduation Batch 2024"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Type"}),s.jsxs("select",{value:u.type,onChange:H=>{f({...u,type:H.target.value}),p(null)},className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#0d9c06] outline-none appearance-none bg-white font-medium",children:[s.jsx("option",{value:"image",children:"Image"}),s.jsx("option",{value:"video",children:"Video"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Category"}),s.jsx("select",{value:u.category,onChange:H=>f({...u,category:H.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#0d9c06] outline-none appearance-none bg-white font-medium",children:Lye.map(H=>s.jsx("option",{value:H,children:H},H))})]})]}),s.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-md border border-gray-200",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Import from"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("a",{href:"/admin/drive",target:"_blank",className:"text-xs text-gray-500 hover:text-[#0d9c06] underline cursor-pointer",children:"Manage Resources Tab"}),s.jsxs("button",{type:"button",onClick:()=>{N(!0),V()},className:"text-sm font-bold text-[#0d9c06] hover:underline flex items-center gap-1",children:[s.jsx(ah,{size:16})," Resources"]})]})]}),u.type==="video"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Video Resource"}),s.jsxs("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md hover:border-[#0d9c06] transition-colors cursor-pointer group",onClick:()=>document.getElementById("video-upload").click(),children:[s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx(Yf,{className:"mx-auto h-12 w-12 text-gray-400 group-hover:text-[#0d9c06] transition-colors"}),s.jsx("div",{className:"flex text-sm text-gray-600",children:s.jsx("label",{className:"relative cursor-pointer rounded-md font-medium text-[#0d9c06] hover:text-[#0b7e05]",children:s.jsx("span",{children:h?h.name:"Upload video from PC"})})}),s.jsx("p",{className:"text-xs text-gray-500",children:"MP4, WebM up to 500MB"})]}),s.jsx("input",{id:"video-upload",type:"file",className:"sr-only",accept:"video/*",onChange:H=>p(H.target.files[0])})]}),s.jsxs("div",{className:"relative flex items-center gap-2",children:[s.jsx("div",{className:"h-px bg-gray-300 flex-1"}),s.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400",children:"OR"}),s.jsx("div",{className:"h-px bg-gray-300 flex-1"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(QT,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 cursor-pointer",size:16}),s.jsx("input",{type:"url",value:u.externalUrl,onChange:H=>f({...u,externalUrl:H.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#0d9c06] outline-none transition-all",placeholder:"External Video URL (YT/Direct)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Thumbnail Resource"}),s.jsxs("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-4 border-2 border-gray-300 border-dashed rounded-md hover:border-[#0d9c06] transition-colors cursor-pointer group",onClick:()=>document.getElementById("thumbnail-upload").click(),children:[s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx(Ws,{className:"mx-auto h-8 w-8 text-gray-400 group-hover:text-[#0d9c06] transition-colors"}),s.jsx("div",{className:"flex text-xs text-gray-600",children:s.jsx("label",{className:"relative cursor-pointer rounded-md font-medium text-[#0d9c06] hover:text-[#0b7e05]",children:s.jsx("span",{children:g?g.name:"Upload thumbnail from PC"})})})]}),s.jsx("input",{id:"thumbnail-upload",type:"file",className:"sr-only",accept:"image/*",onChange:H=>x(H.target.files[0])})]}),s.jsxs("div",{className:"relative flex items-center gap-2 my-2",children:[s.jsx("div",{className:"h-px bg-gray-200 flex-1"}),s.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-300",children:"OR"}),s.jsx("div",{className:"h-px bg-gray-200 flex-1"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(QT,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 cursor-pointer",size:14}),s.jsx("input",{type:"url",value:u.thumbnail,onChange:H=>f({...u,thumbnail:H.target.value}),className:"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-[#0d9c06] outline-none transition-all",placeholder:"Thumbnail URL"})]}),s.jsx("button",{type:"button",onClick:()=>{I(!0),N(!0),V()},className:"p-2 border border-gray-300 rounded-md text-gray-500 hover:text-[#0d9c06] hover:border-[#0d9c06] transition-all",title:"Import thumbnail from Resources",children:s.jsx(ah,{size:18})})]})]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Image Resource"}),s.jsxs("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md hover:border-[#0d9c06] transition-colors cursor-pointer group",onClick:()=>document.getElementById("file-upload").click(),children:[s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx(w1,{className:"mx-auto h-12 w-12 text-gray-400 group-hover:text-[#0d9c06] transition-colors"}),s.jsx("div",{className:"flex text-sm text-gray-600",children:s.jsx("label",{className:"relative cursor-pointer rounded-md font-medium text-[#0d9c06] hover:text-[#0b7e05]",children:s.jsx("span",{children:h?h.name:"Upload a file"})})}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]}),s.jsx("input",{id:"file-upload",type:"file",className:"sr-only",accept:"image/*",onChange:H=>p(H.target.files[0])})]}),u.externalUrl&&s.jsxs("div",{className:"p-2 bg-gray-100 rounded text-xs truncate flex items-center gap-2",children:[s.jsx(x1,{size:12})," ",u.externalUrl]})]}),s.jsxs("div",{className:"pt-4 flex gap-3",children:[s.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md font-semibold hover:bg-gray-50 transition-colors cursor-pointer",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:b,className:"flex-1 px-4 py-2 bg-[#0d9c06] text-white rounded-md font-semibold hover:bg-[#0b7e05] disabled:opacity-50 transition-colors flex items-center justify-center gap-2 cursor-pointer",children:b?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Adding..."]}):"Add Item"})]})]})]})}),S&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-110 p-4",children:s.jsxs("div",{className:"bg-white rounded-md shadow-2xl w-full max-w-5xl max-h-[92vh] overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-800",children:"Import from Resources"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Select a file from your linked Google Drive"})]}),s.jsx("button",{onClick:()=>N(!1),className:"p-2 hover:bg-gray-200 rounded-md transition-colors cursor-pointer",children:s.jsx(ot,{size:20,className:"text-gray-500"})})]}),s.jsx("div",{className:"p-4 border-b border-gray-100",children:s.jsxs("div",{className:"relative",children:[s.jsx(Di,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",value:R,onChange:H=>F(H.target.value),placeholder:"Search resources...",className:"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-md outline-none focus:ring-2 focus:ring-[#0d9c06]"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:C?s.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[s.jsx(e0,{className:"animate-spin text-[#0d9c06] mb-2",size:32}),s.jsx("p",{className:"text-gray-500",children:"Loading resources..."})]}):T.length===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx(ah,{size:48,className:"text-gray-200 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"No resources found"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Please link your Google Drive in the Resources tab."})]}):s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:G.map(H=>s.jsxs("div",{onClick:()=>Ne(H),className:"group border border-gray-200 rounded-md p-3 hover:border-[#0d9c06] hover:bg-[#0d9c06]/5 transition-all cursor-pointer text-center",children:[s.jsx("div",{className:"h-24 bg-gray-50 rounded-md mb-2 flex items-center justify-center overflow-hidden",children:H.thumbnailLink?s.jsx("img",{src:H.thumbnailLink,className:"h-full w-full object-cover",alt:""}):H.mimeType.includes("video")?s.jsx(Yf,{size:32,className:"text-gray-300"}):s.jsx(Ws,{size:32,className:"text-gray-300"})}),s.jsx("p",{className:"text-xs font-semibold text-gray-700 truncate",title:H.name,children:H.name}),s.jsx("p",{className:"text-[10px] text-gray-400 uppercase mt-1",children:H.mimeType.includes("video")?"Video":"Image"})]},H.id))})})]})})]})}function Uye(){const[t,e]=j.useState([]),[n,r]=j.useState(!0),[i,o]=j.useState(""),{addNotification:c}=js(),[u,f]=j.useState(!1),[h,p]=j.useState(!1),[g,x]=j.useState({code:"",type:"percent",value:"",label:"",isActive:!0,expiryDate:""}),b=async()=>{try{r(!0);const O=await(await ze("/api/admin/coupons",{headers:{"x-admin-token":localStorage.getItem("admin_token")}})).json();console.log("AdminCoupons: Fetched coupons:",O),O.ok?e(O.coupons||[]):(console.error("AdminCoupons: Fetch failed:",O.error||O.message),c({type:"error",title:"Error",message:O.error||O.message||"Failed to fetch coupons"}))}catch(T){console.error("AdminCoupons: Network error fetching coupons:",T),c({type:"error",title:"Error",message:"Network error: Failed to fetch coupons"})}finally{r(!1)}};j.useEffect(()=>{b()},[]);const _=async T=>{T.preventDefault();try{const O={...g};O.value=Number(O.value),O.expiryDate||delete O.expiryDate;const C=h?`/api/admin/coupons/${g._id}`:"/api/admin/coupons",M=h?"PUT":"POST";console.log(`AdminCoupons: ${M} to ${C}`,O);const F=await(await ze(C,{method:M,headers:{"Content-Type":"application/json","x-admin-token":localStorage.getItem("admin_token")},body:JSON.stringify(O)})).json();F.ok?(c({type:"success",title:"Success",message:h?"Coupon updated":"Coupon created"}),f(!1),b()):(console.error("AdminCoupons: Submit failed:",F),c({type:"error",title:"Error",message:F.error||F.message||"Action failed"}))}catch(O){console.error("AdminCoupons: Submit error:",O),c({type:"error",title:"Error",message:"Network error or server failed"})}},S=async T=>{if(window.confirm("Are you sure you want to delete this coupon?"))try{(await(await ze(`/api/admin/coupons/${T}`,{method:"DELETE",headers:{"x-admin-token":localStorage.getItem("admin_token")}})).json()).ok&&(c({type:"success",title:"Deleted",message:"Coupon deleted successfully"}),b())}catch{c({type:"error",title:"Error",message:"Failed to delete"})}},N=t.filter(T=>T.code.toLowerCase().includes(i.toLowerCase())||T.label.toLowerCase().includes(i.toLowerCase()));return s.jsx(Lr,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Di,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:"text",placeholder:"Search coupons...",className:"w-full pl-10 pr-4 py-2 bg-white border border-gray-200 rounded-md focus:ring-2 focus:ring-[#0d9c06] focus:border-transparent outline-none transition-all",value:i,onChange:T=>o(T.target.value)})]}),s.jsxs("button",{onClick:()=>{p(!1),x({code:"",type:"percent",value:"",label:"",isActive:!0,expiryDate:""}),f(!0)},className:"flex items-center justify-center gap-2 bg-[#0d9c06] text-white px-4 py-2 rounded-md hover:bg-[#0b7e05] transition-all font-medium whitespace-nowrap",children:[s.jsx(ea,{size:20}),"Add New Coupon"]})]}),n?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0d9c06]"})}):s.jsx("div",{className:"bg-white rounded-md shadow-sm border border-gray-200 overflow-hidden text-sm",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 text-gray-600 font-semibold",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4",children:"Code"}),s.jsx("th",{className:"px-6 py-4",children:"Label"}),s.jsx("th",{className:"px-6 py-4",children:"Type"}),s.jsx("th",{className:"px-6 py-4",children:"Value"}),s.jsx("th",{className:"px-6 py-4",children:"Status"}),s.jsx("th",{className:"px-6 py-4",children:"Expiry"}),s.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:N.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"px-6 py-10 text-center text-gray-500",children:"No coupons found"})}):N.map(T=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 font-bold text-gray-900",children:T.code}),s.jsx("td",{className:"px-6 py-4 text-gray-600",children:T.label}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-bold uppercase ${T.type==="percent"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:T.type})}),s.jsx("td",{className:"px-6 py-4 font-semibold",children:T.type==="percent"?`${T.value}%`:`Rs. ${T.value.toLocaleString()}`}),s.jsx("td",{className:"px-6 py-4 text-center",children:T.isActive?s.jsxs("span",{className:"flex items-center gap-1 text-green-600 font-medium",children:[s.jsx(Nr,{size:14})," Active"]}):s.jsxs("span",{className:"flex items-center gap-1 text-red-500 font-medium",children:[s.jsx(QB,{size:14})," Inactive"]})}),s.jsx("td",{className:"px-6 py-4 text-gray-500",children:T.expiryDate?new Date(T.expiryDate).toLocaleDateString():"No Limit"}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>{p(!0),x(T),f(!0)},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-all",children:s.jsx(G4,{size:18})}),s.jsx("button",{onClick:()=>S(T._id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-all",children:s.jsx(wr,{size:18})})]})})]},T._id))})]})})}),u&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-999",children:s.jsxs("div",{className:"bg-white rounded-md shadow-xl w-full max-w-md overflow-hidden animate-scale-in",children:[s.jsxs("div",{className:"bg-linear-to-r from-[#0d9c06] to-[#0b7e05] px-6 py-4 flex items-center justify-between text-white",children:[s.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[s.jsx(b1,{size:24}),h?"Edit Coupon":"Create New Coupon"]}),s.jsx("button",{onClick:()=>f(!1),className:"hover:bg-white/20 p-1 rounded-md transition-all",children:s.jsx(ea,{size:24,className:"rotate-45"})})]}),s.jsxs("form",{onSubmit:_,className:"p-6 space-y-4",children:[s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{type:"text",required:!0,placeholder:" ",className:"input-field",value:g.code,onChange:T=>x({...g,code:T.target.value})}),s.jsx(b1,{className:"spark-input-icon"}),s.jsx("label",{className:"floating-label",children:"Coupon Code (e.g. SAVE20)"})]}),s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{type:"text",required:!0,placeholder:" ",className:"input-field",value:g.label,onChange:T=>x({...g,label:T.target.value})}),s.jsx("label",{className:"floating-label",children:"Label (e.g. 20% Discount)"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"spark-input-group",children:[s.jsxs("select",{className:"input-field",value:g.type,onChange:T=>x({...g,type:T.target.value}),children:[s.jsx("option",{value:"percent",children:"Percentage (%)"}),s.jsx("option",{value:"fixed",children:"Fixed Amount (Rs.)"})]}),s.jsx("label",{className:"floating-label",children:"Type"})]}),s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{type:"number",required:!0,placeholder:" ",className:"input-field",value:g.value,onChange:T=>x({...g,value:T.target.value})}),s.jsx("label",{className:"floating-label",children:"Value"})]})]}),s.jsxs("div",{className:"spark-input-group",children:[s.jsx("input",{type:"date",placeholder:" ",className:"input-field",value:g.expiryDate?g.expiryDate.split("T")[0]:"",onChange:T=>x({...g,expiryDate:T.target.value})}),s.jsx("label",{className:"floating-label",children:"Expiry Date (Optional)"})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-4 rounded-md",children:[s.jsx("input",{type:"checkbox",id:"isActive",className:"h-5 w-5 rounded border-gray-300 text-[#0d9c06] focus:ring-[#0d9c06] cursor-pointer",checked:g.isActive,onChange:T=>x({...g,isActive:T.target.checked})}),s.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Coupon is active and ready to use"})]}),s.jsx("div",{className:"pt-2",children:s.jsx("button",{type:"submit",className:"spark-submit-btn w-full cursor-pointer",children:h?"Save Changes":"Create Coupon"})})]})]})})]})})}const Vye=nB([{path:"/admin",children:[{path:"login",element:s.jsx(ete,{})},{path:"accept-invite",element:s.jsx(Iye,{})},{element:s.jsx(bye,{}),children:[{index:!0,element:s.jsx(mye,{})},{path:"courses",element:s.jsx(gye,{})},{path:"drive",element:s.jsx(yye,{})},{path:"orders",element:s.jsx(xye,{})},{path:"users",element:s.jsx(vye,{})},{path:"contacts",element:s.jsx(wye,{})},{path:"certificates",element:s.jsx(jye,{})},{path:"badges",element:s.jsx(Nye,{})},{path:"activity",element:s.jsx(Tye,{})},{path:"roles",element:s.jsx(kye,{})},{path:"profile",element:s.jsx(Oye,{})},{path:"gallery",element:s.jsx(zye,{})},{path:"coupons",element:s.jsx(Uye,{})}]}]},{path:"/student",element:s.jsx(Cye,{}),children:[{path:"dashboard",element:s.jsx(_ye,{})},{path:"profile",element:s.jsx(Sye,{})},{path:"course/:courseId",element:s.jsx(Eye,{})}]},{path:"/",element:s.jsx(NZ,{}),children:[{index:!0,element:s.jsx($Z,{})},{path:"about",element:s.jsx(KZ,{})},{path:"courses",element:s.jsx(YZ,{})},{path:"contact",element:s.jsx(Ree,{})},{path:"course/:id",element:s.jsx(Lee,{})},{path:"accessibility",element:s.jsx(zee,{})},{path:"gallery",element:s.jsx(Vee,{})},{path:"reviews",element:s.jsx(Fee,{})},{path:"privacypolicy",element:s.jsx($ee,{})},{path:"termsandconditions",element:s.jsx(qee,{})},{path:"login",element:s.jsx(Gee,{})},{path:"register",element:s.jsx(Wee,{})},{path:"online-courses",element:s.jsx(Pye,{})},{path:"onsite-courses",element:s.jsx(Mye,{})},{path:"online-course/:id",element:s.jsx(Qee,{})},{path:"cart",element:s.jsx(Xee,{})},{path:"checkout",element:s.jsx(Zee,{})}]}]);Q8.createRoot(document.getElementById("root")).render(s.jsx(qt.StrictMode,{children:s.jsx(BZ,{children:s.jsx(Jee,{children:s.jsx(mB,{router:Vye})})})}));
